/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./styles/AudioShaderSync.module.css":
/*!*******************************************!*\
  !*** ./styles/AudioShaderSync.module.css ***!
  \*******************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"container\": \"AudioShaderSync_container__3Mcbn\",\n\t\"pageHeader\": \"AudioShaderSync_pageHeader__Cffit\",\n\t\"header\": \"AudioShaderSync_header__B5WpW\",\n\t\"headerTitle\": \"AudioShaderSync_headerTitle__gI_Ih\",\n\t\"headerTagline\": \"AudioShaderSync_headerTagline__MloPZ\",\n\t\"main\": \"AudioShaderSync_main__OEkW6\",\n\t\"title\": \"AudioShaderSync_title__TaTuX\",\n\t\"subtitle\": \"AudioShaderSync_subtitle__Ydufh\",\n\t\"controlsPanel\": \"AudioShaderSync_controlsPanel__AM3Ce\",\n\t\"fileUploadSection\": \"AudioShaderSync_fileUploadSection__Ex5uC\",\n\t\"fileInputContainer\": \"AudioShaderSync_fileInputContainer__b0CRk\",\n\t\"fileInput\": \"AudioShaderSync_fileInput__znypg\",\n\t\"fileInputLabel\": \"AudioShaderSync_fileInputLabel__e8oVq\",\n\t\"baseButton\": \"AudioShaderSync_baseButton__QDUd_\",\n\t\"playButton\": \"AudioShaderSync_playButton__qolDy AudioShaderSync_baseButton__QDUd_\",\n\t\"play\": \"AudioShaderSync_play__DfUOF\",\n\t\"pause\": \"AudioShaderSync_pause__GVjMP\",\n\t\"controlsRow\": \"AudioShaderSync_controlsRow__7ZJIQ\",\n\t\"controlGroup\": \"AudioShaderSync_controlGroup__vcITj\",\n\t\"controlLabel\": \"AudioShaderSync_controlLabel__uD3cB\",\n\t\"controlSelect\": \"AudioShaderSync_controlSelect__owJVd\",\n\t\"timeControls\": \"AudioShaderSync_timeControls__nZoXZ\",\n\t\"timeDisplay\": \"AudioShaderSync_timeDisplay__Ywqt4\",\n\t\"skipButton\": \"AudioShaderSync_skipButton___8eim\",\n\t\"activeButton\": \"AudioShaderSync_activeButton__25ITK\",\n\t\"customShaderContainer\": \"AudioShaderSync_customShaderContainer__BZK0I\",\n\t\"customShaderSummary\": \"AudioShaderSync_customShaderSummary__NZr8u\",\n\t\"shaderTextarea\": \"AudioShaderSync_shaderTextarea__bNkIj\",\n\t\"visualizationContainer\": \"AudioShaderSync_visualizationContainer__sPjgD\",\n\t\"footer\": \"AudioShaderSync_footer__d9uLB\",\n\t\"navLink\": \"AudioShaderSync_navLink__NDVUo\",\n\t\"fileInfoDisplay\": \"AudioShaderSync_fileInfoDisplay__h7_ko\",\n\t\"loadingMessage\": \"AudioShaderSync_loadingMessage__WfKpA\",\n\t\"shaderButtonsContainer\": \"AudioShaderSync_shaderButtonsContainer__Vnppo\",\n\t\"applyShaderButton\": \"AudioShaderSync_applyShaderButton__R_iUv AudioShaderSync_baseButton__QDUd_\",\n\t\"hasChanges\": \"AudioShaderSync_hasChanges__PpPA0\",\n\t\"pulse\": \"AudioShaderSync_pulse__Jp2Xj\",\n\t\"clearShaderButton\": \"AudioShaderSync_clearShaderButton__lasFG AudioShaderSync_baseButton__QDUd_\",\n\t\"twoColumnLayout\": \"AudioShaderSync_twoColumnLayout__V18Rn\",\n\t\"canvasColumn\": \"AudioShaderSync_canvasColumn__ee4aR\",\n\t\"controlsColumn\": \"AudioShaderSync_controlsColumn__wb_kH\",\n\t\"colorInput\": \"AudioShaderSync_colorInput__GqDJN\",\n\t\"rangeInput\": \"AudioShaderSync_rangeInput__SVNYK\",\n\t\"controlGroupTitle\": \"AudioShaderSync_controlGroupTitle__Y_sA9\",\n\t\"switchLabel\": \"AudioShaderSync_switchLabel__9nKb_\",\n\t\"toggleSwitch\": \"AudioShaderSync_toggleSwitch__jtQYL\",\n\t\"toggleInput\": \"AudioShaderSync_toggleInput__bCb0b\",\n\t\"toggleSlider\": \"AudioShaderSync_toggleSlider__O4pp0\",\n\t\"toggleHint\": \"AudioShaderSync_toggleHint__TVTVR\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvQXVkaW9TaGFkZXJTeW5jLm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8uL3N0eWxlcy9BdWRpb1NoYWRlclN5bmMubW9kdWxlLmNzcz82ZGExIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImNvbnRhaW5lclwiOiBcIkF1ZGlvU2hhZGVyU3luY19jb250YWluZXJfXzNNY2JuXCIsXG5cdFwicGFnZUhlYWRlclwiOiBcIkF1ZGlvU2hhZGVyU3luY19wYWdlSGVhZGVyX19DZmZpdFwiLFxuXHRcImhlYWRlclwiOiBcIkF1ZGlvU2hhZGVyU3luY19oZWFkZXJfX0I1V3BXXCIsXG5cdFwiaGVhZGVyVGl0bGVcIjogXCJBdWRpb1NoYWRlclN5bmNfaGVhZGVyVGl0bGVfX2dJX0loXCIsXG5cdFwiaGVhZGVyVGFnbGluZVwiOiBcIkF1ZGlvU2hhZGVyU3luY19oZWFkZXJUYWdsaW5lX19NbG9QWlwiLFxuXHRcIm1haW5cIjogXCJBdWRpb1NoYWRlclN5bmNfbWFpbl9fT0VrVzZcIixcblx0XCJ0aXRsZVwiOiBcIkF1ZGlvU2hhZGVyU3luY190aXRsZV9fVGFUdVhcIixcblx0XCJzdWJ0aXRsZVwiOiBcIkF1ZGlvU2hhZGVyU3luY19zdWJ0aXRsZV9fWWR1ZmhcIixcblx0XCJjb250cm9sc1BhbmVsXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2NvbnRyb2xzUGFuZWxfX0FNM0NlXCIsXG5cdFwiZmlsZVVwbG9hZFNlY3Rpb25cIjogXCJBdWRpb1NoYWRlclN5bmNfZmlsZVVwbG9hZFNlY3Rpb25fX0V4NXVDXCIsXG5cdFwiZmlsZUlucHV0Q29udGFpbmVyXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2ZpbGVJbnB1dENvbnRhaW5lcl9fYjBDUmtcIixcblx0XCJmaWxlSW5wdXRcIjogXCJBdWRpb1NoYWRlclN5bmNfZmlsZUlucHV0X196bnlwZ1wiLFxuXHRcImZpbGVJbnB1dExhYmVsXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2ZpbGVJbnB1dExhYmVsX19lOG9WcVwiLFxuXHRcImJhc2VCdXR0b25cIjogXCJBdWRpb1NoYWRlclN5bmNfYmFzZUJ1dHRvbl9fUURVZF9cIixcblx0XCJwbGF5QnV0dG9uXCI6IFwiQXVkaW9TaGFkZXJTeW5jX3BsYXlCdXR0b25fX3FvbER5IEF1ZGlvU2hhZGVyU3luY19iYXNlQnV0dG9uX19RRFVkX1wiLFxuXHRcInBsYXlcIjogXCJBdWRpb1NoYWRlclN5bmNfcGxheV9fRGZVT0ZcIixcblx0XCJwYXVzZVwiOiBcIkF1ZGlvU2hhZGVyU3luY19wYXVzZV9fR1ZqTVBcIixcblx0XCJjb250cm9sc1Jvd1wiOiBcIkF1ZGlvU2hhZGVyU3luY19jb250cm9sc1Jvd19fN1pKSVFcIixcblx0XCJjb250cm9sR3JvdXBcIjogXCJBdWRpb1NoYWRlclN5bmNfY29udHJvbEdyb3VwX192Y0lUalwiLFxuXHRcImNvbnRyb2xMYWJlbFwiOiBcIkF1ZGlvU2hhZGVyU3luY19jb250cm9sTGFiZWxfX3VEM2NCXCIsXG5cdFwiY29udHJvbFNlbGVjdFwiOiBcIkF1ZGlvU2hhZGVyU3luY19jb250cm9sU2VsZWN0X19vd0pWZFwiLFxuXHRcInRpbWVDb250cm9sc1wiOiBcIkF1ZGlvU2hhZGVyU3luY190aW1lQ29udHJvbHNfX25ab1haXCIsXG5cdFwidGltZURpc3BsYXlcIjogXCJBdWRpb1NoYWRlclN5bmNfdGltZURpc3BsYXlfX1l3cXQ0XCIsXG5cdFwic2tpcEJ1dHRvblwiOiBcIkF1ZGlvU2hhZGVyU3luY19za2lwQnV0dG9uX19fOGVpbVwiLFxuXHRcImFjdGl2ZUJ1dHRvblwiOiBcIkF1ZGlvU2hhZGVyU3luY19hY3RpdmVCdXR0b25fXzI1SVRLXCIsXG5cdFwiY3VzdG9tU2hhZGVyQ29udGFpbmVyXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2N1c3RvbVNoYWRlckNvbnRhaW5lcl9fQlpLMElcIixcblx0XCJjdXN0b21TaGFkZXJTdW1tYXJ5XCI6IFwiQXVkaW9TaGFkZXJTeW5jX2N1c3RvbVNoYWRlclN1bW1hcnlfX05acjh1XCIsXG5cdFwic2hhZGVyVGV4dGFyZWFcIjogXCJBdWRpb1NoYWRlclN5bmNfc2hhZGVyVGV4dGFyZWFfX2JOa0lqXCIsXG5cdFwidmlzdWFsaXphdGlvbkNvbnRhaW5lclwiOiBcIkF1ZGlvU2hhZGVyU3luY192aXN1YWxpemF0aW9uQ29udGFpbmVyX19zUGpnRFwiLFxuXHRcImZvb3RlclwiOiBcIkF1ZGlvU2hhZGVyU3luY19mb290ZXJfX2Q5dUxCXCIsXG5cdFwibmF2TGlua1wiOiBcIkF1ZGlvU2hhZGVyU3luY19uYXZMaW5rX19ORFZVb1wiLFxuXHRcImZpbGVJbmZvRGlzcGxheVwiOiBcIkF1ZGlvU2hhZGVyU3luY19maWxlSW5mb0Rpc3BsYXlfX2g3X2tvXCIsXG5cdFwibG9hZGluZ01lc3NhZ2VcIjogXCJBdWRpb1NoYWRlclN5bmNfbG9hZGluZ01lc3NhZ2VfX1dmS3BBXCIsXG5cdFwic2hhZGVyQnV0dG9uc0NvbnRhaW5lclwiOiBcIkF1ZGlvU2hhZGVyU3luY19zaGFkZXJCdXR0b25zQ29udGFpbmVyX19WbnBwb1wiLFxuXHRcImFwcGx5U2hhZGVyQnV0dG9uXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2FwcGx5U2hhZGVyQnV0dG9uX19SX2lVdiBBdWRpb1NoYWRlclN5bmNfYmFzZUJ1dHRvbl9fUURVZF9cIixcblx0XCJoYXNDaGFuZ2VzXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2hhc0NoYW5nZXNfX1BwUEEwXCIsXG5cdFwicHVsc2VcIjogXCJBdWRpb1NoYWRlclN5bmNfcHVsc2VfX0pwMlhqXCIsXG5cdFwiY2xlYXJTaGFkZXJCdXR0b25cIjogXCJBdWRpb1NoYWRlclN5bmNfY2xlYXJTaGFkZXJCdXR0b25fX2xhc0ZHIEF1ZGlvU2hhZGVyU3luY19iYXNlQnV0dG9uX19RRFVkX1wiLFxuXHRcInR3b0NvbHVtbkxheW91dFwiOiBcIkF1ZGlvU2hhZGVyU3luY190d29Db2x1bW5MYXlvdXRfX1YxOFJuXCIsXG5cdFwiY2FudmFzQ29sdW1uXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2NhbnZhc0NvbHVtbl9fZWU0YVJcIixcblx0XCJjb250cm9sc0NvbHVtblwiOiBcIkF1ZGlvU2hhZGVyU3luY19jb250cm9sc0NvbHVtbl9fd2Jfa0hcIixcblx0XCJjb2xvcklucHV0XCI6IFwiQXVkaW9TaGFkZXJTeW5jX2NvbG9ySW5wdXRfX0dxREpOXCIsXG5cdFwicmFuZ2VJbnB1dFwiOiBcIkF1ZGlvU2hhZGVyU3luY19yYW5nZUlucHV0X19TVk5ZS1wiLFxuXHRcImNvbnRyb2xHcm91cFRpdGxlXCI6IFwiQXVkaW9TaGFkZXJTeW5jX2NvbnRyb2xHcm91cFRpdGxlX19ZX3NBOVwiLFxuXHRcInN3aXRjaExhYmVsXCI6IFwiQXVkaW9TaGFkZXJTeW5jX3N3aXRjaExhYmVsX185bktiX1wiLFxuXHRcInRvZ2dsZVN3aXRjaFwiOiBcIkF1ZGlvU2hhZGVyU3luY190b2dnbGVTd2l0Y2hfX2p0UVlMXCIsXG5cdFwidG9nZ2xlSW5wdXRcIjogXCJBdWRpb1NoYWRlclN5bmNfdG9nZ2xlSW5wdXRfX2JDYjBiXCIsXG5cdFwidG9nZ2xlU2xpZGVyXCI6IFwiQXVkaW9TaGFkZXJTeW5jX3RvZ2dsZVNsaWRlcl9fTzRwcDBcIixcblx0XCJ0b2dnbGVIaW50XCI6IFwiQXVkaW9TaGFkZXJTeW5jX3RvZ2dsZUhpbnRfX1RWVFZSXCJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./styles/AudioShaderSync.module.css\n");

/***/ }),

/***/ "./styles/ShaderEditor.module.css":
/*!****************************************!*\
  !*** ./styles/ShaderEditor.module.css ***!
  \****************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"shaderEditor\": \"ShaderEditor_shaderEditor__sVsjL\",\n\t\"editorHeader\": \"ShaderEditor_editorHeader__xG9Z3\",\n\t\"editorTitle\": \"ShaderEditor_editorTitle__iJ_w_\",\n\t\"editorInfo\": \"ShaderEditor_editorInfo__EIvmT\",\n\t\"textareaContainer\": \"ShaderEditor_textareaContainer__scIU6\",\n\t\"shaderTextarea\": \"ShaderEditor_shaderTextarea__n0m8X\",\n\t\"buttonContainer\": \"ShaderEditor_buttonContainer__bLrct\",\n\t\"applyButton\": \"ShaderEditor_applyButton__goi6I\",\n\t\"clearButton\": \"ShaderEditor_clearButton__LRS_P\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvU2hhZGVyRWRpdG9yLm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi9zdHlsZXMvU2hhZGVyRWRpdG9yLm1vZHVsZS5jc3M/ODZlMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJzaGFkZXJFZGl0b3JcIjogXCJTaGFkZXJFZGl0b3Jfc2hhZGVyRWRpdG9yX19zVnNqTFwiLFxuXHRcImVkaXRvckhlYWRlclwiOiBcIlNoYWRlckVkaXRvcl9lZGl0b3JIZWFkZXJfX3hHOVozXCIsXG5cdFwiZWRpdG9yVGl0bGVcIjogXCJTaGFkZXJFZGl0b3JfZWRpdG9yVGl0bGVfX2lKX3dfXCIsXG5cdFwiZWRpdG9ySW5mb1wiOiBcIlNoYWRlckVkaXRvcl9lZGl0b3JJbmZvX19FSXZtVFwiLFxuXHRcInRleHRhcmVhQ29udGFpbmVyXCI6IFwiU2hhZGVyRWRpdG9yX3RleHRhcmVhQ29udGFpbmVyX19zY0lVNlwiLFxuXHRcInNoYWRlclRleHRhcmVhXCI6IFwiU2hhZGVyRWRpdG9yX3NoYWRlclRleHRhcmVhX19uMG04WFwiLFxuXHRcImJ1dHRvbkNvbnRhaW5lclwiOiBcIlNoYWRlckVkaXRvcl9idXR0b25Db250YWluZXJfX2JMcmN0XCIsXG5cdFwiYXBwbHlCdXR0b25cIjogXCJTaGFkZXJFZGl0b3JfYXBwbHlCdXR0b25fX2dvaTZJXCIsXG5cdFwiY2xlYXJCdXR0b25cIjogXCJTaGFkZXJFZGl0b3JfY2xlYXJCdXR0b25fX0xSU19QXCJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./styles/ShaderEditor.module.css\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.js */ \"./pages/index.js\");\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZpbmRleC5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUM2QztBQUM3QztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNENBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNENBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNENBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNENBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDRDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDRDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNENBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNENBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8/MTQzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2luZGV4LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFNlcnZlclNpZGVQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG5leHBvcnQgY29uc3QgcmVwb3J0V2ViVml0YWxzID0gaG9pc3QodXNlcmxhbmQsIFwicmVwb3J0V2ViVml0YWxzXCIpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc1JvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFUyxcbiAgICAgICAgcGFnZTogXCIvaW5kZXhcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIEFwcCxcbiAgICAgICAgRG9jdW1lbnRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/AudioShaderControls.js":
/*!*******************************************!*\
  !*** ./components/AudioShaderControls.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/AudioShaderSync.module.css */ \"./styles/AudioShaderSync.module.css\");\n/* harmony import */ var _styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_shaders_ShaderManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/shaders/ShaderManager */ \"./utils/shaders/ShaderManager.js\");\n\n\n\n\n/**\n * AudioShaderControls Component\n * \n * Provides controls for modifying shader parameters in real-time\n * without resetting the animation. Includes controls for:\n * - Colors (main colors, fog, glow)\n * - Camera speed and movement\n * - Visual effects intensity\n * - Audio reactivity parameters\n * - Advanced timing and smoothing parameters\n */ const AudioShaderControls = ({ onUpdateParams, initialParams = {} })=>{\n    // Initialize state with default values or passed initialParams\n    const [params, setParams] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        // Color controls\n        color1: initialParams.color1 || {\n            r: 0.4,\n            g: 1.0,\n            b: 0.2\n        },\n        color2: initialParams.color2 || {\n            r: 0.2,\n            g: 1.0,\n            b: 0.8\n        },\n        color3: initialParams.color3 || {\n            r: 1.0,\n            g: 0.2,\n            b: 0.8\n        },\n        fogColor: initialParams.fogColor || {\n            r: 0.1,\n            g: 0.05,\n            b: 0.15\n        },\n        glowColor: initialParams.glowColor || {\n            r: 0.1,\n            g: 0.05,\n            b: 0.2\n        },\n        // Camera & movement controls\n        cameraSpeed: initialParams.cameraSpeed || 1.2,\n        // Tunnel breathing controls\n        breathingRate: initialParams.breathingRate || 2.0,\n        breathingAmount: initialParams.breathingAmount || 6.0,\n        // Effect intensity\n        transientEffect: initialParams.transientEffect || 0.3,\n        colorIntensity: initialParams.colorIntensity || 0.5,\n        // Audio effect intensity controls\n        energyCameraEffect: initialParams.energyCameraEffect || 0.05,\n        energyColorEffect: initialParams.energyColorEffect || 1.0,\n        transientCameraEffect: initialParams.transientCameraEffect || 1.0,\n        transientColorEffect: initialParams.transientColorEffect || 1.0,\n        // New advanced camera movement parameters\n        baseCameraSpeed: initialParams.baseCameraSpeed || 1.2,\n        maxCameraSpeedBoostFactor: initialParams.maxCameraSpeedBoostFactor || 2.5,\n        transientThresholdForSpeedBoost: initialParams.transientThresholdForSpeedBoost || 0.1,\n        energyBoostFactor: initialParams.energyBoostFactor || 0.05,\n        // Timing and smoothing parameters\n        cameraSpeedSmoothingDuration: initialParams.cameraSpeedSmoothingDuration || 300,\n        colorSmoothingDuration: initialParams.colorSmoothingDuration || 1000,\n        smoothingDuration: initialParams.smoothingDuration || 700,\n        // Color mode toggle\n        useColorControls: initialParams.useColorControls !== undefined ? initialParams.useColorControls : true\n    });\n    // Track if any parameter has been changed since last apply\n    const [hasChanges, setHasChanges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Helper to convert RGB [0-1] to hex color string for input elements\n    const rgbToHex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((r, g, b)=>{\n        const toHex = (value)=>{\n            const hex = Math.round(value * 255).toString(16);\n            return hex.length === 1 ? \"0\" + hex : hex;\n        };\n        return `#${toHex(r)}${toHex(g)}${toHex(b)}`;\n    }, []);\n    // Helper to convert hex color string to RGB [0-1] values\n    const hexToRgb = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((hex)=>{\n        // Remove # if present\n        hex = hex.replace(\"#\", \"\");\n        // Parse the hex values\n        const r = parseInt(hex.substring(0, 2), 16) / 255;\n        const g = parseInt(hex.substring(2, 4), 16) / 255;\n        const b = parseInt(hex.substring(4, 6), 16) / 255;\n        return {\n            r,\n            g,\n            b\n        };\n    }, []);\n    // Apply all current parameters to the shader\n    const applyChanges = ()=>{\n        // First, update via the ShaderManager's updateShaderParams function\n        (0,_utils_shaders_ShaderManager__WEBPACK_IMPORTED_MODULE_3__.updateShaderParams)(params);\n        // Then, inform the parent component if needed\n        if (onUpdateParams) {\n            onUpdateParams(params);\n        }\n        console.log(\"[SHADER CONTROLS] Applied all parameters:\", params);\n        setHasChanges(false);\n    };\n    // Handle color input changes\n    const handleColorChange = (colorName, hexValue)=>{\n        const rgbValue = hexToRgb(hexValue);\n        setParams((prevParams)=>{\n            const newParams = {\n                ...prevParams,\n                [colorName]: rgbValue\n            };\n            setHasChanges(true);\n            return newParams;\n        });\n    };\n    // Handle slider input changes\n    const handleSliderChange = (paramName, value)=>{\n        setParams((prevParams)=>{\n            // Special handling for boolean toggle values\n            const newValue = paramName === \"useColorControls\" ? value : parseFloat(value);\n            const newParams = {\n                ...prevParams,\n                [paramName]: newValue\n            };\n            setHasChanges(true);\n            return newParams;\n        });\n    };\n    // Randomize all colors with one click\n    const randomizeColors = ()=>{\n        const getRandomColor = ()=>({\n                r: Math.random(),\n                g: Math.random(),\n                b: Math.random()\n            });\n        // Fog colors are generally darker\n        const getRandomFogColor = ()=>({\n                r: Math.random() * 0.3,\n                g: Math.random() * 0.2,\n                b: Math.random() * 0.4\n            });\n        // Glow colors are more vibrant\n        const getRandomGlowColor = ()=>({\n                r: 0.1 + Math.random() * 0.4,\n                g: 0.1 + Math.random() * 0.3,\n                b: 0.1 + Math.random() * 0.5\n            });\n        const newParams = {\n            ...params,\n            color1: getRandomColor(),\n            color2: getRandomColor(),\n            color3: getRandomColor(),\n            fogColor: getRandomFogColor(),\n            glowColor: getRandomGlowColor()\n        };\n        setParams(newParams);\n        setHasChanges(true);\n    };\n    // Randomize all parameters\n    const randomizeAllSettings = ()=>{\n        // Helper for generating random values within ranges\n        const randomInRange = (min, max)=>min + Math.random() * (max - min);\n        // Random color generators (reused from randomizeColors)\n        const getRandomColor = ()=>({\n                r: Math.random(),\n                g: Math.random(),\n                b: Math.random()\n            });\n        const getRandomFogColor = ()=>({\n                r: Math.random() * 0.3,\n                g: Math.random() * 0.2,\n                b: Math.random() * 0.4\n            });\n        const getRandomGlowColor = ()=>({\n                r: 0.1 + Math.random() * 0.4,\n                g: 0.1 + Math.random() * 0.3,\n                b: 0.1 + Math.random() * 0.5\n            });\n        // Create new random parameters\n        const newParams = {\n            // Random colors\n            color1: getRandomColor(),\n            color2: getRandomColor(),\n            color3: getRandomColor(),\n            fogColor: getRandomFogColor(),\n            glowColor: getRandomGlowColor(),\n            // Random camera & movement controls\n            cameraSpeed: randomInRange(0.0, 3.0),\n            // Random tunnel breathing controls\n            breathingRate: randomInRange(0.1, 5.0),\n            breathingAmount: randomInRange(0, 15.0),\n            // Random effect intensity\n            transientEffect: randomInRange(0, 1.0),\n            colorIntensity: randomInRange(0.0, 0.2),\n            // Random audio effect intensity controls\n            energyCameraEffect: randomInRange(0, 0.01),\n            energyColorEffect: randomInRange(0, 0.5),\n            transientCameraEffect: parseFloat(randomInRange(0, 0.1).toFixed(3)),\n            transientColorEffect: randomInRange(0, 1.0),\n            // Random advanced camera movement parameters\n            baseCameraSpeed: randomInRange(0.5, 3.0),\n            maxCameraSpeedBoostFactor: randomInRange(1.0, 5.0),\n            transientThresholdForSpeedBoost: randomInRange(0, 0.5),\n            energyBoostFactor: randomInRange(0, 0.3),\n            // Random timing and smoothing parameters\n            cameraSpeedSmoothingDuration: Math.floor(randomInRange(100, 1000)),\n            colorSmoothingDuration: Math.floor(randomInRange(200, 2000)),\n            smoothingDuration: Math.floor(randomInRange(200, 1500)),\n            // Random boolean for color mode toggle\n            useColorControls: Math.random() > 0.5\n        };\n        setParams(newParams);\n        setHasChanges(true);\n        console.log(\"[SHADER CONTROLS] Randomized all parameters:\", newParams);\n    };\n    // Reset to default values\n    const resetToDefaults = ()=>{\n        const defaultParams = {\n            // Default color controls\n            color1: {\n                r: 0.4,\n                g: 1.0,\n                b: 0.2\n            },\n            color2: {\n                r: 0.2,\n                g: 1.0,\n                b: 0.8\n            },\n            color3: {\n                r: 1.0,\n                g: 0.2,\n                b: 0.8\n            },\n            fogColor: {\n                r: 0.1,\n                g: 0.05,\n                b: 0.15\n            },\n            glowColor: {\n                r: 0.1,\n                g: 0.05,\n                b: 0.2\n            },\n            // Default camera & movement\n            cameraSpeed: 1.2,\n            // Default breathing settings\n            breathingRate: 2.0,\n            breathingAmount: 6.0,\n            transientEffect: 0.3,\n            colorIntensity: 0.5,\n            // Audio effect intensity controls\n            energyCameraEffect: 0.05,\n            energyColorEffect: 1.0,\n            transientCameraEffect: 1.0,\n            transientColorEffect: 1.0,\n            // Advanced camera movement parameters\n            baseCameraSpeed: 1.2,\n            maxCameraSpeedBoostFactor: 2.5,\n            transientThresholdForSpeedBoost: 0.1,\n            energyBoostFactor: 0.05,\n            // Timing and smoothing parameters\n            cameraSpeedSmoothingDuration: 300,\n            colorSmoothingDuration: 1000,\n            smoothingDuration: 700,\n            // Color mode toggle\n            useColorControls: true\n        };\n        setParams(defaultParams);\n        setHasChanges(true);\n    };\n    // Auto-apply changes when component mounts to ensure initial values are applied\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        applyChanges();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsPanel),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroupTitle),\n                children: \"Shader Controls\"\n            }, void 0, false, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 282,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().shaderButtonsContainer),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: randomizeColors,\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().applyShaderButton),\n                        children: \"Randomize Colors\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 286,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: randomizeAllSettings,\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().applyShaderButton),\n                        children: \"Randomize All Settings\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 292,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: resetToDefaults,\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().clearShaderButton),\n                        children: \"Reset Defaults\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 298,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: applyChanges,\n                        className: `${(_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().applyShaderButton)} ${hasChanges ? (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().hasChanges) : \"\"}`,\n                        disabled: !hasChanges,\n                        children: \"Apply Changes\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 304,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 285,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderContainer),\n                open: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderSummary),\n                        children: \"Color Controls\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 315,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().switchLabel),\n                                children: [\n                                    \"Use Selected Colors Only:\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleSwitch),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: params.useColorControls,\n                                                onChange: (e)=>handleSliderChange(\"useColorControls\", e.target.checked),\n                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleInput)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                                lineNumber: 325,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleSlider)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                                lineNumber: 331,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 324,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleHint),\n                                        children: params.useColorControls ? \"ON - Using selected colors only\" : \"OFF - Using random colors\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 333,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 322,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 321,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 320,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                    children: [\n                                        \"Primary Color:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"color\",\n                                            value: rgbToHex(params.color1.r, params.color1.g, params.color1.b),\n                                            onChange: (e)=>handleColorChange(\"color1\", e.target.value),\n                                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().colorInput)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                            lineNumber: 344,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 342,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 341,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                    children: [\n                                        \"Secondary Color:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"color\",\n                                            value: rgbToHex(params.color2.r, params.color2.g, params.color2.b),\n                                            onChange: (e)=>handleColorChange(\"color2\", e.target.value),\n                                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().colorInput)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                            lineNumber: 356,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 354,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 353,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                    children: [\n                                        \"Tertiary Color:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"color\",\n                                            value: rgbToHex(params.color3.r, params.color3.g, params.color3.b),\n                                            onChange: (e)=>handleColorChange(\"color3\", e.target.value),\n                                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().colorInput)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                            lineNumber: 368,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 366,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 365,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 340,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                    children: [\n                                        \"Fog Color:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"color\",\n                                            value: rgbToHex(params.fogColor.r, params.fogColor.g, params.fogColor.b),\n                                            onChange: (e)=>handleColorChange(\"fogColor\", e.target.value),\n                                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().colorInput)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                            lineNumber: 382,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 380,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 379,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                    children: [\n                                        \"Glow Color:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"color\",\n                                            value: rgbToHex(params.glowColor.r, params.glowColor.g, params.glowColor.b),\n                                            onChange: (e)=>handleColorChange(\"glowColor\", e.target.value),\n                                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().colorInput)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                            lineNumber: 394,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 392,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 391,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 378,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 314,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderContainer),\n                open: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderSummary),\n                        children: \"Motion & Effects\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 407,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Camera Speed: \",\n                                    params.cameraSpeed.toFixed(2),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.5\",\n                                        max: \"3.0\",\n                                        step: \"0.1\",\n                                        value: params.cameraSpeed,\n                                        onChange: (e)=>handleSliderChange(\"cameraSpeed\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 414,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 412,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 411,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 410,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderContainer),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderSummary),\n                                children: \"Tunnel Breathing Effect\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 429,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                    style: {\n                                        width: \"100%\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                        children: [\n                                            \"Breathing Rate: \",\n                                            params.breathingRate.toFixed(2),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"range\",\n                                                min: \"0.1\",\n                                                max: \"5.0\",\n                                                step: \"0.1\",\n                                                value: params.breathingRate,\n                                                onChange: (e)=>handleSliderChange(\"breathingRate\", e.target.value),\n                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                                lineNumber: 436,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 434,\n                                        columnNumber: 29\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 433,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 432,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                                    style: {\n                                        width: \"100%\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                        children: [\n                                            \"Breathing Amount: \",\n                                            params.breathingAmount.toFixed(2),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"range\",\n                                                min: \"0.0\",\n                                                max: \"15.0\",\n                                                step: \"0.5\",\n                                                value: params.breathingAmount,\n                                                onChange: (e)=>handleSliderChange(\"breathingAmount\", e.target.value),\n                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                                lineNumber: 452,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 450,\n                                        columnNumber: 29\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                    lineNumber: 449,\n                                    columnNumber: 25\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 448,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 428,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Transient Effect: \",\n                                    params.transientEffect.toFixed(1),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"1.0\",\n                                        step: \"0.1\",\n                                        value: params.transientEffect,\n                                        onChange: (e)=>handleSliderChange(\"transientEffect\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 470,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 468,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 467,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 466,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Color Intensity: \",\n                                    params.colorIntensity.toFixed(2),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"1.0\",\n                                        step: \"0.01\",\n                                        value: params.colorIntensity,\n                                        onChange: (e)=>handleSliderChange(\"colorIntensity\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 487,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 485,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 484,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 483,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 406,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderContainer),\n                open: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderSummary),\n                        children: \"Audio Effect Intensity\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 503,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Energy Camera Effect: \",\n                                    params.energyCameraEffect.toFixed(3),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.000\",\n                                        max: \"0.010\",\n                                        step: \"0.001\",\n                                        value: params.energyCameraEffect,\n                                        onChange: (e)=>handleSliderChange(\"energyCameraEffect\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 510,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 508,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 507,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 506,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Energy Color Effect: \",\n                                    params.energyColorEffect.toFixed(1),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"1.0\",\n                                        step: \"0.1\",\n                                        value: params.energyColorEffect,\n                                        onChange: (e)=>handleSliderChange(\"energyColorEffect\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 526,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 524,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 523,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 522,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Transient Camera Effect: \",\n                                    params.transientCameraEffect.toFixed(3),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"0.2\",\n                                        step: \"0.001\",\n                                        value: params.transientCameraEffect,\n                                        onChange: (e)=>handleSliderChange(\"transientCameraEffect\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 542,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 540,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 539,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 538,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Transient Color Effect: \",\n                                    params.transientColorEffect.toFixed(1),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"1.0\",\n                                        step: \"0.1\",\n                                        value: params.transientColorEffect,\n                                        onChange: (e)=>handleSliderChange(\"transientColorEffect\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 558,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 556,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 555,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 554,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 502,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderContainer),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderSummary),\n                        children: \"Advanced Camera Movement\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 574,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Base Camera Speed: \",\n                                    params.baseCameraSpeed.toFixed(1),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.5\",\n                                        max: \"3.0\",\n                                        step: \"0.1\",\n                                        value: params.baseCameraSpeed,\n                                        onChange: (e)=>handleSliderChange(\"baseCameraSpeed\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 581,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 579,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 578,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 577,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Max Speed Boost Factor: \",\n                                    params.maxCameraSpeedBoostFactor.toFixed(1),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"1.0\",\n                                        max: \"5.0\",\n                                        step: \"0.1\",\n                                        value: params.maxCameraSpeedBoostFactor,\n                                        onChange: (e)=>handleSliderChange(\"maxCameraSpeedBoostFactor\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 597,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 595,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 594,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 593,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Transient Threshold: \",\n                                    params.transientThresholdForSpeedBoost.toFixed(2),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"0.5\",\n                                        step: \"0.01\",\n                                        value: params.transientThresholdForSpeedBoost,\n                                        onChange: (e)=>handleSliderChange(\"transientThresholdForSpeedBoost\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 613,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 611,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 610,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 609,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Energy Boost Factor: \",\n                                    params.energyBoostFactor.toFixed(2),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0.0\",\n                                        max: \"0.3\",\n                                        step: \"0.01\",\n                                        value: params.energyBoostFactor,\n                                        onChange: (e)=>handleSliderChange(\"energyBoostFactor\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 629,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 627,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 626,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 625,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 573,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderContainer),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().customShaderSummary),\n                        children: \"Timing & Smoothing\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 645,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Camera Speed Smoothing: \",\n                                    params.cameraSpeedSmoothingDuration,\n                                    \"ms\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"100\",\n                                        max: \"1000\",\n                                        step: \"50\",\n                                        value: params.cameraSpeedSmoothingDuration,\n                                        onChange: (e)=>handleSliderChange(\"cameraSpeedSmoothingDuration\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 652,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 650,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 649,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 648,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"Color Smoothing: \",\n                                    params.colorSmoothingDuration,\n                                    \"ms\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"200\",\n                                        max: \"2000\",\n                                        step: \"100\",\n                                        value: params.colorSmoothingDuration,\n                                        onChange: (e)=>handleSliderChange(\"colorSmoothingDuration\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 668,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 666,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 665,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 664,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlsRow),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlGroup),\n                            style: {\n                                width: \"100%\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().controlLabel),\n                                children: [\n                                    \"General Smoothing: \",\n                                    params.smoothingDuration,\n                                    \"ms\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"200\",\n                                        max: \"1500\",\n                                        step: \"100\",\n                                        value: params.smoothingDuration,\n                                        onChange: (e)=>handleSliderChange(\"smoothingDuration\", e.target.value),\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_2___default().rangeInput)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                        lineNumber: 684,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                                lineNumber: 682,\n                                columnNumber: 25\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                            lineNumber: 681,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                        lineNumber: 680,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n                lineNumber: 644,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/AudioShaderControls.js\",\n        lineNumber: 281,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AudioShaderControls);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLO3dDQUN2RXFDLFdBQVcxRSxzRkFBaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRNUQ7QUFFQSxpRUFBZUUsbUJBQW1CQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi9jb21wb25lbnRzL0F1ZGlvU2hhZGVyQ29udHJvbHMuanM/YjFiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uL3N0eWxlcy9BdWRpb1NoYWRlclN5bmMubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyB1cGRhdGVTaGFkZXJQYXJhbXMgfSBmcm9tICcuLi91dGlscy9zaGFkZXJzL1NoYWRlck1hbmFnZXInO1xuXG4vKipcbiAqIEF1ZGlvU2hhZGVyQ29udHJvbHMgQ29tcG9uZW50XG4gKiBcbiAqIFByb3ZpZGVzIGNvbnRyb2xzIGZvciBtb2RpZnlpbmcgc2hhZGVyIHBhcmFtZXRlcnMgaW4gcmVhbC10aW1lXG4gKiB3aXRob3V0IHJlc2V0dGluZyB0aGUgYW5pbWF0aW9uLiBJbmNsdWRlcyBjb250cm9scyBmb3I6XG4gKiAtIENvbG9ycyAobWFpbiBjb2xvcnMsIGZvZywgZ2xvdylcbiAqIC0gQ2FtZXJhIHNwZWVkIGFuZCBtb3ZlbWVudFxuICogLSBWaXN1YWwgZWZmZWN0cyBpbnRlbnNpdHlcbiAqIC0gQXVkaW8gcmVhY3Rpdml0eSBwYXJhbWV0ZXJzXG4gKiAtIEFkdmFuY2VkIHRpbWluZyBhbmQgc21vb3RoaW5nIHBhcmFtZXRlcnNcbiAqL1xuY29uc3QgQXVkaW9TaGFkZXJDb250cm9scyA9ICh7XG4gICAgb25VcGRhdGVQYXJhbXMsXG4gICAgaW5pdGlhbFBhcmFtcyA9IHt9XG59KSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSB3aXRoIGRlZmF1bHQgdmFsdWVzIG9yIHBhc3NlZCBpbml0aWFsUGFyYW1zXG4gICAgY29uc3QgW3BhcmFtcywgc2V0UGFyYW1zXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgLy8gQ29sb3IgY29udHJvbHNcbiAgICAgICAgY29sb3IxOiBpbml0aWFsUGFyYW1zLmNvbG9yMSB8fCB7IHI6IDAuNCwgZzogMS4wLCBiOiAwLjIgfSxcbiAgICAgICAgY29sb3IyOiBpbml0aWFsUGFyYW1zLmNvbG9yMiB8fCB7IHI6IDAuMiwgZzogMS4wLCBiOiAwLjggfSxcbiAgICAgICAgY29sb3IzOiBpbml0aWFsUGFyYW1zLmNvbG9yMyB8fCB7IHI6IDEuMCwgZzogMC4yLCBiOiAwLjggfSxcbiAgICAgICAgZm9nQ29sb3I6IGluaXRpYWxQYXJhbXMuZm9nQ29sb3IgfHwgeyByOiAwLjEsIGc6IDAuMDUsIGI6IDAuMTUgfSxcbiAgICAgICAgZ2xvd0NvbG9yOiBpbml0aWFsUGFyYW1zLmdsb3dDb2xvciB8fCB7IHI6IDAuMSwgZzogMC4wNSwgYjogMC4yIH0sXG5cbiAgICAgICAgLy8gQ2FtZXJhICYgbW92ZW1lbnQgY29udHJvbHNcbiAgICAgICAgY2FtZXJhU3BlZWQ6IGluaXRpYWxQYXJhbXMuY2FtZXJhU3BlZWQgfHwgMS4yLFxuXG4gICAgICAgIC8vIFR1bm5lbCBicmVhdGhpbmcgY29udHJvbHNcbiAgICAgICAgYnJlYXRoaW5nUmF0ZTogaW5pdGlhbFBhcmFtcy5icmVhdGhpbmdSYXRlIHx8IDIuMCxcbiAgICAgICAgYnJlYXRoaW5nQW1vdW50OiBpbml0aWFsUGFyYW1zLmJyZWF0aGluZ0Ftb3VudCB8fCA2LjAsXG5cbiAgICAgICAgLy8gRWZmZWN0IGludGVuc2l0eVxuICAgICAgICB0cmFuc2llbnRFZmZlY3Q6IGluaXRpYWxQYXJhbXMudHJhbnNpZW50RWZmZWN0IHx8IDAuMyxcbiAgICAgICAgY29sb3JJbnRlbnNpdHk6IGluaXRpYWxQYXJhbXMuY29sb3JJbnRlbnNpdHkgfHwgMC41LFxuXG4gICAgICAgIC8vIEF1ZGlvIGVmZmVjdCBpbnRlbnNpdHkgY29udHJvbHNcbiAgICAgICAgZW5lcmd5Q2FtZXJhRWZmZWN0OiBpbml0aWFsUGFyYW1zLmVuZXJneUNhbWVyYUVmZmVjdCB8fCAwLjA1LFxuICAgICAgICBlbmVyZ3lDb2xvckVmZmVjdDogaW5pdGlhbFBhcmFtcy5lbmVyZ3lDb2xvckVmZmVjdCB8fCAxLjAsXG4gICAgICAgIHRyYW5zaWVudENhbWVyYUVmZmVjdDogaW5pdGlhbFBhcmFtcy50cmFuc2llbnRDYW1lcmFFZmZlY3QgfHwgMS4wLFxuICAgICAgICB0cmFuc2llbnRDb2xvckVmZmVjdDogaW5pdGlhbFBhcmFtcy50cmFuc2llbnRDb2xvckVmZmVjdCB8fCAxLjAsXG5cbiAgICAgICAgLy8gTmV3IGFkdmFuY2VkIGNhbWVyYSBtb3ZlbWVudCBwYXJhbWV0ZXJzXG4gICAgICAgIGJhc2VDYW1lcmFTcGVlZDogaW5pdGlhbFBhcmFtcy5iYXNlQ2FtZXJhU3BlZWQgfHwgMS4yLFxuICAgICAgICBtYXhDYW1lcmFTcGVlZEJvb3N0RmFjdG9yOiBpbml0aWFsUGFyYW1zLm1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3IgfHwgMi41LFxuICAgICAgICB0cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0OiBpbml0aWFsUGFyYW1zLnRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3QgfHwgMC4xLFxuICAgICAgICBlbmVyZ3lCb29zdEZhY3RvcjogaW5pdGlhbFBhcmFtcy5lbmVyZ3lCb29zdEZhY3RvciB8fCAwLjA1LFxuXG4gICAgICAgIC8vIFRpbWluZyBhbmQgc21vb3RoaW5nIHBhcmFtZXRlcnNcbiAgICAgICAgY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbjogaW5pdGlhbFBhcmFtcy5jYW1lcmFTcGVlZFNtb290aGluZ0R1cmF0aW9uIHx8IDMwMCxcbiAgICAgICAgY29sb3JTbW9vdGhpbmdEdXJhdGlvbjogaW5pdGlhbFBhcmFtcy5jb2xvclNtb290aGluZ0R1cmF0aW9uIHx8IDEwMDAsXG4gICAgICAgIHNtb290aGluZ0R1cmF0aW9uOiBpbml0aWFsUGFyYW1zLnNtb290aGluZ0R1cmF0aW9uIHx8IDcwMCxcblxuICAgICAgICAvLyBDb2xvciBtb2RlIHRvZ2dsZVxuICAgICAgICB1c2VDb2xvckNvbnRyb2xzOiBpbml0aWFsUGFyYW1zLnVzZUNvbG9yQ29udHJvbHMgIT09IHVuZGVmaW5lZCA/IGluaXRpYWxQYXJhbXMudXNlQ29sb3JDb250cm9scyA6IHRydWUsXG4gICAgfSk7XG5cbiAgICAvLyBUcmFjayBpZiBhbnkgcGFyYW1ldGVyIGhhcyBiZWVuIGNoYW5nZWQgc2luY2UgbGFzdCBhcHBseVxuICAgIGNvbnN0IFtoYXNDaGFuZ2VzLCBzZXRIYXNDaGFuZ2VzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIC8vIEhlbHBlciB0byBjb252ZXJ0IFJHQiBbMC0xXSB0byBoZXggY29sb3Igc3RyaW5nIGZvciBpbnB1dCBlbGVtZW50c1xuICAgIGNvbnN0IHJnYlRvSGV4ID0gdXNlQ2FsbGJhY2soKHIsIGcsIGIpID0+IHtcbiAgICAgICAgY29uc3QgdG9IZXggPSAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhleCA9IE1hdGgucm91bmQodmFsdWUgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gJzAnICsgaGV4IDogaGV4O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYCMke3RvSGV4KHIpfSR7dG9IZXgoZyl9JHt0b0hleChiKX1gO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEhlbHBlciB0byBjb252ZXJ0IGhleCBjb2xvciBzdHJpbmcgdG8gUkdCIFswLTFdIHZhbHVlc1xuICAgIGNvbnN0IGhleFRvUmdiID0gdXNlQ2FsbGJhY2soKGhleCkgPT4ge1xuICAgICAgICAvLyBSZW1vdmUgIyBpZiBwcmVzZW50XG4gICAgICAgIGhleCA9IGhleC5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAgIC8vIFBhcnNlIHRoZSBoZXggdmFsdWVzXG4gICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGcgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDIsIDQpLCAxNikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDQsIDYpLCAxNikgLyAyNTU7XG5cbiAgICAgICAgcmV0dXJuIHsgciwgZywgYiB9O1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEFwcGx5IGFsbCBjdXJyZW50IHBhcmFtZXRlcnMgdG8gdGhlIHNoYWRlclxuICAgIGNvbnN0IGFwcGx5Q2hhbmdlcyA9ICgpID0+IHtcbiAgICAgICAgLy8gRmlyc3QsIHVwZGF0ZSB2aWEgdGhlIFNoYWRlck1hbmFnZXIncyB1cGRhdGVTaGFkZXJQYXJhbXMgZnVuY3Rpb25cbiAgICAgICAgdXBkYXRlU2hhZGVyUGFyYW1zKHBhcmFtcyk7XG5cbiAgICAgICAgLy8gVGhlbiwgaW5mb3JtIHRoZSBwYXJlbnQgY29tcG9uZW50IGlmIG5lZWRlZFxuICAgICAgICBpZiAob25VcGRhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgIG9uVXBkYXRlUGFyYW1zKHBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnW1NIQURFUiBDT05UUk9MU10gQXBwbGllZCBhbGwgcGFyYW1ldGVyczonLCBwYXJhbXMpO1xuICAgICAgICBzZXRIYXNDaGFuZ2VzKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGNvbG9yIGlucHV0IGNoYW5nZXNcbiAgICBjb25zdCBoYW5kbGVDb2xvckNoYW5nZSA9IChjb2xvck5hbWUsIGhleFZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJnYlZhbHVlID0gaGV4VG9SZ2IoaGV4VmFsdWUpO1xuXG4gICAgICAgIHNldFBhcmFtcyhwcmV2UGFyYW1zID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2UGFyYW1zLFxuICAgICAgICAgICAgICAgIFtjb2xvck5hbWVdOiByZ2JWYWx1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2V0SGFzQ2hhbmdlcyh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdQYXJhbXM7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgc2xpZGVyIGlucHV0IGNoYW5nZXNcbiAgICBjb25zdCBoYW5kbGVTbGlkZXJDaGFuZ2UgPSAocGFyYW1OYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICBzZXRQYXJhbXMocHJldlBhcmFtcyA9PiB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBib29sZWFuIHRvZ2dsZSB2YWx1ZXNcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcGFyYW1OYW1lID09PSAndXNlQ29sb3JDb250cm9scycgPyB2YWx1ZSA6IHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4ucHJldlBhcmFtcyxcbiAgICAgICAgICAgICAgICBbcGFyYW1OYW1lXTogbmV3VmFsdWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3UGFyYW1zO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gUmFuZG9taXplIGFsbCBjb2xvcnMgd2l0aCBvbmUgY2xpY2tcbiAgICBjb25zdCByYW5kb21pemVDb2xvcnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGdldFJhbmRvbUNvbG9yID0gKCkgPT4gKHtcbiAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCksXG4gICAgICAgICAgICBnOiBNYXRoLnJhbmRvbSgpLFxuICAgICAgICAgICAgYjogTWF0aC5yYW5kb20oKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGb2cgY29sb3JzIGFyZSBnZW5lcmFsbHkgZGFya2VyXG4gICAgICAgIGNvbnN0IGdldFJhbmRvbUZvZ0NvbG9yID0gKCkgPT4gKHtcbiAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAwLjMsXG4gICAgICAgICAgICBnOiBNYXRoLnJhbmRvbSgpICogMC4yLFxuICAgICAgICAgICAgYjogTWF0aC5yYW5kb20oKSAqIDAuNFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBHbG93IGNvbG9ycyBhcmUgbW9yZSB2aWJyYW50XG4gICAgICAgIGNvbnN0IGdldFJhbmRvbUdsb3dDb2xvciA9ICgpID0+ICh7XG4gICAgICAgICAgICByOiAwLjEgKyBNYXRoLnJhbmRvbSgpICogMC40LFxuICAgICAgICAgICAgZzogMC4xICsgTWF0aC5yYW5kb20oKSAqIDAuMyxcbiAgICAgICAgICAgIGI6IDAuMSArIE1hdGgucmFuZG9tKCkgKiAwLjVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0ge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgY29sb3IxOiBnZXRSYW5kb21Db2xvcigpLFxuICAgICAgICAgICAgY29sb3IyOiBnZXRSYW5kb21Db2xvcigpLFxuICAgICAgICAgICAgY29sb3IzOiBnZXRSYW5kb21Db2xvcigpLFxuICAgICAgICAgICAgZm9nQ29sb3I6IGdldFJhbmRvbUZvZ0NvbG9yKCksXG4gICAgICAgICAgICBnbG93Q29sb3I6IGdldFJhbmRvbUdsb3dDb2xvcigpXG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0UGFyYW1zKG5ld1BhcmFtcyk7XG4gICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XG4gICAgfTtcblxuICAgIC8vIFJhbmRvbWl6ZSBhbGwgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHJhbmRvbWl6ZUFsbFNldHRpbmdzID0gKCkgPT4ge1xuICAgICAgICAvLyBIZWxwZXIgZm9yIGdlbmVyYXRpbmcgcmFuZG9tIHZhbHVlcyB3aXRoaW4gcmFuZ2VzXG4gICAgICAgIGNvbnN0IHJhbmRvbUluUmFuZ2UgPSAobWluLCBtYXgpID0+IG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcblxuICAgICAgICAvLyBSYW5kb20gY29sb3IgZ2VuZXJhdG9ycyAocmV1c2VkIGZyb20gcmFuZG9taXplQ29sb3JzKVxuICAgICAgICBjb25zdCBnZXRSYW5kb21Db2xvciA9ICgpID0+ICh7XG4gICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpLFxuICAgICAgICAgICAgZzogTWF0aC5yYW5kb20oKSxcbiAgICAgICAgICAgIGI6IE1hdGgucmFuZG9tKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ2V0UmFuZG9tRm9nQ29sb3IgPSAoKSA9PiAoe1xuICAgICAgICAgICAgcjogTWF0aC5yYW5kb20oKSAqIDAuMyxcbiAgICAgICAgICAgIGc6IE1hdGgucmFuZG9tKCkgKiAwLjIsXG4gICAgICAgICAgICBiOiBNYXRoLnJhbmRvbSgpICogMC40XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGdldFJhbmRvbUdsb3dDb2xvciA9ICgpID0+ICh7XG4gICAgICAgICAgICByOiAwLjEgKyBNYXRoLnJhbmRvbSgpICogMC40LFxuICAgICAgICAgICAgZzogMC4xICsgTWF0aC5yYW5kb20oKSAqIDAuMyxcbiAgICAgICAgICAgIGI6IDAuMSArIE1hdGgucmFuZG9tKCkgKiAwLjVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG5ldyByYW5kb20gcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSB7XG4gICAgICAgICAgICAvLyBSYW5kb20gY29sb3JzXG4gICAgICAgICAgICBjb2xvcjE6IGdldFJhbmRvbUNvbG9yKCksXG4gICAgICAgICAgICBjb2xvcjI6IGdldFJhbmRvbUNvbG9yKCksXG4gICAgICAgICAgICBjb2xvcjM6IGdldFJhbmRvbUNvbG9yKCksXG4gICAgICAgICAgICBmb2dDb2xvcjogZ2V0UmFuZG9tRm9nQ29sb3IoKSxcbiAgICAgICAgICAgIGdsb3dDb2xvcjogZ2V0UmFuZG9tR2xvd0NvbG9yKCksXG5cbiAgICAgICAgICAgIC8vIFJhbmRvbSBjYW1lcmEgJiBtb3ZlbWVudCBjb250cm9sc1xuICAgICAgICAgICAgY2FtZXJhU3BlZWQ6IHJhbmRvbUluUmFuZ2UoMC4wLCAzLjApLFxuXG4gICAgICAgICAgICAvLyBSYW5kb20gdHVubmVsIGJyZWF0aGluZyBjb250cm9sc1xuICAgICAgICAgICAgYnJlYXRoaW5nUmF0ZTogcmFuZG9tSW5SYW5nZSgwLjEsIDUuMCksXG4gICAgICAgICAgICBicmVhdGhpbmdBbW91bnQ6IHJhbmRvbUluUmFuZ2UoMCwgMTUuMCksXG5cbiAgICAgICAgICAgIC8vIFJhbmRvbSBlZmZlY3QgaW50ZW5zaXR5XG4gICAgICAgICAgICB0cmFuc2llbnRFZmZlY3Q6IHJhbmRvbUluUmFuZ2UoMCwgMS4wKSxcbiAgICAgICAgICAgIGNvbG9ySW50ZW5zaXR5OiByYW5kb21JblJhbmdlKDAuMCwgMC4yKSxcblxuICAgICAgICAgICAgLy8gUmFuZG9tIGF1ZGlvIGVmZmVjdCBpbnRlbnNpdHkgY29udHJvbHNcbiAgICAgICAgICAgIGVuZXJneUNhbWVyYUVmZmVjdDogcmFuZG9tSW5SYW5nZSgwLCAwLjAxKSxcbiAgICAgICAgICAgIGVuZXJneUNvbG9yRWZmZWN0OiByYW5kb21JblJhbmdlKDAsIDAuNSksXG4gICAgICAgICAgICB0cmFuc2llbnRDYW1lcmFFZmZlY3Q6IHBhcnNlRmxvYXQocmFuZG9tSW5SYW5nZSgwLCAwLjEpLnRvRml4ZWQoMykpLFxuICAgICAgICAgICAgdHJhbnNpZW50Q29sb3JFZmZlY3Q6IHJhbmRvbUluUmFuZ2UoMCwgMS4wKSxcblxuICAgICAgICAgICAgLy8gUmFuZG9tIGFkdmFuY2VkIGNhbWVyYSBtb3ZlbWVudCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICBiYXNlQ2FtZXJhU3BlZWQ6IHJhbmRvbUluUmFuZ2UoMC41LCAzLjApLFxuICAgICAgICAgICAgbWF4Q2FtZXJhU3BlZWRCb29zdEZhY3RvcjogcmFuZG9tSW5SYW5nZSgxLjAsIDUuMCksXG4gICAgICAgICAgICB0cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0OiByYW5kb21JblJhbmdlKDAsIDAuNSksXG4gICAgICAgICAgICBlbmVyZ3lCb29zdEZhY3RvcjogcmFuZG9tSW5SYW5nZSgwLCAwLjMpLFxuXG4gICAgICAgICAgICAvLyBSYW5kb20gdGltaW5nIGFuZCBzbW9vdGhpbmcgcGFyYW1ldGVyc1xuICAgICAgICAgICAgY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbjogTWF0aC5mbG9vcihyYW5kb21JblJhbmdlKDEwMCwgMTAwMCkpLFxuICAgICAgICAgICAgY29sb3JTbW9vdGhpbmdEdXJhdGlvbjogTWF0aC5mbG9vcihyYW5kb21JblJhbmdlKDIwMCwgMjAwMCkpLFxuICAgICAgICAgICAgc21vb3RoaW5nRHVyYXRpb246IE1hdGguZmxvb3IocmFuZG9tSW5SYW5nZSgyMDAsIDE1MDApKSxcblxuICAgICAgICAgICAgLy8gUmFuZG9tIGJvb2xlYW4gZm9yIGNvbG9yIG1vZGUgdG9nZ2xlXG4gICAgICAgICAgICB1c2VDb2xvckNvbnRyb2xzOiBNYXRoLnJhbmRvbSgpID4gMC41LFxuICAgICAgICB9O1xuXG4gICAgICAgIHNldFBhcmFtcyhuZXdQYXJhbXMpO1xuICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NIQURFUiBDT05UUk9MU10gUmFuZG9taXplZCBhbGwgcGFyYW1ldGVyczonLCBuZXdQYXJhbXMpO1xuICAgIH07XG5cbiAgICAvLyBSZXNldCB0byBkZWZhdWx0IHZhbHVlc1xuICAgIGNvbnN0IHJlc2V0VG9EZWZhdWx0cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhcmFtcyA9IHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgY29sb3IgY29udHJvbHNcbiAgICAgICAgICAgIGNvbG9yMTogeyByOiAwLjQsIGc6IDEuMCwgYjogMC4yIH0sXG4gICAgICAgICAgICBjb2xvcjI6IHsgcjogMC4yLCBnOiAxLjAsIGI6IDAuOCB9LFxuICAgICAgICAgICAgY29sb3IzOiB7IHI6IDEuMCwgZzogMC4yLCBiOiAwLjggfSxcbiAgICAgICAgICAgIGZvZ0NvbG9yOiB7IHI6IDAuMSwgZzogMC4wNSwgYjogMC4xNSB9LFxuICAgICAgICAgICAgZ2xvd0NvbG9yOiB7IHI6IDAuMSwgZzogMC4wNSwgYjogMC4yIH0sXG4gICAgICAgICAgICAvLyBEZWZhdWx0IGNhbWVyYSAmIG1vdmVtZW50XG4gICAgICAgICAgICBjYW1lcmFTcGVlZDogMS4yLFxuICAgICAgICAgICAgLy8gRGVmYXVsdCBicmVhdGhpbmcgc2V0dGluZ3NcbiAgICAgICAgICAgIGJyZWF0aGluZ1JhdGU6IDIuMCxcbiAgICAgICAgICAgIGJyZWF0aGluZ0Ftb3VudDogNi4wLFxuICAgICAgICAgICAgdHJhbnNpZW50RWZmZWN0OiAwLjMsXG4gICAgICAgICAgICBjb2xvckludGVuc2l0eTogMC41LFxuICAgICAgICAgICAgLy8gQXVkaW8gZWZmZWN0IGludGVuc2l0eSBjb250cm9sc1xuICAgICAgICAgICAgZW5lcmd5Q2FtZXJhRWZmZWN0OiAwLjA1LFxuICAgICAgICAgICAgZW5lcmd5Q29sb3JFZmZlY3Q6IDEuMCxcbiAgICAgICAgICAgIHRyYW5zaWVudENhbWVyYUVmZmVjdDogMS4wLFxuICAgICAgICAgICAgdHJhbnNpZW50Q29sb3JFZmZlY3Q6IDEuMCxcbiAgICAgICAgICAgIC8vIEFkdmFuY2VkIGNhbWVyYSBtb3ZlbWVudCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICBiYXNlQ2FtZXJhU3BlZWQ6IDEuMixcbiAgICAgICAgICAgIG1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3I6IDIuNSxcbiAgICAgICAgICAgIHRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3Q6IDAuMSxcbiAgICAgICAgICAgIGVuZXJneUJvb3N0RmFjdG9yOiAwLjA1LFxuICAgICAgICAgICAgLy8gVGltaW5nIGFuZCBzbW9vdGhpbmcgcGFyYW1ldGVyc1xuICAgICAgICAgICAgY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgY29sb3JTbW9vdGhpbmdEdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgIHNtb290aGluZ0R1cmF0aW9uOiA3MDAsXG4gICAgICAgICAgICAvLyBDb2xvciBtb2RlIHRvZ2dsZVxuICAgICAgICAgICAgdXNlQ29sb3JDb250cm9sczogdHJ1ZSxcbiAgICAgICAgfTtcblxuICAgICAgICBzZXRQYXJhbXMoZGVmYXVsdFBhcmFtcyk7XG4gICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XG4gICAgfTtcblxuICAgIC8vIEF1dG8tYXBwbHkgY2hhbmdlcyB3aGVuIGNvbXBvbmVudCBtb3VudHMgdG8gZW5zdXJlIGluaXRpYWwgdmFsdWVzIGFyZSBhcHBsaWVkXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgYXBwbHlDaGFuZ2VzKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUGFuZWx9PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xHcm91cFRpdGxlfT5TaGFkZXIgQ29udHJvbHM8L2gzPlxuXG4gICAgICAgICAgICB7LyogQWN0aW9uIGJ1dHRvbnMgYXQgdGhlIHRvcCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2hhZGVyQnV0dG9uc0NvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyYW5kb21pemVDb2xvcnN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmFwcGx5U2hhZGVyQnV0dG9ufVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUmFuZG9taXplIENvbG9yc1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cmFuZG9taXplQWxsU2V0dGluZ3N9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmFwcGx5U2hhZGVyQnV0dG9ufVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUmFuZG9taXplIEFsbCBTZXR0aW5nc1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVzZXRUb0RlZmF1bHRzfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jbGVhclNoYWRlckJ1dHRvbn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFJlc2V0IERlZmF1bHRzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthcHBseUNoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLmFwcGx5U2hhZGVyQnV0dG9ufSAke2hhc0NoYW5nZXMgPyBzdHlsZXMuaGFzQ2hhbmdlcyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzQ2hhbmdlc31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEFwcGx5IENoYW5nZXNcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ29sb3IgY29udHJvbHMgKi99XG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9e3N0eWxlcy5jdXN0b21TaGFkZXJDb250YWluZXJ9IG9wZW4+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPXtzdHlsZXMuY3VzdG9tU2hhZGVyU3VtbWFyeX0+XG4gICAgICAgICAgICAgICAgICAgIENvbG9yIENvbnRyb2xzXG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuXG4gICAgICAgICAgICAgICAgey8qIFRvZ2dsZSBmb3IgdXNpbmcgY29sb3IgY29udHJvbHMgdnMgcmFuZG9tIGNvbG9ycyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuc3dpdGNoTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZSBTZWxlY3RlZCBDb2xvcnMgT25seTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRvZ2dsZVN3aXRjaH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3BhcmFtcy51c2VDb2xvckNvbnRyb2xzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ3VzZUNvbG9yQ29udHJvbHMnLCBlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnRvZ2dsZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy50b2dnbGVTbGlkZXJ9Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy50b2dnbGVIaW50fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcmFtcy51c2VDb2xvckNvbnRyb2xzID8gJ09OIC0gVXNpbmcgc2VsZWN0ZWQgY29sb3JzIG9ubHknIDogJ09GRiAtIFVzaW5nIHJhbmRvbSBjb2xvcnMnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByaW1hcnkgQ29sb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZ2JUb0hleChwYXJhbXMuY29sb3IxLnIsIHBhcmFtcy5jb2xvcjEuZywgcGFyYW1zLmNvbG9yMS5iKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDb2xvckNoYW5nZSgnY29sb3IxJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jb2xvcklucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xHcm91cH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWNvbmRhcnkgQ29sb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZ2JUb0hleChwYXJhbXMuY29sb3IyLnIsIHBhcmFtcy5jb2xvcjIuZywgcGFyYW1zLmNvbG9yMi5iKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDb2xvckNoYW5nZSgnY29sb3IyJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jb2xvcklucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xHcm91cH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXJ0aWFyeSBDb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JnYlRvSGV4KHBhcmFtcy5jb2xvcjMuciwgcGFyYW1zLmNvbG9yMy5nLCBwYXJhbXMuY29sb3IzLmIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvbG9yQ2hhbmdlKCdjb2xvcjMnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNvbG9ySW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvZyBDb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JnYlRvSGV4KHBhcmFtcy5mb2dDb2xvci5yLCBwYXJhbXMuZm9nQ29sb3IuZywgcGFyYW1zLmZvZ0NvbG9yLmIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvbG9yQ2hhbmdlKCdmb2dDb2xvcicsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY29sb3JJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR2xvdyBDb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JnYlRvSGV4KHBhcmFtcy5nbG93Q29sb3IuciwgcGFyYW1zLmdsb3dDb2xvci5nLCBwYXJhbXMuZ2xvd0NvbG9yLmIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvbG9yQ2hhbmdlKCdnbG93Q29sb3InLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNvbG9ySW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kZXRhaWxzPlxuXG4gICAgICAgICAgICB7LyogTW90aW9uIGFuZCBlZmZlY3QgY29udHJvbHMgKi99XG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9e3N0eWxlcy5jdXN0b21TaGFkZXJDb250YWluZXJ9IG9wZW4+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPXtzdHlsZXMuY3VzdG9tU2hhZGVyU3VtbWFyeX0+XG4gICAgICAgICAgICAgICAgICAgIE1vdGlvbiAmIEVmZmVjdHNcbiAgICAgICAgICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FtZXJhIFNwZWVkOiB7cGFyYW1zLmNhbWVyYVNwZWVkLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjAuNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjMuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFyYW1zLmNhbWVyYVNwZWVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVNsaWRlckNoYW5nZSgnY2FtZXJhU3BlZWQnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJhbmdlSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFR1bm5lbCBCcmVhdGhpbmcgQ29udHJvbHMgKi99XG4gICAgICAgICAgICAgICAgPGRldGFpbHMgY2xhc3NOYW1lPXtzdHlsZXMuY3VzdG9tU2hhZGVyQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPXtzdHlsZXMuY3VzdG9tU2hhZGVyU3VtbWFyeX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBUdW5uZWwgQnJlYXRoaW5nIEVmZmVjdFxuICAgICAgICAgICAgICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbHNSb3d9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyZWF0aGluZyBSYXRlOiB7cGFyYW1zLmJyZWF0aGluZ1JhdGUudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjUuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJhbXMuYnJlYXRoaW5nUmF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCdicmVhdGhpbmdSYXRlJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFuZ2VJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCcmVhdGhpbmcgQW1vdW50OiB7cGFyYW1zLmJyZWF0aGluZ0Ftb3VudC50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwLjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTUuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC41XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJhbXMuYnJlYXRoaW5nQW1vdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ2JyZWF0aGluZ0Ftb3VudCcsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJhbmdlSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2RldGFpbHM+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2llbnQgRWZmZWN0OiB7cGFyYW1zLnRyYW5zaWVudEVmZmVjdC50b0ZpeGVkKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwLjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9XCIxLjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcmFtcy50cmFuc2llbnRFZmZlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCd0cmFuc2llbnRFZmZlY3QnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJhbmdlSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3IgSW50ZW5zaXR5OiB7cGFyYW1zLmNvbG9ySW50ZW5zaXR5LnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjAuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjEuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcmFtcy5jb2xvckludGVuc2l0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ2NvbG9ySW50ZW5zaXR5JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGV0YWlscz5cblxuICAgICAgICAgICAgey8qIEF1ZGlvIEVmZmVjdCBJbnRlbnNpdHkgQ29udHJvbHMgKi99XG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9e3N0eWxlcy5jdXN0b21TaGFkZXJDb250YWluZXJ9IG9wZW4+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPXtzdHlsZXMuY3VzdG9tU2hhZGVyU3VtbWFyeX0+XG4gICAgICAgICAgICAgICAgICAgIEF1ZGlvIEVmZmVjdCBJbnRlbnNpdHlcbiAgICAgICAgICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5lcmd5IENhbWVyYSBFZmZlY3Q6IHtwYXJhbXMuZW5lcmd5Q2FtZXJhRWZmZWN0LnRvRml4ZWQoMyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjAuMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMC4wMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFyYW1zLmVuZXJneUNhbWVyYUVmZmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ2VuZXJneUNhbWVyYUVmZmVjdCcsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFuZ2VJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5lcmd5IENvbG9yIEVmZmVjdDoge3BhcmFtcy5lbmVyZ3lDb2xvckVmZmVjdC50b0ZpeGVkKDEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwLjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9XCIxLjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcmFtcy5lbmVyZ3lDb2xvckVmZmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ2VuZXJneUNvbG9yRWZmZWN0JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2llbnQgQ2FtZXJhIEVmZmVjdDoge3BhcmFtcy50cmFuc2llbnRDYW1lcmFFZmZlY3QudG9GaXhlZCgzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMC4wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMC4yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcmFtcy50cmFuc2llbnRDYW1lcmFFZmZlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCd0cmFuc2llbnRDYW1lcmFFZmZlY3QnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJhbmdlSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbHNSb3d9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xHcm91cH0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zaWVudCBDb2xvciBFZmZlY3Q6IHtwYXJhbXMudHJhbnNpZW50Q29sb3JFZmZlY3QudG9GaXhlZCgxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMC4wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMS4wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJhbXMudHJhbnNpZW50Q29sb3JFZmZlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCd0cmFuc2llbnRDb2xvckVmZmVjdCcsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFuZ2VJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2RldGFpbHM+XG5cbiAgICAgICAgICAgIHsvKiBBZHZhbmNlZCBDYW1lcmEgTW92ZW1lbnQgQ29udHJvbHMgKi99XG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9e3N0eWxlcy5jdXN0b21TaGFkZXJDb250YWluZXJ9PlxuICAgICAgICAgICAgICAgIDxzdW1tYXJ5IGNsYXNzTmFtZT17c3R5bGVzLmN1c3RvbVNoYWRlclN1bW1hcnl9PlxuICAgICAgICAgICAgICAgICAgICBBZHZhbmNlZCBDYW1lcmEgTW92ZW1lbnRcbiAgICAgICAgICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFzZSBDYW1lcmEgU3BlZWQ6IHtwYXJhbXMuYmFzZUNhbWVyYVNwZWVkLnRvRml4ZWQoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjAuNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjMuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFyYW1zLmJhc2VDYW1lcmFTcGVlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ2Jhc2VDYW1lcmFTcGVlZCcsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFuZ2VJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF4IFNwZWVkIEJvb3N0IEZhY3Rvcjoge3BhcmFtcy5tYXhDYW1lcmFTcGVlZEJvb3N0RmFjdG9yLnRvRml4ZWQoMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjEuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjUuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFyYW1zLm1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCdtYXhDYW1lcmFTcGVlZEJvb3N0RmFjdG9yJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2llbnQgVGhyZXNob2xkOiB7cGFyYW1zLnRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3QudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMC4wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMC41XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFyYW1zLnRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCd0cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0JywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmVyZ3kgQm9vc3QgRmFjdG9yOiB7cGFyYW1zLmVuZXJneUJvb3N0RmFjdG9yLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjAuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjAuM1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcmFtcy5lbmVyZ3lCb29zdEZhY3Rvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTbGlkZXJDaGFuZ2UoJ2VuZXJneUJvb3N0RmFjdG9yJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGV0YWlscz5cblxuICAgICAgICAgICAgey8qIFRpbWluZyBhbmQgU21vb3RoaW5nIENvbnRyb2xzICovfVxuICAgICAgICAgICAgPGRldGFpbHMgY2xhc3NOYW1lPXtzdHlsZXMuY3VzdG9tU2hhZGVyQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9e3N0eWxlcy5jdXN0b21TaGFkZXJTdW1tYXJ5fT5cbiAgICAgICAgICAgICAgICAgICAgVGltaW5nICYgU21vb3RoaW5nXG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbHNSb3d9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xHcm91cH0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbWVyYSBTcGVlZCBTbW9vdGhpbmc6IHtwYXJhbXMuY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbn1tc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjUwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhcmFtcy5jYW1lcmFTcGVlZFNtb290aGluZ0R1cmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVNsaWRlckNoYW5nZSgnY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbicsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFuZ2VJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1Jvd30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3IgU21vb3RoaW5nOiB7cGFyYW1zLmNvbG9yU21vb3RoaW5nRHVyYXRpb259bXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMjAwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFyYW1zLmNvbG9yU21vb3RoaW5nRHVyYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCdjb2xvclNtb290aGluZ0R1cmF0aW9uJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYW5nZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmFsIFNtb290aGluZzoge3BhcmFtcy5zbW9vdGhpbmdEdXJhdGlvbn1tc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIyMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9XCIxNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXJhbXMuc21vb3RoaW5nRHVyYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlU2xpZGVyQ2hhbmdlKCdzbW9vdGhpbmdEdXJhdGlvbicsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFuZ2VJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdWRpb1NoYWRlckNvbnRyb2xzOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwic3R5bGVzIiwidXBkYXRlU2hhZGVyUGFyYW1zIiwiQXVkaW9TaGFkZXJDb250cm9scyIsIm9uVXBkYXRlUGFyYW1zIiwiaW5pdGlhbFBhcmFtcyIsInBhcmFtcyIsInNldFBhcmFtcyIsImNvbG9yMSIsInIiLCJnIiwiYiIsImNvbG9yMiIsImNvbG9yMyIsImZvZ0NvbG9yIiwiZ2xvd0NvbG9yIiwiY2FtZXJhU3BlZWQiLCJicmVhdGhpbmdSYXRlIiwiYnJlYXRoaW5nQW1vdW50IiwidHJhbnNpZW50RWZmZWN0IiwiY29sb3JJbnRlbnNpdHkiLCJlbmVyZ3lDYW1lcmFFZmZlY3QiLCJlbmVyZ3lDb2xvckVmZmVjdCIsInRyYW5zaWVudENhbWVyYUVmZmVjdCIsInRyYW5zaWVudENvbG9yRWZmZWN0IiwiYmFzZUNhbWVyYVNwZWVkIiwibWF4Q2FtZXJhU3BlZWRCb29zdEZhY3RvciIsInRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3QiLCJlbmVyZ3lCb29zdEZhY3RvciIsImNhbWVyYVNwZWVkU21vb3RoaW5nRHVyYXRpb24iLCJjb2xvclNtb290aGluZ0R1cmF0aW9uIiwic21vb3RoaW5nRHVyYXRpb24iLCJ1c2VDb2xvckNvbnRyb2xzIiwidW5kZWZpbmVkIiwiaGFzQ2hhbmdlcyIsInNldEhhc0NoYW5nZXMiLCJyZ2JUb0hleCIsInRvSGV4IiwidmFsdWUiLCJoZXgiLCJNYXRoIiwicm91bmQiLCJ0b1N0cmluZyIsImxlbmd0aCIsImhleFRvUmdiIiwicmVwbGFjZSIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwiYXBwbHlDaGFuZ2VzIiwiY29uc29sZSIsImxvZyIsImhhbmRsZUNvbG9yQ2hhbmdlIiwiY29sb3JOYW1lIiwiaGV4VmFsdWUiLCJyZ2JWYWx1ZSIsInByZXZQYXJhbXMiLCJuZXdQYXJhbXMiLCJoYW5kbGVTbGlkZXJDaGFuZ2UiLCJwYXJhbU5hbWUiLCJuZXdWYWx1ZSIsInBhcnNlRmxvYXQiLCJyYW5kb21pemVDb2xvcnMiLCJnZXRSYW5kb21Db2xvciIsInJhbmRvbSIsImdldFJhbmRvbUZvZ0NvbG9yIiwiZ2V0UmFuZG9tR2xvd0NvbG9yIiwicmFuZG9taXplQWxsU2V0dGluZ3MiLCJyYW5kb21JblJhbmdlIiwibWluIiwibWF4IiwidG9GaXhlZCIsImZsb29yIiwicmVzZXRUb0RlZmF1bHRzIiwiZGVmYXVsdFBhcmFtcyIsImRpdiIsImNsYXNzTmFtZSIsImNvbnRyb2xzUGFuZWwiLCJoMyIsImNvbnRyb2xHcm91cFRpdGxlIiwic2hhZGVyQnV0dG9uc0NvbnRhaW5lciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcHBseVNoYWRlckJ1dHRvbiIsImNsZWFyU2hhZGVyQnV0dG9uIiwiZGlzYWJsZWQiLCJkZXRhaWxzIiwiY3VzdG9tU2hhZGVyQ29udGFpbmVyIiwib3BlbiIsInN1bW1hcnkiLCJjdXN0b21TaGFkZXJTdW1tYXJ5IiwiY29udHJvbHNSb3ciLCJjb250cm9sR3JvdXAiLCJzdHlsZSIsIndpZHRoIiwibGFiZWwiLCJzd2l0Y2hMYWJlbCIsInRvZ2dsZVN3aXRjaCIsImlucHV0IiwidHlwZSIsImNoZWNrZWQiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJ0b2dnbGVJbnB1dCIsInNwYW4iLCJ0b2dnbGVTbGlkZXIiLCJ0b2dnbGVIaW50IiwiY29udHJvbExhYmVsIiwiY29sb3JJbnB1dCIsInN0ZXAiLCJyYW5nZUlucHV0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/AudioShaderControls.js\n");

/***/ }),

/***/ "./components/ShaderEditor.js":
/*!************************************!*\
  !*** ./components/ShaderEditor.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/ShaderEditor.module.css */ \"./styles/ShaderEditor.module.css\");\n/* harmony import */ var _styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n/**\n * Shader Editor component that allows editing and applying shader code changes\n */ const ShaderEditor = ({ shaderCode, onApplyShader })=>{\n    const [tempShaderCode, setTempShaderCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(shaderCode || \"\");\n    const [isEdited, setIsEdited] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Update internal state when shader code prop changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setTempShaderCode(shaderCode || \"\");\n        setIsEdited(false);\n    }, [\n        shaderCode\n    ]);\n    // Handle shader code changes in textarea\n    const handleShaderCodeChange = (e)=>{\n        setTempShaderCode(e.target.value);\n        // When user starts editing, mark as edited\n        if (e.target.value !== shaderCode) {\n            setIsEdited(true);\n        }\n    };\n    // Apply shader changes\n    const applyShaderChanges = ()=>{\n        if (onApplyShader && tempShaderCode) {\n            onApplyShader(tempShaderCode);\n            setIsEdited(false); // Reset edited state after applying\n        }\n    };\n    // Clear shader code\n    const clearShaderCode = ()=>{\n        setTempShaderCode(\"\");\n        setIsEdited(false);\n        if (onApplyShader) {\n            onApplyShader(\"\");\n        }\n    };\n    // Handle keyboard shortcuts\n    const handleKeyDown = (e)=>{\n        // If Ctrl+Enter or Cmd+Enter is pressed, apply shader changes\n        if ((e.ctrlKey || e.metaKey) && e.key === \"Enter\") {\n            e.preventDefault();\n            applyShaderChanges();\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().shaderEditor),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().editorHeader),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().editorTitle),\n                        children: isEdited ? \"Modified Shader Code\" : \"Shader Editor\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                        lineNumber: 56,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().editorInfo),\n                        children: \"Press Ctrl+Enter or Cmd+Enter to apply changes\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                        lineNumber: 59,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                lineNumber: 55,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().textareaContainer),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                    value: tempShaderCode,\n                    onChange: handleShaderCodeChange,\n                    onKeyDown: handleKeyDown,\n                    placeholder: \"Edit GLSL fragment shader code here...\",\n                    className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().shaderTextarea),\n                    spellCheck: \"false\"\n                }, void 0, false, {\n                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                    lineNumber: 64,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                lineNumber: 63,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().buttonContainer),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: clearShaderCode,\n                        className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().clearButton),\n                        disabled: !tempShaderCode,\n                        children: \"Clear Shader\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                        lineNumber: 74,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: applyShaderChanges,\n                        className: (_styles_ShaderEditor_module_css__WEBPACK_IMPORTED_MODULE_2___default().applyButton),\n                        disabled: !tempShaderCode || tempShaderCode === shaderCode,\n                        children: \"Apply Shader\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                        lineNumber: 81,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n                lineNumber: 73,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderEditor.js\",\n        lineNumber: 54,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShaderEditor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1NoYWRlckVkaXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRDtBQUNJO0FBRXZEOztDQUVDLEdBQ0QsTUFBTUksZUFBZSxDQUFDLEVBQUVDLFVBQVUsRUFBRUMsYUFBYSxFQUFFO0lBQy9DLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR1AsK0NBQVFBLENBQUNJLGNBQWM7SUFDbkUsTUFBTSxDQUFDSSxVQUFVQyxZQUFZLEdBQUdULCtDQUFRQSxDQUFDO0lBRXpDLHNEQUFzRDtJQUN0REMsZ0RBQVNBLENBQUM7UUFDTk0sa0JBQWtCSCxjQUFjO1FBQ2hDSyxZQUFZO0lBQ2hCLEdBQUc7UUFBQ0w7S0FBVztJQUVmLHlDQUF5QztJQUN6QyxNQUFNTSx5QkFBeUIsQ0FBQ0M7UUFDNUJKLGtCQUFrQkksRUFBRUMsTUFBTSxDQUFDQyxLQUFLO1FBRWhDLDJDQUEyQztRQUMzQyxJQUFJRixFQUFFQyxNQUFNLENBQUNDLEtBQUssS0FBS1QsWUFBWTtZQUMvQkssWUFBWTtRQUNoQjtJQUNKO0lBRUEsdUJBQXVCO0lBQ3ZCLE1BQU1LLHFCQUFxQjtRQUN2QixJQUFJVCxpQkFBaUJDLGdCQUFnQjtZQUNqQ0QsY0FBY0M7WUFDZEcsWUFBWSxRQUFRLG9DQUFvQztRQUM1RDtJQUNKO0lBRUEsb0JBQW9CO0lBQ3BCLE1BQU1NLGtCQUFrQjtRQUNwQlIsa0JBQWtCO1FBQ2xCRSxZQUFZO1FBQ1osSUFBSUosZUFBZTtZQUNmQSxjQUFjO1FBQ2xCO0lBQ0o7SUFFQSw0QkFBNEI7SUFDNUIsTUFBTVcsZ0JBQWdCLENBQUNMO1FBQ25CLDhEQUE4RDtRQUM5RCxJQUFJLENBQUNBLEVBQUVNLE9BQU8sSUFBSU4sRUFBRU8sT0FBTyxLQUFLUCxFQUFFUSxHQUFHLEtBQUssU0FBUztZQUMvQ1IsRUFBRVMsY0FBYztZQUNoQk47UUFDSjtJQUNKO0lBRUEscUJBQ0ksOERBQUNPO1FBQUlDLFdBQVdwQixxRkFBbUI7OzBCQUMvQiw4REFBQ21CO2dCQUFJQyxXQUFXcEIscUZBQW1COztrQ0FDL0IsOERBQUN1Qjt3QkFBR0gsV0FBV3BCLG9GQUFrQjtrQ0FDNUJNLFdBQVcseUJBQXlCOzs7Ozs7a0NBRXpDLDhEQUFDYTt3QkFBSUMsV0FBV3BCLG1GQUFpQjtrQ0FBRTs7Ozs7Ozs7Ozs7OzBCQUl2Qyw4REFBQ21CO2dCQUFJQyxXQUFXcEIsMEZBQXdCOzBCQUNwQyw0RUFBQzJCO29CQUNHaEIsT0FBT1A7b0JBQ1B3QixVQUFVcEI7b0JBQ1ZxQixXQUFXZjtvQkFDWGdCLGFBQVk7b0JBQ1pWLFdBQVdwQix1RkFBcUI7b0JBQ2hDZ0MsWUFBVzs7Ozs7Ozs7Ozs7MEJBR25CLDhEQUFDYjtnQkFBSUMsV0FBV3BCLHdGQUFzQjs7a0NBQ2xDLDhEQUFDa0M7d0JBQ0dDLFNBQVN0Qjt3QkFDVE8sV0FBV3BCLG9GQUFrQjt3QkFDN0JxQyxVQUFVLENBQUNqQztrQ0FDZDs7Ozs7O2tDQUdELDhEQUFDOEI7d0JBQ0dDLFNBQVN2Qjt3QkFDVFEsV0FBV3BCLG9GQUFrQjt3QkFDN0JxQyxVQUFVLENBQUNqQyxrQkFBbUJBLG1CQUFtQkY7a0NBQ3BEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNakI7QUFFQSxpRUFBZUQsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vY29tcG9uZW50cy9TaGFkZXJFZGl0b3IuanM/NDMxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vc3R5bGVzL1NoYWRlckVkaXRvci5tb2R1bGUuY3NzJztcblxuLyoqXG4gKiBTaGFkZXIgRWRpdG9yIGNvbXBvbmVudCB0aGF0IGFsbG93cyBlZGl0aW5nIGFuZCBhcHBseWluZyBzaGFkZXIgY29kZSBjaGFuZ2VzXG4gKi9cbmNvbnN0IFNoYWRlckVkaXRvciA9ICh7IHNoYWRlckNvZGUsIG9uQXBwbHlTaGFkZXIgfSkgPT4ge1xuICAgIGNvbnN0IFt0ZW1wU2hhZGVyQ29kZSwgc2V0VGVtcFNoYWRlckNvZGVdID0gdXNlU3RhdGUoc2hhZGVyQ29kZSB8fCAnJyk7XG4gICAgY29uc3QgW2lzRWRpdGVkLCBzZXRJc0VkaXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICAvLyBVcGRhdGUgaW50ZXJuYWwgc3RhdGUgd2hlbiBzaGFkZXIgY29kZSBwcm9wIGNoYW5nZXNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRUZW1wU2hhZGVyQ29kZShzaGFkZXJDb2RlIHx8ICcnKTtcbiAgICAgICAgc2V0SXNFZGl0ZWQoZmFsc2UpO1xuICAgIH0sIFtzaGFkZXJDb2RlXSk7XG5cbiAgICAvLyBIYW5kbGUgc2hhZGVyIGNvZGUgY2hhbmdlcyBpbiB0ZXh0YXJlYVxuICAgIGNvbnN0IGhhbmRsZVNoYWRlckNvZGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgICBzZXRUZW1wU2hhZGVyQ29kZShlLnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgLy8gV2hlbiB1c2VyIHN0YXJ0cyBlZGl0aW5nLCBtYXJrIGFzIGVkaXRlZFxuICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUgIT09IHNoYWRlckNvZGUpIHtcbiAgICAgICAgICAgIHNldElzRWRpdGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFwcGx5IHNoYWRlciBjaGFuZ2VzXG4gICAgY29uc3QgYXBwbHlTaGFkZXJDaGFuZ2VzID0gKCkgPT4ge1xuICAgICAgICBpZiAob25BcHBseVNoYWRlciAmJiB0ZW1wU2hhZGVyQ29kZSkge1xuICAgICAgICAgICAgb25BcHBseVNoYWRlcih0ZW1wU2hhZGVyQ29kZSk7XG4gICAgICAgICAgICBzZXRJc0VkaXRlZChmYWxzZSk7IC8vIFJlc2V0IGVkaXRlZCBzdGF0ZSBhZnRlciBhcHBseWluZ1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENsZWFyIHNoYWRlciBjb2RlXG4gICAgY29uc3QgY2xlYXJTaGFkZXJDb2RlID0gKCkgPT4ge1xuICAgICAgICBzZXRUZW1wU2hhZGVyQ29kZSgnJyk7XG4gICAgICAgIHNldElzRWRpdGVkKGZhbHNlKTtcbiAgICAgICAgaWYgKG9uQXBwbHlTaGFkZXIpIHtcbiAgICAgICAgICAgIG9uQXBwbHlTaGFkZXIoJycpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBrZXlib2FyZCBzaG9ydGN1dHNcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGUpID0+IHtcbiAgICAgICAgLy8gSWYgQ3RybCtFbnRlciBvciBDbWQrRW50ZXIgaXMgcHJlc3NlZCwgYXBwbHkgc2hhZGVyIGNoYW5nZXNcbiAgICAgICAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYXBwbHlTaGFkZXJDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zaGFkZXJFZGl0b3J9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5lZGl0b3JIZWFkZXJ9PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9e3N0eWxlcy5lZGl0b3JUaXRsZX0+XG4gICAgICAgICAgICAgICAgICAgIHtpc0VkaXRlZCA/ICdNb2RpZmllZCBTaGFkZXIgQ29kZScgOiAnU2hhZGVyIEVkaXRvcid9XG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmVkaXRvckluZm99PlxuICAgICAgICAgICAgICAgICAgICBQcmVzcyBDdHJsK0VudGVyIG9yIENtZCtFbnRlciB0byBhcHBseSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGV4dGFyZWFDb250YWluZXJ9PlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtcFNoYWRlckNvZGV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTaGFkZXJDb2RlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRWRpdCBHTFNMIGZyYWdtZW50IHNoYWRlciBjb2RlIGhlcmUuLi5cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zaGFkZXJUZXh0YXJlYX1cbiAgICAgICAgICAgICAgICAgICAgc3BlbGxDaGVjaz1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJ1dHRvbkNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhclNoYWRlckNvZGV9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNsZWFyQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRlbXBTaGFkZXJDb2RlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2xlYXIgU2hhZGVyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthcHBseVNoYWRlckNoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmFwcGx5QnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRlbXBTaGFkZXJDb2RlIHx8ICh0ZW1wU2hhZGVyQ29kZSA9PT0gc2hhZGVyQ29kZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBBcHBseSBTaGFkZXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2hhZGVyRWRpdG9yO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJzdHlsZXMiLCJTaGFkZXJFZGl0b3IiLCJzaGFkZXJDb2RlIiwib25BcHBseVNoYWRlciIsInRlbXBTaGFkZXJDb2RlIiwic2V0VGVtcFNoYWRlckNvZGUiLCJpc0VkaXRlZCIsInNldElzRWRpdGVkIiwiaGFuZGxlU2hhZGVyQ29kZUNoYW5nZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImFwcGx5U2hhZGVyQ2hhbmdlcyIsImNsZWFyU2hhZGVyQ29kZSIsImhhbmRsZUtleURvd24iLCJjdHJsS2V5IiwibWV0YUtleSIsImtleSIsInByZXZlbnREZWZhdWx0IiwiZGl2IiwiY2xhc3NOYW1lIiwic2hhZGVyRWRpdG9yIiwiZWRpdG9ySGVhZGVyIiwiaDMiLCJlZGl0b3JUaXRsZSIsImVkaXRvckluZm8iLCJ0ZXh0YXJlYUNvbnRhaW5lciIsInRleHRhcmVhIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsInNoYWRlclRleHRhcmVhIiwic3BlbGxDaGVjayIsImJ1dHRvbkNvbnRhaW5lciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjbGVhckJ1dHRvbiIsImRpc2FibGVkIiwiYXBwbHlCdXR0b24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/ShaderEditor.js\n");

/***/ }),

/***/ "./components/ShaderVisualizer.js":
/*!****************************************!*\
  !*** ./components/ShaderVisualizer.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_shaders_ShaderUpdate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/shaders/ShaderUpdate */ \"./utils/shaders/ShaderUpdate.js\");\n/* harmony import */ var _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/audio/AudioAnalysisManager */ \"./utils/audio/AudioAnalysisManager.js\");\n\n\n\n\nclass ShaderProgram {\n    constructor(gl, vertSource, fragSource){\n        this.gl = gl;\n        this.program = this.createProgram(vertSource, fragSource);\n        this.uniforms = {};\n        this.attributes = {};\n    }\n    createShader(type, source) {\n        const gl = this.gl;\n        const shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            const shaderType = type === gl.VERTEX_SHADER ? \"VERTEX\" : \"FRAGMENT\";\n            const errorLog = gl.getShaderInfoLog(shader);\n            console.error(`${shaderType} shader compilation error:`, errorLog);\n            // Log the source code with line numbers for easier debugging\n            const sourceLines = source.split(\"\\n\");\n            const numberedSource = sourceLines.map((line, i)=>`${i + 1}: ${line}`).join(\"\\n\");\n            console.error(`${shaderType} shader source:\n${numberedSource}`);\n            gl.deleteShader(shader);\n            return null;\n        }\n        return shader;\n    }\n    createProgram(vertSource, fragSource) {\n        const gl = this.gl;\n        // Make sure we have sources before trying to compile\n        if (!vertSource || !fragSource) {\n            console.error(\"Shader source is missing:\", !vertSource ? \"Vertex shader is missing\" : \"Fragment shader is missing\");\n            return null;\n        }\n        const vertexShader = this.createShader(gl.VERTEX_SHADER, vertSource);\n        const fragmentShader = this.createShader(gl.FRAGMENT_SHADER, fragSource);\n        if (!vertexShader || !fragmentShader) {\n            console.error(\"Failed to create vertex or fragment shader\");\n            return null;\n        }\n        const program = gl.createProgram();\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        gl.linkProgram(program);\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n            console.error(\"Program linking error:\", gl.getProgramInfoLog(program));\n            gl.deleteProgram(program);\n            return null;\n        }\n        return program;\n    }\n    use() {\n        if (!this.program) {\n            console.error(\"Cannot use shader: program is null\");\n            return;\n        }\n        this.gl.useProgram(this.program);\n    }\n    addUniform(name) {\n        if (!this.program) {\n            console.error(\"Cannot add uniform: shader program is null\");\n            return null;\n        }\n        const location = this.gl.getUniformLocation(this.program, name);\n        this.uniforms[name] = location;\n        return location;\n    }\n    addAttribute(name) {\n        if (!this.program) {\n            console.error(\"Cannot add attribute: shader program is null\");\n            return -1;\n        }\n        const location = this.gl.getAttribLocation(this.program, name);\n        this.attributes[name] = location;\n        return location;\n    }\n    setUniform1f(name, value) {\n        if (!this.program) {\n            console.error(\"Cannot set uniform: shader program is null\");\n            return;\n        }\n        if (!this.uniforms[name]) {\n            this.addUniform(name);\n        }\n        this.gl.uniform1f(this.uniforms[name], value);\n    }\n    setUniform2f(name, x, y) {\n        if (!this.program) {\n            console.error(\"Cannot set uniform: shader program is null\");\n            return;\n        }\n        if (!this.uniforms[name]) {\n            this.addUniform(name);\n        }\n        this.gl.uniform2f(this.uniforms[name], x, y);\n    }\n    setUniform3f(name, x, y, z) {\n        if (!this.program) {\n            console.error(\"Cannot set uniform: shader program is null\");\n            return;\n        }\n        if (!this.uniforms[name]) {\n            this.addUniform(name);\n        }\n        this.gl.uniform3f(this.uniforms[name], x, y, z);\n    }\n    setUniform4f(name, x, y, z, w) {\n        if (!this.program) {\n            console.error(\"Cannot set uniform: shader program is null\");\n            return;\n        }\n        if (!this.uniforms[name]) {\n            this.addUniform(name);\n        }\n        this.gl.uniform4f(this.uniforms[name], x, y, z, w);\n    }\n}\nconst ShaderVisualizer = ({ width = \"100%\", height = \"100%\", // audioAnalysis and audioState props are now optional - will use AudioAnalysisManager if not provided\naudioAnalysis = null, audioState = null, shaderSrc, onUpdateUniforms })=>{\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const shaderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const animationFrameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const startTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    const [resolution, setResolution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        1,\n        1\n    ]);\n    const frameCountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [audioManagerState, setAudioManagerState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Subscribe to AudioAnalysisManager for updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[SHADER VIZ] Setting up AudioAnalysisManager subscription\");\n        const unsubscribe = _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].subscribe((newState)=>{\n            setAudioManagerState(newState);\n        });\n        return unsubscribe;\n    }, []);\n    // Track fullscreen changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleFullscreenChange = ()=>{\n            setIsFullscreen(document.fullscreenElement === containerRef.current);\n        };\n        document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n        return ()=>{\n            document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n        };\n    }, []);\n    // Fullscreen toggle function\n    const toggleFullscreen = ()=>{\n        if (!containerRef.current) return;\n        if (!document.fullscreenElement) {\n            containerRef.current.requestFullscreen().catch((err)=>{\n                console.error(`Error attempting to enable fullscreen: ${err.message}`);\n            });\n        } else {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            }\n        }\n    };\n    // Buffer references for WebGL\n    const bufferRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        position: null,\n        texCoord: null\n    });\n    // Default vertex shader for rendering a full-screen quad\n    const defaultVertexShader = `#version 300 es\n    in vec4 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n    void main() {\n      gl_Position = aPosition;\n      vTexCoord = aTexCoord;\n    }\n  `;\n    // Default placeholder fragment shader\n    const defaultFragmentShader = `#version 300 es\n    precision mediump float;\n    in vec2 vTexCoord;\n    uniform float uTime;\n    uniform vec2 uResolution;\n    \n    // GLSL ES 3.0 requires an explicit output variable\n    out vec4 fragColor;\n    \n    void main() {\n      vec2 uv = vTexCoord;\n      // Add resolution-based effects\n      vec2 normCoord = gl_FragCoord.xy / uResolution.xy;\n      vec3 color = 0.5 + 0.5 * cos(uTime + uv.xyx + vec3(0, 2, 4));\n      // Add subtle vignette\n      float vignette = 1.0 - length(normCoord * 2.0 - 1.0);\n      vignette = smoothstep(0.0, 0.7, vignette);\n      color *= vignette;\n      fragColor = vec4(color, 1.0);\n    }\n  `;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        // Setup WebGL context\n        const gl = canvas.getContext(\"webgl2\", {\n            antialias: true,\n            alpha: true\n        });\n        if (!gl) {\n            console.error(\"WebGL 2.0 not supported. Falling back to WebGL 1.0\");\n            const fallbackGL = canvas.getContext(\"webgl\", {\n                antialias: true,\n                alpha: true\n            }) || canvas.getContext(\"experimental-webgl\", {\n                antialias: true,\n                alpha: true\n            });\n            if (!fallbackGL) {\n                console.error(\"WebGL not supported in this browser\");\n                return;\n            }\n        }\n        // Set canvas size with high-DPI display support\n        const setCanvasSize = ()=>{\n            const canvasContainer = canvas.parentElement;\n            const devicePixelRatio = window.devicePixelRatio || 1;\n            // Set the display size (css pixels)\n            canvas.style.width = \"100%\";\n            canvas.style.height = \"100%\";\n            // Set the actual size in memory (scaled for high dpi)\n            const width = Math.floor(canvasContainer.clientWidth * devicePixelRatio);\n            const height = Math.floor(canvasContainer.clientHeight * devicePixelRatio);\n            if (canvas.width !== width || canvas.height !== height) {\n                canvas.width = width;\n                canvas.height = height;\n                gl.viewport(0, 0, width, height);\n                setResolution([\n                    width,\n                    height\n                ]);\n            }\n        };\n        // Set viewport and resize listener\n        setCanvasSize();\n        window.addEventListener(\"resize\", setCanvasSize);\n        // Create buffer objects once\n        const positionBuffer = gl.createBuffer();\n        const texCoordBuffer = gl.createBuffer();\n        // Store buffer references for the animation loop\n        bufferRefs.current = {\n            position: positionBuffer,\n            texCoord: texCoordBuffer\n        };\n        // Create a full-screen quad\n        const positions = new Float32Array([\n            -1.0,\n            -1.0,\n            1.0,\n            -1.0,\n            -1.0,\n            1.0,\n            1.0,\n            1.0\n        ]);\n        const texCoords = new Float32Array([\n            0.0,\n            0.0,\n            1.0,\n            0.0,\n            0.0,\n            1.0,\n            1.0,\n            1.0\n        ]);\n        // Create position buffer\n        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, positions, gl.STATIC_DRAW);\n        // Create texture coord buffer\n        gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, texCoords, gl.STATIC_DRAW);\n        // Enable blending for transparent effects\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n        // Cleanup\n        return ()=>{\n            window.removeEventListener(\"resize\", setCanvasSize);\n            if (animationFrameRef.current) {\n                cancelAnimationFrame(animationFrameRef.current);\n            }\n            // Clean up WebGL resources\n            gl.deleteBuffer(positionBuffer);\n            gl.deleteBuffer(texCoordBuffer);\n            if (shaderRef.current && shaderRef.current.program) {\n                gl.deleteProgram(shaderRef.current.program);\n            }\n        };\n    }, []); // Empty dependency array means this runs once on mount\n    // Separate effect for shader program creation - only runs when shader source changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[SHADER INIT DEBUG] Shader program creation effect triggered\");\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const gl = canvas.getContext(\"webgl2\") || canvas.getContext(\"webgl\");\n        if (!gl) return;\n        // Create shader program only when shaderSrc changes\n        const fragmentShader = shaderSrc || defaultFragmentShader;\n        console.log(\"[SHADER INIT DEBUG] Creating shader program\");\n        const startTime = performance.now();\n        // Clean up any existing shader program to prevent memory leaks\n        if (shaderRef.current && shaderRef.current.program) {\n            console.log(\"[SHADER INIT DEBUG] Cleaning up previous shader program\");\n            gl.deleteProgram(shaderRef.current.program);\n        }\n        const shaderProgram = new ShaderProgram(gl, defaultVertexShader, fragmentShader);\n        const endTime = performance.now();\n        console.log(`[SHADER INIT DEBUG] Shader compilation took ${(endTime - startTime).toFixed(2)}ms`);\n        if (!shaderProgram.program) {\n            console.error(\"[SHADER ERROR] Failed to create shader program. Using fallback shader.\");\n            // Try with fallback shader\n            const fallbackShaderProgram = new ShaderProgram(gl, defaultVertexShader, defaultFragmentShader);\n            shaderRef.current = fallbackShaderProgram;\n        } else {\n            shaderRef.current = shaderProgram;\n            console.log(\"[SHADER INIT DEBUG] Shader program created successfully\");\n        }\n        // Set up attributes\n        shaderProgram.use();\n        shaderProgram.addAttribute(\"aPosition\");\n        shaderProgram.addAttribute(\"aTexCoord\");\n        // Reset animation time when shader changes\n        startTimeRef.current = Date.now();\n        frameCountRef.current = 0;\n        console.log(\"[SHADER INIT DEBUG] Shader initialization complete\");\n    }, [\n        shaderSrc\n    ]); // Only recreate shader when source changes\n    // Combined animation loop for both shader animation and audio processing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[SHADER ANIM DEBUG] Animation loop effect triggered\");\n        const canvas = canvasRef.current;\n        if (!canvas || !shaderRef.current) return;\n        const gl = canvas.getContext(\"webgl2\") || canvas.getContext(\"webgl\");\n        if (!gl) return;\n        const shaderProgram = shaderRef.current;\n        console.log(\"[SHADER ANIM DEBUG] Setting up animation with shader program:\", shaderProgram ? \"Valid\" : \"Invalid\");\n        // Get buffer references\n        const { position: positionBuffer, texCoord: texCoordBuffer } = bufferRefs.current;\n        // Get attribute locations\n        const posAttrLocation = shaderProgram.attributes[\"aPosition\"] || shaderProgram.addAttribute(\"aPosition\");\n        const texCoordAttrLocation = shaderProgram.attributes[\"aTexCoord\"] || shaderProgram.addAttribute(\"aTexCoord\");\n        // Performance monitoring variables\n        let lastFpsUpdate = Date.now();\n        let fps = 0;\n        // Animation function - now using our centralized update logic\n        const animate = ()=>{\n            // Calculate current frame count\n            const currentFrameCount = frameCountRef.current;\n            // Calculate FPS every second\n            const now = Date.now();\n            if (now - lastFpsUpdate >= 1000) {\n                fps = currentFrameCount - (frameCountRef.current - fps);\n                lastFpsUpdate = now;\n                console.log(`[SHADER PERF] FPS: ${fps}, Resolution: ${resolution[0]}x${resolution[1]}`);\n                // Get combined audio state\n                const combinedAudioState = {\n                    // First use passed props if available, otherwise use the manager state\n                    isPlaying: audioState?.isPlaying ?? audioManagerState?.isPlaying ?? false,\n                    currentTime: audioState?.currentTime ?? audioManagerState?.currentTime ?? 0,\n                    analysis: audioAnalysis ?? audioManagerState?.audioAnalysis ?? null\n                };\n                // Add diagnostic logging for audio state\n                if (combinedAudioState.analysis) {\n                    console.log(`[AUDIO DEBUG] Audio analysis available, timeline entries: ${combinedAudioState.analysis.timeline ? combinedAudioState.analysis.timeline.length : \"undefined\"}`);\n                } else {\n                    console.log(`[AUDIO DEBUG] No audio analysis data available`);\n                }\n                console.log(`[AUDIO DEBUG] Audio state: isPlaying=${combinedAudioState.isPlaying}, currentTime=${combinedAudioState.currentTime}`);\n            }\n            // Start frame timing\n            const frameStartTime = performance.now();\n            // Create the audio state, preferring props if provided, otherwise using the manager state\n            const audioStateForShader = {\n                analysis: audioAnalysis ?? audioManagerState?.audioAnalysis,\n                currentTime: audioState?.currentTime ?? audioManagerState?.currentTime ?? 0,\n                isPlaying: audioState?.isPlaying ?? audioManagerState?.isPlaying ?? false\n            };\n            // Use the unified update function\n            const newState = (0,_utils_shaders_ShaderUpdate__WEBPACK_IMPORTED_MODULE_2__.updateFrame)({\n                gl,\n                shaderProgram,\n                buffers: {\n                    positionBuffer,\n                    texCoordBuffer\n                },\n                resolution,\n                startTime: startTimeRef.current,\n                audioState: audioStateForShader,\n                frameCount: currentFrameCount,\n                onUpdateUniforms: onUpdateUniforms\n            });\n            // Update frame counter reference\n            frameCountRef.current = newState.frameCount;\n            // Set position attribute\n            if (posAttrLocation !== -1) {\n                gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n                gl.enableVertexAttribArray(posAttrLocation);\n                gl.vertexAttribPointer(posAttrLocation, 2, gl.FLOAT, false, 0, 0);\n            }\n            // Set texCoord attribute\n            if (texCoordAttrLocation !== -1) {\n                gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n                gl.enableVertexAttribArray(texCoordAttrLocation);\n                gl.vertexAttribPointer(texCoordAttrLocation, 2, gl.FLOAT, false, 0, 0);\n            }\n            // Draw the quad\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            // Measure frame time\n            const frameTime = performance.now() - frameStartTime;\n            if (frameTime > 16) {\n                console.log(`[SHADER PERF WARNING] Slow frame: ${frameTime.toFixed(2)}ms`);\n            }\n            // Request next frame\n            animationFrameRef.current = requestAnimationFrame(animate);\n        };\n        // Start animation\n        console.log(\"[SHADER ANIM DEBUG] Starting animation loop\");\n        animate();\n        return ()=>{\n            console.log(\"[SHADER ANIM DEBUG] Cleaning up animation resources\");\n            if (animationFrameRef.current) {\n                cancelAnimationFrame(animationFrameRef.current);\n            }\n        };\n    }, [\n        resolution,\n        audioAnalysis,\n        audioState,\n        audioManagerState,\n        onUpdateUniforms\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            width,\n            height,\n            position: \"relative\",\n            overflow: \"hidden\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    width: \"100%\",\n                    height: \"100%\",\n                    display: \"block\",\n                    borderRadius: \"inherit\"\n                }\n            }, void 0, false, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n                lineNumber: 502,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: toggleFullscreen,\n                style: {\n                    position: \"absolute\",\n                    top: \"10px\",\n                    right: \"10px\",\n                    zIndex: 10,\n                    background: \"rgba(0, 0, 0, 0.5)\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    padding: \"8px\",\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: \"36px\",\n                    height: \"36px\"\n                },\n                \"aria-label\": isFullscreen ? \"Exit fullscreen\" : \"Enter fullscreen\",\n                children: isFullscreen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n                        lineNumber: 534,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n                    lineNumber: 533,\n                    columnNumber: 21\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    width: \"16\",\n                    height: \"16\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        d: \"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n                        lineNumber: 538,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n                    lineNumber: 537,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n                lineNumber: 511,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/components/ShaderVisualizer.js\",\n        lineNumber: 498,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShaderVisualizer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVM7b0JBQ1RDLFFBQVE7b0JBQ1JYLFNBQVM7b0JBQ1RZLFlBQVk7b0JBQ1pDLGdCQUFnQjtvQkFDaEJ2SCxPQUFPO29CQUNQQyxRQUFRO2dCQUNaO2dCQUNBdUgsY0FBWXRHLGVBQWUsb0JBQW9COzBCQUU5Q0EsNkJBQ0csOERBQUN1RztvQkFBSXpILE9BQU07b0JBQUtDLFFBQU87b0JBQUt5SCxTQUFRO29CQUFZQyxNQUFLO29CQUFPQyxRQUFPO29CQUFlQyxhQUFZOzhCQUMxRiw0RUFBQ0M7d0JBQUtDLEdBQUU7Ozs7Ozs7Ozs7OENBR1osOERBQUNOO29CQUFJekgsT0FBTTtvQkFBS0MsUUFBTztvQkFBS3lILFNBQVE7b0JBQVlDLE1BQUs7b0JBQU9DLFFBQU87b0JBQWVDLGFBQVk7OEJBQzFGLDRFQUFDQzt3QkFBS0MsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1oQztBQUVBLGlFQUFlaEksZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi9jb21wb25lbnRzL1NoYWRlclZpc3VhbGl6ZXIuanM/Njc2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXBkYXRlRnJhbWUgfSBmcm9tICcuLi91dGlscy9zaGFkZXJzL1NoYWRlclVwZGF0ZSc7XG5pbXBvcnQgQXVkaW9BbmFseXNpc01hbmFnZXIgZnJvbSAnLi4vdXRpbHMvYXVkaW8vQXVkaW9BbmFseXNpc01hbmFnZXInO1xuXG5jbGFzcyBTaGFkZXJQcm9ncmFtIHtcbiAgICBjb25zdHJ1Y3RvcihnbCwgdmVydFNvdXJjZSwgZnJhZ1NvdXJjZSkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuY3JlYXRlUHJvZ3JhbSh2ZXJ0U291cmNlLCBmcmFnU291cmNlKTtcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG5cbiAgICBjcmVhdGVTaGFkZXIodHlwZSwgc291cmNlKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRlclR5cGUgPSB0eXBlID09PSBnbC5WRVJURVhfU0hBREVSID8gJ1ZFUlRFWCcgOiAnRlJBR01FTlQnO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JMb2cgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3NoYWRlclR5cGV9IHNoYWRlciBjb21waWxhdGlvbiBlcnJvcjpgLCBlcnJvckxvZyk7XG5cbiAgICAgICAgICAgIC8vIExvZyB0aGUgc291cmNlIGNvZGUgd2l0aCBsaW5lIG51bWJlcnMgZm9yIGVhc2llciBkZWJ1Z2dpbmdcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUxpbmVzID0gc291cmNlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlcmVkU291cmNlID0gc291cmNlTGluZXMubWFwKChsaW5lLCBpKSA9PiBgJHtpICsgMX06ICR7bGluZX1gKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7c2hhZGVyVHlwZX0gc2hhZGVyIHNvdXJjZTpcbiR7bnVtYmVyZWRTb3VyY2V9YCk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH1cblxuICAgIGNyZWF0ZVByb2dyYW0odmVydFNvdXJjZSwgZnJhZ1NvdXJjZSkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgc291cmNlcyBiZWZvcmUgdHJ5aW5nIHRvIGNvbXBpbGVcbiAgICAgICAgaWYgKCF2ZXJ0U291cmNlIHx8ICFmcmFnU291cmNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaGFkZXIgc291cmNlIGlzIG1pc3Npbmc6JyxcbiAgICAgICAgICAgICAgICAhdmVydFNvdXJjZSA/ICdWZXJ0ZXggc2hhZGVyIGlzIG1pc3NpbmcnIDogJ0ZyYWdtZW50IHNoYWRlciBpcyBtaXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IHRoaXMuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIsIHZlcnRTb3VyY2UpO1xuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IHRoaXMuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ1NvdXJjZSk7XG5cbiAgICAgICAgaWYgKCF2ZXJ0ZXhTaGFkZXIgfHwgIWZyYWdtZW50U2hhZGVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHZlcnRleCBvciBmcmFnbWVudCBzaGFkZXInKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2dyYW0gbGlua2luZyBlcnJvcjonLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9XG5cbiAgICB1c2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgdXNlIHNoYWRlcjogcHJvZ3JhbSBpcyBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgfVxuXG4gICAgYWRkVW5pZm9ybShuYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgYWRkIHVuaWZvcm06IHNoYWRlciBwcm9ncmFtIGlzIG51bGwnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBuYW1lKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtc1tuYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfVxuXG4gICAgYWRkQXR0cmlidXRlKG5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBhZGQgYXR0cmlidXRlOiBzaGFkZXIgcHJvZ3JhbSBpcyBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgbmFtZSk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1tuYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfVxuXG4gICAgc2V0VW5pZm9ybTFmKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3Qgc2V0IHVuaWZvcm06IHNoYWRlciBwcm9ncmFtIGlzIG51bGwnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsLnVuaWZvcm0xZih0aGlzLnVuaWZvcm1zW25hbWVdLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgc2V0VW5pZm9ybTJmKG5hbWUsIHgsIHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBzZXQgdW5pZm9ybTogc2hhZGVyIHByb2dyYW0gaXMgbnVsbCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy51bmlmb3Jtc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5hZGRVbmlmb3JtKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTJmKHRoaXMudW5pZm9ybXNbbmFtZV0sIHgsIHkpO1xuICAgIH1cblxuICAgIHNldFVuaWZvcm0zZihuYW1lLCB4LCB5LCB6KSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3Qgc2V0IHVuaWZvcm06IHNoYWRlciBwcm9ncmFtIGlzIG51bGwnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVW5pZm9ybShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsLnVuaWZvcm0zZih0aGlzLnVuaWZvcm1zW25hbWVdLCB4LCB5LCB6KTtcbiAgICB9XG5cbiAgICBzZXRVbmlmb3JtNGYobmFtZSwgeCwgeSwgeiwgdykge1xuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IHNldCB1bmlmb3JtOiBzaGFkZXIgcHJvZ3JhbSBpcyBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnVuaWZvcm1zW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFVuaWZvcm0obmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbC51bmlmb3JtNGYodGhpcy51bmlmb3Jtc1tuYW1lXSwgeCwgeSwgeiwgdyk7XG4gICAgfVxufVxuXG5jb25zdCBTaGFkZXJWaXN1YWxpemVyID0gKHtcbiAgICB3aWR0aCA9ICcxMDAlJyxcbiAgICBoZWlnaHQgPSAnMTAwJScsXG4gICAgLy8gYXVkaW9BbmFseXNpcyBhbmQgYXVkaW9TdGF0ZSBwcm9wcyBhcmUgbm93IG9wdGlvbmFsIC0gd2lsbCB1c2UgQXVkaW9BbmFseXNpc01hbmFnZXIgaWYgbm90IHByb3ZpZGVkXG4gICAgYXVkaW9BbmFseXNpcyA9IG51bGwsXG4gICAgYXVkaW9TdGF0ZSA9IG51bGwsXG4gICAgc2hhZGVyU3JjLFxuICAgIG9uVXBkYXRlVW5pZm9ybXNcbn0pID0+IHtcbiAgICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHNoYWRlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBhbmltYXRpb25GcmFtZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBzdGFydFRpbWVSZWYgPSB1c2VSZWYoRGF0ZS5ub3coKSk7XG4gICAgY29uc3QgW3Jlc29sdXRpb24sIHNldFJlc29sdXRpb25dID0gdXNlU3RhdGUoWzEsIDFdKTtcbiAgICBjb25zdCBmcmFtZUNvdW50UmVmID0gdXNlUmVmKDApO1xuICAgIGNvbnN0IFthdWRpb01hbmFnZXJTdGF0ZSwgc2V0QXVkaW9NYW5hZ2VyU3RhdGVdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2lzRnVsbHNjcmVlbiwgc2V0SXNGdWxsc2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBBdWRpb0FuYWx5c2lzTWFuYWdlciBmb3IgdXBkYXRlc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0hBREVSIFZJWl0gU2V0dGluZyB1cCBBdWRpb0FuYWx5c2lzTWFuYWdlciBzdWJzY3JpcHRpb24nKTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBBdWRpb0FuYWx5c2lzTWFuYWdlci5zdWJzY3JpYmUobmV3U3RhdGUgPT4ge1xuICAgICAgICAgICAgc2V0QXVkaW9NYW5hZ2VyU3RhdGUobmV3U3RhdGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdW5zdWJzY3JpYmU7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gVHJhY2sgZnVsbHNjcmVlbiBjaGFuZ2VzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzRnVsbHNjcmVlbihkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gY29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBGdWxsc2NyZWVuIHRvZ2dsZSBmdW5jdGlvblxuICAgIGNvbnN0IHRvZ2dsZUZ1bGxzY3JlZW4gPSAoKSA9PiB7XG4gICAgICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgICBpZiAoIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7XG4gICAgICAgICAgICBjb250YWluZXJSZWYuY3VycmVudC5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgYXR0ZW1wdGluZyB0byBlbmFibGUgZnVsbHNjcmVlbjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBCdWZmZXIgcmVmZXJlbmNlcyBmb3IgV2ViR0xcbiAgICBjb25zdCBidWZmZXJSZWZzID0gdXNlUmVmKHtcbiAgICAgICAgcG9zaXRpb246IG51bGwsXG4gICAgICAgIHRleENvb3JkOiBudWxsXG4gICAgfSk7XG5cbiAgICAvLyBEZWZhdWx0IHZlcnRleCBzaGFkZXIgZm9yIHJlbmRlcmluZyBhIGZ1bGwtc2NyZWVuIHF1YWRcbiAgICBjb25zdCBkZWZhdWx0VmVydGV4U2hhZGVyID0gYCN2ZXJzaW9uIDMwMCBlc1xuICAgIGluIHZlYzQgYVBvc2l0aW9uO1xuICAgIGluIHZlYzIgYVRleENvb3JkO1xuICAgIG91dCB2ZWMyIHZUZXhDb29yZDtcbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBnbF9Qb3NpdGlvbiA9IGFQb3NpdGlvbjtcbiAgICAgIHZUZXhDb29yZCA9IGFUZXhDb29yZDtcbiAgICB9XG4gIGA7XG5cbiAgICAvLyBEZWZhdWx0IHBsYWNlaG9sZGVyIGZyYWdtZW50IHNoYWRlclxuICAgIGNvbnN0IGRlZmF1bHRGcmFnbWVudFNoYWRlciA9IGAjdmVyc2lvbiAzMDAgZXNcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiAgICBpbiB2ZWMyIHZUZXhDb29yZDtcbiAgICB1bmlmb3JtIGZsb2F0IHVUaW1lO1xuICAgIHVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbiAgICBcbiAgICAvLyBHTFNMIEVTIDMuMCByZXF1aXJlcyBhbiBleHBsaWNpdCBvdXRwdXQgdmFyaWFibGVcbiAgICBvdXQgdmVjNCBmcmFnQ29sb3I7XG4gICAgXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMiB1diA9IHZUZXhDb29yZDtcbiAgICAgIC8vIEFkZCByZXNvbHV0aW9uLWJhc2VkIGVmZmVjdHNcbiAgICAgIHZlYzIgbm9ybUNvb3JkID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gdVJlc29sdXRpb24ueHk7XG4gICAgICB2ZWMzIGNvbG9yID0gMC41ICsgMC41ICogY29zKHVUaW1lICsgdXYueHl4ICsgdmVjMygwLCAyLCA0KSk7XG4gICAgICAvLyBBZGQgc3VidGxlIHZpZ25ldHRlXG4gICAgICBmbG9hdCB2aWduZXR0ZSA9IDEuMCAtIGxlbmd0aChub3JtQ29vcmQgKiAyLjAgLSAxLjApO1xuICAgICAgdmlnbmV0dGUgPSBzbW9vdGhzdGVwKDAuMCwgMC43LCB2aWduZXR0ZSk7XG4gICAgICBjb2xvciAqPSB2aWduZXR0ZTtcbiAgICAgIGZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG4gICAgfVxuICBgO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICAgICAgLy8gU2V0dXAgV2ViR0wgY29udGV4dFxuICAgICAgICBjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7IGFudGlhbGlhczogdHJ1ZSwgYWxwaGE6IHRydWUgfSk7XG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYkdMIDIuMCBub3Qgc3VwcG9ydGVkLiBGYWxsaW5nIGJhY2sgdG8gV2ViR0wgMS4wJyk7XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja0dMID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgeyBhbnRpYWxpYXM6IHRydWUsIGFscGhhOiB0cnVlIH0pIHx8XG4gICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHsgYW50aWFsaWFzOiB0cnVlLCBhbHBoYTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGlmICghZmFsbGJhY2tHTCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYkdMIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGNhbnZhcyBzaXplIHdpdGggaGlnaC1EUEkgZGlzcGxheSBzdXBwb3J0XG4gICAgICAgIGNvbnN0IHNldENhbnZhc1NpemUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNDb250YWluZXIgPSBjYW52YXMucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGRpc3BsYXkgc2l6ZSAoY3NzIHBpeGVscylcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgYWN0dWFsIHNpemUgaW4gbWVtb3J5IChzY2FsZWQgZm9yIGhpZ2ggZHBpKVxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmZsb29yKGNhbnZhc0NvbnRhaW5lci5jbGllbnRXaWR0aCAqIGRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5mbG9vcihjYW52YXNDb250YWluZXIuY2xpZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgc2V0UmVzb2x1dGlvbihbd2lkdGgsIGhlaWdodF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCB2aWV3cG9ydCBhbmQgcmVzaXplIGxpc3RlbmVyXG4gICAgICAgIHNldENhbnZhc1NpemUoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNldENhbnZhc1NpemUpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBidWZmZXIgb2JqZWN0cyBvbmNlXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IHRleENvb3JkQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAgICAgLy8gU3RvcmUgYnVmZmVyIHJlZmVyZW5jZXMgZm9yIHRoZSBhbmltYXRpb24gbG9vcFxuICAgICAgICBidWZmZXJSZWZzLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb25CdWZmZXIsXG4gICAgICAgICAgICB0ZXhDb29yZDogdGV4Q29vcmRCdWZmZXJcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBmdWxsLXNjcmVlbiBxdWFkXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTEuMCwgLTEuMCwgIC8vIGJvdHRvbSBsZWZ0XG4gICAgICAgICAgICAxLjAsIC0xLjAsICAvLyBib3R0b20gcmlnaHRcbiAgICAgICAgICAgIC0xLjAsIDEuMCwgIC8vIHRvcCBsZWZ0XG4gICAgICAgICAgICAxLjAsIDEuMCwgIC8vIHRvcCByaWdodFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdCB0ZXhDb29yZHMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAuMCwgMC4wLCAgLy8gYm90dG9tIGxlZnRcbiAgICAgICAgICAgIDEuMCwgMC4wLCAgLy8gYm90dG9tIHJpZ2h0XG4gICAgICAgICAgICAwLjAsIDEuMCwgIC8vIHRvcCBsZWZ0XG4gICAgICAgICAgICAxLjAsIDEuMCwgIC8vIHRvcCByaWdodFxuICAgICAgICBdKTtcblxuICAgICAgICAvLyBDcmVhdGUgcG9zaXRpb24gYnVmZmVyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbnMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyBDcmVhdGUgdGV4dHVyZSBjb29yZCBidWZmZXJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIC8vIEVuYWJsZSBibGVuZGluZyBmb3IgdHJhbnNwYXJlbnQgZWZmZWN0c1xuICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgICAgICAvLyBDbGVhbnVwXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2V0Q2FudmFzU2l6ZSk7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBXZWJHTCByZXNvdXJjZXNcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihwb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIodGV4Q29vcmRCdWZmZXIpO1xuICAgICAgICAgICAgaWYgKHNoYWRlclJlZi5jdXJyZW50ICYmIHNoYWRlclJlZi5jdXJyZW50LnByb2dyYW0pIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHNoYWRlclJlZi5jdXJyZW50LnByb2dyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTsgLy8gRW1wdHkgZGVwZW5kZW5jeSBhcnJheSBtZWFucyB0aGlzIHJ1bnMgb25jZSBvbiBtb3VudFxuXG4gICAgLy8gU2VwYXJhdGUgZWZmZWN0IGZvciBzaGFkZXIgcHJvZ3JhbSBjcmVhdGlvbiAtIG9ubHkgcnVucyB3aGVuIHNoYWRlciBzb3VyY2UgY2hhbmdlc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0hBREVSIElOSVQgREVCVUddIFNoYWRlciBwcm9ncmFtIGNyZWF0aW9uIGVmZmVjdCB0cmlnZ2VyZWQnKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJykgfHwgY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG4gICAgICAgIGlmICghZ2wpIHJldHVybjtcblxuICAgICAgICAvLyBDcmVhdGUgc2hhZGVyIHByb2dyYW0gb25seSB3aGVuIHNoYWRlclNyYyBjaGFuZ2VzXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gc2hhZGVyU3JjIHx8IGRlZmF1bHRGcmFnbWVudFNoYWRlcjtcblxuICAgICAgICBjb25zb2xlLmxvZygnW1NIQURFUiBJTklUIERFQlVHXSBDcmVhdGluZyBzaGFkZXIgcHJvZ3JhbScpO1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCBhbnkgZXhpc3Rpbmcgc2hhZGVyIHByb2dyYW0gdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICAgICAgaWYgKHNoYWRlclJlZi5jdXJyZW50ICYmIHNoYWRlclJlZi5jdXJyZW50LnByb2dyYW0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU0hBREVSIElOSVQgREVCVUddIENsZWFuaW5nIHVwIHByZXZpb3VzIHNoYWRlciBwcm9ncmFtJyk7XG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHNoYWRlclJlZi5jdXJyZW50LnByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhZGVyUHJvZ3JhbSA9IG5ldyBTaGFkZXJQcm9ncmFtKGdsLCBkZWZhdWx0VmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtTSEFERVIgSU5JVCBERUJVR10gU2hhZGVyIGNvbXBpbGF0aW9uIHRvb2sgJHsoZW5kVGltZSAtIHN0YXJ0VGltZSkudG9GaXhlZCgyKX1tc2ApO1xuXG4gICAgICAgIGlmICghc2hhZGVyUHJvZ3JhbS5wcm9ncmFtKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU0hBREVSIEVSUk9SXSBGYWlsZWQgdG8gY3JlYXRlIHNoYWRlciBwcm9ncmFtLiBVc2luZyBmYWxsYmFjayBzaGFkZXIuJyk7XG4gICAgICAgICAgICAvLyBUcnkgd2l0aCBmYWxsYmFjayBzaGFkZXJcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrU2hhZGVyUHJvZ3JhbSA9IG5ldyBTaGFkZXJQcm9ncmFtKGdsLCBkZWZhdWx0VmVydGV4U2hhZGVyLCBkZWZhdWx0RnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICAgICAgc2hhZGVyUmVmLmN1cnJlbnQgPSBmYWxsYmFja1NoYWRlclByb2dyYW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaGFkZXJSZWYuY3VycmVudCA9IHNoYWRlclByb2dyYW07XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1NIQURFUiBJTklUIERFQlVHXSBTaGFkZXIgcHJvZ3JhbSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHVwIGF0dHJpYnV0ZXNcbiAgICAgICAgc2hhZGVyUHJvZ3JhbS51c2UoKTtcbiAgICAgICAgc2hhZGVyUHJvZ3JhbS5hZGRBdHRyaWJ1dGUoJ2FQb3NpdGlvbicpO1xuICAgICAgICBzaGFkZXJQcm9ncmFtLmFkZEF0dHJpYnV0ZSgnYVRleENvb3JkJyk7XG5cbiAgICAgICAgLy8gUmVzZXQgYW5pbWF0aW9uIHRpbWUgd2hlbiBzaGFkZXIgY2hhbmdlc1xuICAgICAgICBzdGFydFRpbWVSZWYuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgIGZyYW1lQ291bnRSZWYuY3VycmVudCA9IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0hBREVSIElOSVQgREVCVUddIFNoYWRlciBpbml0aWFsaXphdGlvbiBjb21wbGV0ZScpO1xuXG4gICAgfSwgW3NoYWRlclNyY10pOyAvLyBPbmx5IHJlY3JlYXRlIHNoYWRlciB3aGVuIHNvdXJjZSBjaGFuZ2VzXG5cbiAgICAvLyBDb21iaW5lZCBhbmltYXRpb24gbG9vcCBmb3IgYm90aCBzaGFkZXIgYW5pbWF0aW9uIGFuZCBhdWRpbyBwcm9jZXNzaW5nXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTSEFERVIgQU5JTSBERUJVR10gQW5pbWF0aW9uIGxvb3AgZWZmZWN0IHRyaWdnZXJlZCcpO1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjYW52YXMgfHwgIXNoYWRlclJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJykgfHwgY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG4gICAgICAgIGlmICghZ2wpIHJldHVybjtcblxuICAgICAgICBjb25zdCBzaGFkZXJQcm9ncmFtID0gc2hhZGVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbU0hBREVSIEFOSU0gREVCVUddIFNldHRpbmcgdXAgYW5pbWF0aW9uIHdpdGggc2hhZGVyIHByb2dyYW06Jywgc2hhZGVyUHJvZ3JhbSA/ICdWYWxpZCcgOiAnSW52YWxpZCcpO1xuXG4gICAgICAgIC8vIEdldCBidWZmZXIgcmVmZXJlbmNlc1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uOiBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmQ6IHRleENvb3JkQnVmZmVyIH0gPSBidWZmZXJSZWZzLmN1cnJlbnQ7XG5cbiAgICAgICAgLy8gR2V0IGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAgICAgICAgY29uc3QgcG9zQXR0ckxvY2F0aW9uID0gc2hhZGVyUHJvZ3JhbS5hdHRyaWJ1dGVzWydhUG9zaXRpb24nXSB8fCBzaGFkZXJQcm9ncmFtLmFkZEF0dHJpYnV0ZSgnYVBvc2l0aW9uJyk7XG4gICAgICAgIGNvbnN0IHRleENvb3JkQXR0ckxvY2F0aW9uID0gc2hhZGVyUHJvZ3JhbS5hdHRyaWJ1dGVzWydhVGV4Q29vcmQnXSB8fCBzaGFkZXJQcm9ncmFtLmFkZEF0dHJpYnV0ZSgnYVRleENvb3JkJyk7XG5cbiAgICAgICAgLy8gUGVyZm9ybWFuY2UgbW9uaXRvcmluZyB2YXJpYWJsZXNcbiAgICAgICAgbGV0IGxhc3RGcHNVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgZnBzID0gMDtcblxuICAgICAgICAvLyBBbmltYXRpb24gZnVuY3Rpb24gLSBub3cgdXNpbmcgb3VyIGNlbnRyYWxpemVkIHVwZGF0ZSBsb2dpY1xuICAgICAgICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGN1cnJlbnQgZnJhbWUgY291bnRcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGcmFtZUNvdW50ID0gZnJhbWVDb3VudFJlZi5jdXJyZW50O1xuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgRlBTIGV2ZXJ5IHNlY29uZFxuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChub3cgLSBsYXN0RnBzVXBkYXRlID49IDEwMDApIHtcbiAgICAgICAgICAgICAgICBmcHMgPSBjdXJyZW50RnJhbWVDb3VudCAtIChmcmFtZUNvdW50UmVmLmN1cnJlbnQgLSBmcHMpO1xuICAgICAgICAgICAgICAgIGxhc3RGcHNVcGRhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtTSEFERVIgUEVSRl0gRlBTOiAke2Zwc30sIFJlc29sdXRpb246ICR7cmVzb2x1dGlvblswXX14JHtyZXNvbHV0aW9uWzFdfWApO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IGNvbWJpbmVkIGF1ZGlvIHN0YXRlXG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmluZWRBdWRpb1N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdCB1c2UgcGFzc2VkIHByb3BzIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSB0aGUgbWFuYWdlciBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IGF1ZGlvU3RhdGU/LmlzUGxheWluZyA/PyBhdWRpb01hbmFnZXJTdGF0ZT8uaXNQbGF5aW5nID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogYXVkaW9TdGF0ZT8uY3VycmVudFRpbWUgPz8gYXVkaW9NYW5hZ2VyU3RhdGU/LmN1cnJlbnRUaW1lID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGFuYWx5c2lzOiBhdWRpb0FuYWx5c2lzID8/IGF1ZGlvTWFuYWdlclN0YXRlPy5hdWRpb0FuYWx5c2lzID8/IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGRpYWdub3N0aWMgbG9nZ2luZyBmb3IgYXVkaW8gc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoY29tYmluZWRBdWRpb1N0YXRlLmFuYWx5c2lzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbQVVESU8gREVCVUddIEF1ZGlvIGFuYWx5c2lzIGF2YWlsYWJsZSwgdGltZWxpbmUgZW50cmllczogJHtjb21iaW5lZEF1ZGlvU3RhdGUuYW5hbHlzaXMudGltZWxpbmUgPyBjb21iaW5lZEF1ZGlvU3RhdGUuYW5hbHlzaXMudGltZWxpbmUubGVuZ3RoIDogJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0FVRElPIERFQlVHXSBObyBhdWRpbyBhbmFseXNpcyBkYXRhIGF2YWlsYWJsZWApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbQVVESU8gREVCVUddIEF1ZGlvIHN0YXRlOiBpc1BsYXlpbmc9JHtjb21iaW5lZEF1ZGlvU3RhdGUuaXNQbGF5aW5nfSwgY3VycmVudFRpbWU9JHtjb21iaW5lZEF1ZGlvU3RhdGUuY3VycmVudFRpbWV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGZyYW1lIHRpbWluZ1xuICAgICAgICAgICAgY29uc3QgZnJhbWVTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBhdWRpbyBzdGF0ZSwgcHJlZmVycmluZyBwcm9wcyBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIHVzaW5nIHRoZSBtYW5hZ2VyIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBhdWRpb1N0YXRlRm9yU2hhZGVyID0ge1xuICAgICAgICAgICAgICAgIGFuYWx5c2lzOiBhdWRpb0FuYWx5c2lzID8/IGF1ZGlvTWFuYWdlclN0YXRlPy5hdWRpb0FuYWx5c2lzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiBhdWRpb1N0YXRlPy5jdXJyZW50VGltZSA/PyBhdWRpb01hbmFnZXJTdGF0ZT8uY3VycmVudFRpbWUgPz8gMCxcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IGF1ZGlvU3RhdGU/LmlzUGxheWluZyA/PyBhdWRpb01hbmFnZXJTdGF0ZT8uaXNQbGF5aW5nID8/IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHVuaWZpZWQgdXBkYXRlIGZ1bmN0aW9uXG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHVwZGF0ZUZyYW1lKHtcbiAgICAgICAgICAgICAgICBnbCxcbiAgICAgICAgICAgICAgICBzaGFkZXJQcm9ncmFtLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcnM6IHsgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyIH0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZVJlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIGF1ZGlvU3RhdGU6IGF1ZGlvU3RhdGVGb3JTaGFkZXIsXG4gICAgICAgICAgICAgICAgZnJhbWVDb3VudDogY3VycmVudEZyYW1lQ291bnQsXG4gICAgICAgICAgICAgICAgb25VcGRhdGVVbmlmb3Jtczogb25VcGRhdGVVbmlmb3Jtc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmcmFtZSBjb3VudGVyIHJlZmVyZW5jZVxuICAgICAgICAgICAgZnJhbWVDb3VudFJlZi5jdXJyZW50ID0gbmV3U3RhdGUuZnJhbWVDb3VudDtcblxuICAgICAgICAgICAgLy8gU2V0IHBvc2l0aW9uIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKHBvc0F0dHJMb2NhdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc0F0dHJMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NBdHRyTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCB0ZXhDb29yZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICh0ZXhDb29yZEF0dHJMb2NhdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGV4Q29vcmRCdWZmZXIpO1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRleENvb3JkQXR0ckxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRleENvb3JkQXR0ckxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBxdWFkXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcblxuICAgICAgICAgICAgLy8gTWVhc3VyZSBmcmFtZSB0aW1lXG4gICAgICAgICAgICBjb25zdCBmcmFtZVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGZyYW1lU3RhcnRUaW1lO1xuICAgICAgICAgICAgaWYgKGZyYW1lVGltZSA+IDE2KSB7IC8vIExvZyBzbG93IGZyYW1lcyAoYmVsb3cgNjBmcHMpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtTSEFERVIgUEVSRiBXQVJOSU5HXSBTbG93IGZyYW1lOiAke2ZyYW1lVGltZS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlcXVlc3QgbmV4dCBmcmFtZVxuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdGFydCBhbmltYXRpb25cbiAgICAgICAgY29uc29sZS5sb2coJ1tTSEFERVIgQU5JTSBERUJVR10gU3RhcnRpbmcgYW5pbWF0aW9uIGxvb3AnKTtcbiAgICAgICAgYW5pbWF0ZSgpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1NIQURFUiBBTklNIERFQlVHXSBDbGVhbmluZyB1cCBhbmltYXRpb24gcmVzb3VyY2VzJyk7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtyZXNvbHV0aW9uLCBhdWRpb0FuYWx5c2lzLCBhdWRpb1N0YXRlLCBhdWRpb01hbmFnZXJTdGF0ZSwgb25VcGRhdGVVbmlmb3Jtc10pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aCwgaGVpZ2h0LCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgb3ZlcmZsb3c6ICdoaWRkZW4nIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxjYW52YXNcbiAgICAgICAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW5oZXJpdCdcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVGdWxsc2NyZWVufVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICB0b3A6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxMCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMzZweCcsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzM2cHgnXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtpc0Z1bGxzY3JlZW4gPyBcIkV4aXQgZnVsbHNjcmVlblwiIDogXCJFbnRlciBmdWxsc2NyZWVuXCJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzRnVsbHNjcmVlbiA/IChcbiAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOCAzdjNhMiAyIDAgMCAxLTIgMkgzbTE4IDBoLTNhMiAyIDAgMCAxLTItMlYzbTAgMTh2LTNhMiAyIDAgMCAxIDItMmgzTTMgMTZoM2EyIDIgMCAwIDEgMiAydjNcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk04IDNINWEyIDIgMCAwIDAtMiAydjNtMTggMFY1YTIgMiAwIDAgMC0yLTJoLTNtMCAxOGgzYTIgMiAwIDAgMCAyLTJ2LTNNMyAxNnYzYTIgMiAwIDAgMCAyIDJoM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNoYWRlclZpc3VhbGl6ZXI7ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXBkYXRlRnJhbWUiLCJBdWRpb0FuYWx5c2lzTWFuYWdlciIsIlNoYWRlclByb2dyYW0iLCJjb25zdHJ1Y3RvciIsImdsIiwidmVydFNvdXJjZSIsImZyYWdTb3VyY2UiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsInVuaWZvcm1zIiwiYXR0cmlidXRlcyIsImNyZWF0ZVNoYWRlciIsInR5cGUiLCJzb3VyY2UiLCJzaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJzaGFkZXJUeXBlIiwiVkVSVEVYX1NIQURFUiIsImVycm9yTG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsImNvbnNvbGUiLCJlcnJvciIsInNvdXJjZUxpbmVzIiwic3BsaXQiLCJudW1iZXJlZFNvdXJjZSIsIm1hcCIsImxpbmUiLCJpIiwiam9pbiIsImRlbGV0ZVNoYWRlciIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJ1c2UiLCJ1c2VQcm9ncmFtIiwiYWRkVW5pZm9ybSIsIm5hbWUiLCJsb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImFkZEF0dHJpYnV0ZSIsImdldEF0dHJpYkxvY2F0aW9uIiwic2V0VW5pZm9ybTFmIiwidmFsdWUiLCJ1bmlmb3JtMWYiLCJzZXRVbmlmb3JtMmYiLCJ4IiwieSIsInVuaWZvcm0yZiIsInNldFVuaWZvcm0zZiIsInoiLCJ1bmlmb3JtM2YiLCJzZXRVbmlmb3JtNGYiLCJ3IiwidW5pZm9ybTRmIiwiU2hhZGVyVmlzdWFsaXplciIsIndpZHRoIiwiaGVpZ2h0IiwiYXVkaW9BbmFseXNpcyIsImF1ZGlvU3RhdGUiLCJzaGFkZXJTcmMiLCJvblVwZGF0ZVVuaWZvcm1zIiwiY2FudmFzUmVmIiwiY29udGFpbmVyUmVmIiwic2hhZGVyUmVmIiwiYW5pbWF0aW9uRnJhbWVSZWYiLCJzdGFydFRpbWVSZWYiLCJEYXRlIiwibm93IiwicmVzb2x1dGlvbiIsInNldFJlc29sdXRpb24iLCJmcmFtZUNvdW50UmVmIiwiYXVkaW9NYW5hZ2VyU3RhdGUiLCJzZXRBdWRpb01hbmFnZXJTdGF0ZSIsImlzRnVsbHNjcmVlbiIsInNldElzRnVsbHNjcmVlbiIsImxvZyIsInVuc3Vic2NyaWJlIiwic3Vic2NyaWJlIiwibmV3U3RhdGUiLCJoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlIiwiZG9jdW1lbnQiLCJmdWxsc2NyZWVuRWxlbWVudCIsImN1cnJlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvZ2dsZUZ1bGxzY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsImNhdGNoIiwiZXJyIiwibWVzc2FnZSIsImV4aXRGdWxsc2NyZWVuIiwiYnVmZmVyUmVmcyIsInBvc2l0aW9uIiwidGV4Q29vcmQiLCJkZWZhdWx0VmVydGV4U2hhZGVyIiwiZGVmYXVsdEZyYWdtZW50U2hhZGVyIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsImFudGlhbGlhcyIsImFscGhhIiwiZmFsbGJhY2tHTCIsInNldENhbnZhc1NpemUiLCJjYW52YXNDb250YWluZXIiLCJwYXJlbnRFbGVtZW50IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndpbmRvdyIsInN0eWxlIiwiTWF0aCIsImZsb29yIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJ2aWV3cG9ydCIsInBvc2l0aW9uQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwidGV4Q29vcmRCdWZmZXIiLCJwb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJ0ZXhDb29yZHMiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiZW5hYmxlIiwiQkxFTkQiLCJibGVuZEZ1bmMiLCJTUkNfQUxQSEEiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJkZWxldGVCdWZmZXIiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsInNoYWRlclByb2dyYW0iLCJlbmRUaW1lIiwidG9GaXhlZCIsImZhbGxiYWNrU2hhZGVyUHJvZ3JhbSIsInBvc0F0dHJMb2NhdGlvbiIsInRleENvb3JkQXR0ckxvY2F0aW9uIiwibGFzdEZwc1VwZGF0ZSIsImZwcyIsImFuaW1hdGUiLCJjdXJyZW50RnJhbWVDb3VudCIsImNvbWJpbmVkQXVkaW9TdGF0ZSIsImlzUGxheWluZyIsImN1cnJlbnRUaW1lIiwiYW5hbHlzaXMiLCJ0aW1lbGluZSIsImxlbmd0aCIsImZyYW1lU3RhcnRUaW1lIiwiYXVkaW9TdGF0ZUZvclNoYWRlciIsImJ1ZmZlcnMiLCJmcmFtZUNvdW50IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJmcmFtZVRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkaXYiLCJyZWYiLCJvdmVyZmxvdyIsImRpc3BsYXkiLCJib3JkZXJSYWRpdXMiLCJidXR0b24iLCJvbkNsaWNrIiwidG9wIiwicmlnaHQiLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJib3JkZXIiLCJwYWRkaW5nIiwiY3Vyc29yIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiYXJpYS1sYWJlbCIsInN2ZyIsInZpZXdCb3giLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ShaderVisualizer.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n\n // You'll need to create this\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        ...pageProps\n    }, void 0, false, {\n        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/_app.js\",\n        lineNumber: 4,\n        columnNumber: 12\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErQixDQUFDLDZCQUE2QjtBQUU3RCxTQUFTQSxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFO0lBQ25DLHFCQUFPLDhEQUFDRDtRQUFXLEdBQUdDLFNBQVM7Ozs7OztBQUNuQztBQUVBLGlFQUFlRixLQUFLQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi9wYWdlcy9fYXBwLmpzP2UwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnOyAvLyBZb3UnbGwgbmVlZCB0byBjcmVhdGUgdGhpc1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgICByZXR1cm4gPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlBcHA7ICJdLCJuYW1lcyI6WyJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_ShaderVisualizer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ShaderVisualizer */ \"./components/ShaderVisualizer.js\");\n/* harmony import */ var _utils_shaders_ShaderManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/shaders/ShaderManager */ \"./utils/shaders/ShaderManager.js\");\n/* harmony import */ var _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/audio/AudioAnalysisManager */ \"./utils/audio/AudioAnalysisManager.js\");\n/* harmony import */ var _components_AudioShaderControls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/AudioShaderControls */ \"./components/AudioShaderControls.js\");\n/* harmony import */ var _components_ShaderEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/ShaderEditor */ \"./components/ShaderEditor.js\");\n/* harmony import */ var _styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../styles/AudioShaderSync.module.css */ \"./styles/AudioShaderSync.module.css\");\n/* harmony import */ var _styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nconst AudioShaderSync = ()=>{\n    const [audioState, setAudioState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        audioFile: null,\n        audioAnalysis: null,\n        isPlaying: false,\n        currentTime: 0,\n        isAnalyzing: false,\n        isLooping: false\n    });\n    const [selectedShader, setSelectedShader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"ghostlySpirits\");\n    const [shaderUniforms, setShaderUniforms] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [availableShaders, setAvailableShaders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [customShader, setCustomShader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [tempCustomShader, setTempCustomShader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentShaderSrc, setCurrentShaderSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoadingShader, setIsLoadingShader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [shaderParams, setShaderParams] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        color1: {\n            r: 0.4,\n            g: 1.0,\n            b: 0.2\n        },\n        color2: {\n            r: 0.2,\n            g: 1.0,\n            b: 0.8\n        },\n        color3: {\n            r: 1.0,\n            g: 0.2,\n            b: 0.8\n        },\n        fogColor: {\n            r: 0.1,\n            g: 0.05,\n            b: 0.15\n        },\n        glowColor: {\n            r: 0.1,\n            g: 0.05,\n            b: 0.2\n        },\n        cameraSpeed: 1.2,\n        transientEffect: 0.3,\n        colorIntensity: 0.5\n    });\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Subscribe to AudioAnalysisManager\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[AUDIO SYNC] Setting up AudioAnalysisManager subscription\");\n        const unsubscribe = _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].subscribe((newState)=>{\n            setAudioState((prevState)=>({\n                    ...prevState,\n                    ...newState\n                }));\n            console.log(\"[AUDIO SYNC] Received audio state update:\", `isPlaying: ${newState.isPlaying}, `, `currentTime: ${newState.currentTime !== undefined ? newState.currentTime.toFixed(2) : \"N/A\"}`);\n        });\n        return unsubscribe;\n    }, []);\n    // Effect to manage audio playback state and listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (audioRef.current) {\n            console.log(\"[AUDIO SYNC] Audio ref available. Setting up listeners and managing playback.\");\n            const timeUpdateCleanup = _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setupTimeUpdateListener(audioRef.current);\n            const endedEventCleanup = _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setupEndedEventListener(audioRef.current);\n            // Sync audio element's loop property with state\n            audioRef.current.loop = audioState.isLooping;\n            if (audioState.audioFile && audioState.isPlaying && audioRef.current.paused) {\n                console.log(\"[AUDIO SYNC] Attempting to play audio as state indicates playing and audio is loaded but paused.\");\n                audioRef.current.play().catch((error)=>{\n                    console.warn(\"Audio play attempt failed. User interaction might be required or audio context not active yet.\", error);\n                // If autoplay is blocked, the user will need to manually click play.\n                // We could update isPlaying to false here if necessary, but browser behavior might make this tricky.\n                // For now, let the UI show \"Pause\" and the user can interact.\n                });\n            } else if (audioState.audioFile && !audioState.isPlaying && !audioRef.current.paused) {\n                console.log(\"[AUDIO SYNC] Pausing audio as state indicates not playing and audio is currently playing.\");\n                audioRef.current.pause();\n            }\n            return ()=>{\n                console.log(\"[AUDIO SYNC] Cleaning up audio listeners for audioRef.\");\n                timeUpdateCleanup();\n                endedEventCleanup();\n            };\n        }\n    }, [\n        audioRef.current,\n        audioState.audioFile,\n        audioState.isPlaying,\n        audioState.isLooping\n    ]);\n    // Load available shaders on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setAvailableShaders(_utils_shaders_ShaderManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getAvailableShaders());\n    }, []);\n    // Handle file upload\n    const handleFileChange = async (e)=>{\n        const file = e.target.files[0];\n        if (!file) return;\n        // Use AudioAnalysisManager for file handling and analysis\n        await _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setAudioFile(file, audioRef.current);\n    };\n    // Handle playback controls\n    const handlePlayPause = ()=>{\n        _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].togglePlayPause(audioRef.current);\n    };\n    // Handle skip forward\n    const handleSkipForward = ()=>{\n        _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].skipForward(audioRef.current);\n    };\n    // Handle skip backward\n    const handleSkipBackward = ()=>{\n        _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].skipBackward(audioRef.current);\n    };\n    // Handle reset to beginning\n    const handleReset = ()=>{\n        _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].resetAudio(audioRef.current);\n    };\n    // Handle toggle looping\n    const handleToggleLooping = ()=>{\n        _utils_audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"].toggleLooping(audioRef.current);\n    };\n    // Handle shader selection\n    const handleShaderChange = async (e)=>{\n        const shaderId = e.target.value;\n        // Clear custom shader state when selecting from presets\n        setCustomShader(null);\n        // Update selected shader state\n        setSelectedShader(shaderId);\n        // Load the shader source\n        await loadShaderSource(shaderId);\n    };\n    // Load shader source based on ID\n    const loadShaderSource = async (shaderId)=>{\n        try {\n            setIsLoadingShader(true);\n            console.log(`Loading shader with ID: ${shaderId}`);\n            const shader = _utils_shaders_ShaderManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].loadLibraryShader(shaderId);\n            if (!shader) {\n                console.error(`Shader ${shaderId} not found`);\n                setIsLoadingShader(false);\n                return;\n            }\n            // Handle dynamically loaded shaders\n            if (shader.getFragSrc) {\n                const shaderSrc = await shader.getFragSrc();\n                console.log(`Loaded dynamic shader source of length: ${shaderSrc.length}`);\n                setCurrentShaderSrc(shaderSrc);\n                setTempCustomShader(shaderSrc); // Set the editor to show this shader's code\n            } else {\n                console.log(`Loaded static shader source: ${shader.name}, length: ${shader.fragSrc.length}`);\n                // Check if the source is the same as the current one\n                if (currentShaderSrc === shader.fragSrc) {\n                    console.warn(\"Attempted to load identical shader source!\");\n                }\n                setCurrentShaderSrc(shader.fragSrc);\n                // Store the original shader source for the editor\n                if (shader.fragSrc) {\n                    // If it's a wrapped shader, try to extract the original shader code\n                    const isWrappedShader = shader.fragSrc.includes(\"// --- User's ShaderToy Code Start ---\");\n                    if (isWrappedShader) {\n                        const startMarker = \"// --- User's ShaderToy Code Start ---\";\n                        const endMarker = \"// --- User's ShaderToy Code End ---\";\n                        const startIndex = shader.fragSrc.indexOf(startMarker) + startMarker.length;\n                        const endIndex = shader.fragSrc.indexOf(endMarker);\n                        if (startIndex > -1 && endIndex > -1) {\n                            const extractedCode = shader.fragSrc.substring(startIndex, endIndex).trim();\n                            setTempCustomShader(extractedCode);\n                        } else {\n                            setTempCustomShader(shader.fragSrc);\n                        }\n                    } else {\n                        setTempCustomShader(shader.fragSrc);\n                    }\n                }\n            }\n            setIsLoadingShader(false);\n        } catch (error) {\n            console.error(\"Error loading shader:\", error);\n            setIsLoadingShader(false);\n        }\n    };\n    // Load the default shader on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (availableShaders.length > 0) {\n            loadShaderSource(selectedShader);\n        }\n    }, [\n        availableShaders\n    ]);\n    // Helper function to wrap ShaderToy GLSL code\n    const wrapShaderToyCode = (shaderToyCode)=>{\n        // Check if the code already contains \"void main()\" to avoid double wrapping\n        // or if it's not a ShaderToy style (doesn't contain mainImage)\n        if (shaderToyCode.includes(\"void main()\") || !shaderToyCode.includes(\"void mainImage(\")) {\n            // If it's potentially standard GLSL or already wrapped, use as is for now.\n            // More sophisticated detection might be needed for mixed cases.\n            console.log(\"Custom shader does not appear to be ShaderToy style or is already wrapped, using as is with highp if GLSL.\");\n            if (shaderToyCode.trim().startsWith(\"#version 300 es\")) {\n                // If version is present, try to insert highp precision after it.\n                // This is a bit simplistic; a robust parser would be better.\n                let lines = shaderToyCode.split(\"\\n\");\n                if (!lines.some((line)=>line.includes(\"precision highp float;\"))) {\n                    lines.splice(1, 0, \"precision highp float;\");\n                }\n                return lines.join(\"\\n\");\n            } else if (shaderToyCode.includes(\"#version\")) {\n                console.warn(\"Custom shader specifies a GLSL version other than 300 es. Attempting to use as is.\");\n                return shaderToyCode; // Or add highp similarly if desired\n            } else if (shaderToyCode.includes(\"mainImage\") || shaderToyCode.includes(\"main\")) {\n                return \"#version 300 es\\nprecision highp float;\\n\" + shaderToyCode;\n            }\n            return shaderToyCode; // Not clearly GLSL, return as is\n        }\n        // For ShaderToy code, prepend the version and necessary setup.\n        return `#version 300 es\nprecision highp float; // Changed to highp\n\n// Uniforms provided by ShaderVisualizer and AudioShaderSync\nuniform vec2 uResolution; // Canvas resolution (width, height)\nuniform float uTime;     // Elapsed time in seconds\n\n// Audio-reactive uniforms (ensure these match what's in processAudioDataForShader)\nuniform float energy;\nuniform float lowEnergy;\nuniform float midEnergy; // Assuming this might be added later or is part of general 'energy'\nuniform float highEnergy;\nuniform float transients;\n\nout vec4 fragColor;\n\n// ShaderToy compatibility defines\n#define iResolution vec3(uResolution, 1.0) // Now iResolution is a vec3\n#define iTime uTime\n#define iChannelTime vec4(uTime, uTime, uTime, uTime) // Placeholder for iChannelTime\n#define iFragCoord gl_FragCoord\n#define iMouse vec4(0.0) // Placeholder for iMouse, can be implemented later if needed\n\n// GLSL-compatible tanh approximation\nvec4 tanhApprox(vec4 x) {\n    vec4 x2 = x * x;\n    return clamp(x * (27.0 + x2) / (27.0 + 9.0 * x2), -1.0, 1.0);\n}\nfloat tanhApprox(float x) { // Overload for float\n    float x2 = x * x;\n    return clamp(x * (27.0 + x2) / (27.0 + 9.0 * x2), -1.0, 1.0);\n}\n\n// Vector max function helper for GLSL ES 3.0 compatibility\nvec3 max_vec3(vec3 a, vec3 b) {\n    return max(a, b);\n}\n\n// Automatic variable initialization workaround for GLSL ES 3.0\n#define AUTO_INIT_FLOAT(name) float name = 0.0\n#define AUTO_INIT_VEC3(name) vec3 name = vec3(0.0)\n#define AUTO_INIT_VEC4(name) vec4 name = vec4(0.0)\n\nfloat simplex_noise(vec3 p) {\n    return 0.0; // Placeholder - not used in your current shaders\n}\n\n// ShaderToy tanh replacement\n#define tanh(x) tanhApprox(x)\n\n// --- User's ShaderToy Code Start ---\n${shaderToyCode}\n// --- User's ShaderToy Code End ---\n\nvoid main() {\n    // Initialize a color vector\n    vec4 color = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    // Call the ShaderToy mainImage function with appropriate coordinates\n    // Note: We're using gl_FragCoord.xy directly as ShaderToy expects\n    mainImage(color, gl_FragCoord.xy);\n    \n    // Output the result\n    fragColor = vec4(color.rgb, 1.0); // Force alpha to 1.0\n}\n        `;\n    };\n    // Handle custom shader input\n    const handleCustomShaderChange = (e)=>{\n        setTempCustomShader(e.target.value);\n    };\n    // Apply custom shader\n    const applyCustomShader = (shaderCode)=>{\n        if (!shaderCode) {\n            // Clear custom shader and restore selected library shader\n            setCustomShader(null);\n            setTempCustomShader(\"\");\n            // Reload the previously selected library shader\n            if (selectedShader && availableShaders.length > 0) {\n                loadShaderSource(selectedShader);\n            } else if (availableShaders.length > 0) {\n                // Fallback to the first available shader if none was selected\n                const defaultShader = availableShaders[0].id;\n                setSelectedShader(defaultShader);\n                loadShaderSource(defaultShader);\n            }\n            return;\n        }\n        // Generate a unique key for the custom shader to force re-rendering\n        const customKey = `custom-${Date.now()}`;\n        // Mark as using a custom shader\n        setCustomShader(shaderCode);\n        // Wrap the shader code for actual use\n        const wrappedShader = wrapShaderToyCode(shaderCode);\n        // Force rerender by using a new key\n        setSelectedShader(customKey);\n        // Update the current shader source\n        setCurrentShaderSrc(wrappedShader);\n        console.log(\"Applied custom shader. Original:\", shaderCode);\n        console.log(\"Wrapped for rendering:\", wrappedShader);\n    };\n    // Handle updates from the ShaderVisualizer - use useCallback to maintain stable reference\n    const handleUniformsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((uniforms)=>{\n        setShaderUniforms(uniforms);\n    }, []);\n    // Add handler for shader parameter updates\n    const handleShaderParamUpdate = (newParams)=>{\n        // Update local state\n        setShaderParams((prev)=>({\n                ...prev,\n                ...newParams\n            }));\n        // Update actual shader parameters via ShaderManager\n        _utils_shaders_ShaderManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"].updateShaderParams(newParams);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().container),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Audio-Shader Sync | afk.ai\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                        lineNumber: 357,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Visualize audio with reactive WebGL shaders\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                        lineNumber: 358,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                lineNumber: 356,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().pageHeader),\n                style: {\n                    position: \"relative\",\n                    zIndex: 10\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().headerTitle),\n                        children: \"afk.ai\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                        lineNumber: 363,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().headerTagline),\n                        children: \"Animate Faster.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                        lineNumber: 364,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                lineNumber: 362,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().main),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().twoColumnLayout),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().canvasColumn),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().visualizationContainer),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ShaderVisualizer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            width: \"100%\",\n                                            height: \"100%\",\n                                            shaderSrc: currentShaderSrc,\n                                            onUpdateUniforms: handleUniformsUpdate\n                                        }, selectedShader, false, {\n                                            fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                            lineNumber: 375,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                        lineNumber: 374,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ShaderEditor__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        shaderCode: customShader || tempCustomShader,\n                                        onApplyShader: applyCustomShader\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                        lineNumber: 385,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                lineNumber: 373,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlsColumn),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlsPanel),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().fileUploadSection),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().fileInputContainer),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().fileInput),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        type: \"file\",\n                                                                        accept: \"audio/*\",\n                                                                        onChange: handleFileChange,\n                                                                        id: \"audio-file\",\n                                                                        ref: fileInputRef\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 397,\n                                                                        columnNumber: 41\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                        htmlFor: \"audio-file\",\n                                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().fileInputLabel),\n                                                                        children: audioState.audioFile ? \"Change Audio File\" : \"Select Audio File\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 404,\n                                                                        columnNumber: 41\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 396,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: handlePlayPause,\n                                                                disabled: !audioState.audioFile || audioState.isAnalyzing,\n                                                                className: `${(_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().playButton)} ${audioState.isPlaying ? (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().pause) : (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().play)}`,\n                                                                children: audioState.isAnalyzing ? \"Analyzing...\" : audioState.isPlaying ? \"Pause\" : \"Play\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 409,\n                                                                columnNumber: 37\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                        lineNumber: 395,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    audioState.audioFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().fileInfoDisplay),\n                                                        children: [\n                                                            audioState.audioFile.name,\n                                                            \" \",\n                                                            audioState.isAnalyzing && \"(Analyzing audio features...)\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                        lineNumber: 419,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                lineNumber: 394,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlsRow),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlGroup),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"shader-select\",\n                                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlLabel),\n                                                                children: \"Select Shader:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 427,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                                id: \"shader-select\",\n                                                                value: selectedShader,\n                                                                onChange: handleShaderChange,\n                                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlSelect),\n                                                                disabled: isLoadingShader,\n                                                                children: availableShaders.map((shader)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: shader.id,\n                                                                        children: shader.name\n                                                                    }, shader.id, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 438,\n                                                                        columnNumber: 45\n                                                                    }, undefined))\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 430,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            isLoadingShader && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().loadingMessage),\n                                                                children: \"Loading shader...\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 444,\n                                                                columnNumber: 41\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                        lineNumber: 426,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlGroup),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().controlLabel),\n                                                                children: \"Current Time:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 451,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().timeControls),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleSkipBackward,\n                                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().skipButton),\n                                                                        title: \"Skip backward 5 seconds\",\n                                                                        disabled: !audioState.audioFile,\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 453,\n                                                                        columnNumber: 41\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().timeDisplay),\n                                                                        children: [\n                                                                            audioState.currentTime.toFixed(2),\n                                                                            \"s\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 461,\n                                                                        columnNumber: 41\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleReset,\n                                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().skipButton),\n                                                                        title: \"Reset to beginning\",\n                                                                        disabled: !audioState.audioFile,\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 464,\n                                                                        columnNumber: 41\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleToggleLooping,\n                                                                        className: `${(_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().skipButton)} ${audioState.isLooping ? (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().activeButton) : \"\"}`,\n                                                                        title: \"Toggle loop mode\",\n                                                                        disabled: !audioState.audioFile,\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 472,\n                                                                        columnNumber: 41\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: handleSkipForward,\n                                                                        className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().skipButton),\n                                                                        title: \"Skip forward 5 seconds\",\n                                                                        disabled: !audioState.audioFile,\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                        lineNumber: 480,\n                                                                        columnNumber: 41\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                                lineNumber: 452,\n                                                                columnNumber: 37\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                        lineNumber: 450,\n                                                        columnNumber: 33\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                lineNumber: 425,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AudioShaderControls__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                initialParams: shaderParams,\n                                                onUpdateParams: handleShaderParamUpdate\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                                lineNumber: 493,\n                                                columnNumber: 29\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                        lineNumber: 393,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    \" \"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                                lineNumber: 392,\n                                columnNumber: 21\n                            }, undefined),\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                        lineNumber: 370,\n                        columnNumber: 17\n                    }, undefined),\n                    \" \"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                lineNumber: 367,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                className: (_styles_AudioShaderSync_module_css__WEBPACK_IMPORTED_MODULE_9___default().footer),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: [\n                        \"\\xa9 \",\n                        new Date().getFullYear(),\n                        \" afk.ai - All Rights Reserved\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                    lineNumber: 504,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                lineNumber: 503,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                ref: audioRef,\n                style: {\n                    display: \"none\"\n                },\n                controls: true\n            }, void 0, false, {\n                fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n                lineNumber: 508,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dylanburton/Desktop/makemusicvideo/pages/index.js\",\n        lineNumber: 355,\n        columnNumber: 9\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AudioShaderSync);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxXQUFXMUgsc0ZBQWlCO3dFQUM1QjRILE9BQU07d0VBQ05tQyxVQUFVLENBQUM3SixXQUFXRSxTQUFTO2tGQUNsQzs7Ozs7O2tGQUdELDhEQUFDeUo7d0VBQ0dDLFNBQVNwRjt3RUFDVGdELFdBQVcsQ0FBQyxFQUFFMUgsc0ZBQWlCLENBQUMsQ0FBQyxFQUFFRSxXQUFXTyxTQUFTLEdBQUdULHdGQUFtQixHQUFHLEdBQUcsQ0FBQzt3RUFDcEY0SCxPQUFNO3dFQUNObUMsVUFBVSxDQUFDN0osV0FBV0UsU0FBUztrRkFDbEM7Ozs7OztrRkFHRCw4REFBQ3lKO3dFQUNHQyxTQUFTMUY7d0VBQ1RzRCxXQUFXMUgsc0ZBQWlCO3dFQUM1QjRILE9BQU07d0VBQ05tQyxVQUFVLENBQUM3SixXQUFXRSxTQUFTO2tGQUNsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBEQVFiLDhEQUFDTix1RUFBbUJBO2dEQUNoQmlMLGVBQWV2SjtnREFDZndKLGdCQUFnQjNEOzs7Ozs7Ozs7Ozs7b0NBRWxCOzs7Ozs7OzRCQUNKOzs7Ozs7O29CQUVKOzs7Ozs7OzBCQUdWLDhEQUFDNEQ7Z0JBQU92RCxXQUFXMUgsa0ZBQWE7MEJBQzVCLDRFQUFDc0k7O3dCQUFFO3dCQUFRLElBQUl0QixPQUFPa0UsV0FBVzt3QkFBRzs7Ozs7Ozs7Ozs7OzBCQUl4Qyw4REFBQ0M7Z0JBQU0xQixLQUFLcEg7Z0JBQVU0RixPQUFPO29CQUFFbUQsU0FBUztnQkFBTztnQkFBR0MsUUFBUTs7Ozs7Ozs7Ozs7O0FBR3RFO0FBRUEsaUVBQWVwTCxlQUFlQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi9wYWdlcy9pbmRleC5qcz9iZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgU2hhZGVyVmlzdWFsaXplciBmcm9tICcuLi9jb21wb25lbnRzL1NoYWRlclZpc3VhbGl6ZXInO1xuaW1wb3J0IFNoYWRlck1hbmFnZXIgZnJvbSAnLi4vdXRpbHMvc2hhZGVycy9TaGFkZXJNYW5hZ2VyJztcbmltcG9ydCBBdWRpb0FuYWx5c2lzTWFuYWdlciBmcm9tICcuLi91dGlscy9hdWRpby9BdWRpb0FuYWx5c2lzTWFuYWdlcic7XG5pbXBvcnQgQXVkaW9TaGFkZXJDb250cm9scyBmcm9tICcuLi9jb21wb25lbnRzL0F1ZGlvU2hhZGVyQ29udHJvbHMnO1xuaW1wb3J0IFNoYWRlckVkaXRvciBmcm9tICcuLi9jb21wb25lbnRzL1NoYWRlckVkaXRvcic7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uL3N0eWxlcy9BdWRpb1NoYWRlclN5bmMubW9kdWxlLmNzcyc7XG5cbmNvbnN0IEF1ZGlvU2hhZGVyU3luYyA9ICgpID0+IHtcbiAgICBjb25zdCBbYXVkaW9TdGF0ZSwgc2V0QXVkaW9TdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIGF1ZGlvRmlsZTogbnVsbCxcbiAgICAgICAgYXVkaW9BbmFseXNpczogbnVsbCxcbiAgICAgICAgaXNQbGF5aW5nOiBmYWxzZSxcbiAgICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICAgIGlzQW5hbHl6aW5nOiBmYWxzZSxcbiAgICAgICAgaXNMb29waW5nOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IFtzZWxlY3RlZFNoYWRlciwgc2V0U2VsZWN0ZWRTaGFkZXJdID0gdXNlU3RhdGUoJ2dob3N0bHlTcGlyaXRzJyk7XG4gICAgY29uc3QgW3NoYWRlclVuaWZvcm1zLCBzZXRTaGFkZXJVbmlmb3Jtc10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYXZhaWxhYmxlU2hhZGVycywgc2V0QXZhaWxhYmxlU2hhZGVyc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2N1c3RvbVNoYWRlciwgc2V0Q3VzdG9tU2hhZGVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFt0ZW1wQ3VzdG9tU2hhZGVyLCBzZXRUZW1wQ3VzdG9tU2hhZGVyXSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbY3VycmVudFNoYWRlclNyYywgc2V0Q3VycmVudFNoYWRlclNyY10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbaXNMb2FkaW5nU2hhZGVyLCBzZXRJc0xvYWRpbmdTaGFkZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzaGFkZXJQYXJhbXMsIHNldFNoYWRlclBhcmFtc10gPSB1c2VTdGF0ZSh7XG4gICAgICAgIGNvbG9yMTogeyByOiAwLjQsIGc6IDEuMCwgYjogMC4yIH0sXG4gICAgICAgIGNvbG9yMjogeyByOiAwLjIsIGc6IDEuMCwgYjogMC44IH0sXG4gICAgICAgIGNvbG9yMzogeyByOiAxLjAsIGc6IDAuMiwgYjogMC44IH0sXG4gICAgICAgIGZvZ0NvbG9yOiB7IHI6IDAuMSwgZzogMC4wNSwgYjogMC4xNSB9LFxuICAgICAgICBnbG93Q29sb3I6IHsgcjogMC4xLCBnOiAwLjA1LCBiOiAwLjIgfSxcbiAgICAgICAgY2FtZXJhU3BlZWQ6IDEuMixcbiAgICAgICAgdHJhbnNpZW50RWZmZWN0OiAwLjMsXG4gICAgICAgIGNvbG9ySW50ZW5zaXR5OiAwLjVcbiAgICB9KTtcblxuICAgIGNvbnN0IGF1ZGlvUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBBdWRpb0FuYWx5c2lzTWFuYWdlclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQVVESU8gU1lOQ10gU2V0dGluZyB1cCBBdWRpb0FuYWx5c2lzTWFuYWdlciBzdWJzY3JpcHRpb24nKTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBBdWRpb0FuYWx5c2lzTWFuYWdlci5zdWJzY3JpYmUobmV3U3RhdGUgPT4ge1xuICAgICAgICAgICAgc2V0QXVkaW9TdGF0ZShwcmV2U3RhdGUgPT4gKHsgLi4ucHJldlN0YXRlLCAuLi5uZXdTdGF0ZSB9KSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0FVRElPIFNZTkNdIFJlY2VpdmVkIGF1ZGlvIHN0YXRlIHVwZGF0ZTonLFxuICAgICAgICAgICAgICAgIGBpc1BsYXlpbmc6ICR7bmV3U3RhdGUuaXNQbGF5aW5nfSwgYCxcbiAgICAgICAgICAgICAgICBgY3VycmVudFRpbWU6ICR7bmV3U3RhdGUuY3VycmVudFRpbWUgIT09IHVuZGVmaW5lZCA/IG5ld1N0YXRlLmN1cnJlbnRUaW1lLnRvRml4ZWQoMikgOiAnTi9BJ31gKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEVmZmVjdCB0byBtYW5hZ2UgYXVkaW8gcGxheWJhY2sgc3RhdGUgYW5kIGxpc3RlbmVyc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0FVRElPIFNZTkNdIEF1ZGlvIHJlZiBhdmFpbGFibGUuIFNldHRpbmcgdXAgbGlzdGVuZXJzIGFuZCBtYW5hZ2luZyBwbGF5YmFjay4nKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVVcGRhdGVDbGVhbnVwID0gQXVkaW9BbmFseXNpc01hbmFnZXIuc2V0dXBUaW1lVXBkYXRlTGlzdGVuZXIoYXVkaW9SZWYuY3VycmVudCk7XG4gICAgICAgICAgICBjb25zdCBlbmRlZEV2ZW50Q2xlYW51cCA9IEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLnNldHVwRW5kZWRFdmVudExpc3RlbmVyKGF1ZGlvUmVmLmN1cnJlbnQpO1xuXG4gICAgICAgICAgICAvLyBTeW5jIGF1ZGlvIGVsZW1lbnQncyBsb29wIHByb3BlcnR5IHdpdGggc3RhdGVcbiAgICAgICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQubG9vcCA9IGF1ZGlvU3RhdGUuaXNMb29waW5nO1xuXG4gICAgICAgICAgICBpZiAoYXVkaW9TdGF0ZS5hdWRpb0ZpbGUgJiYgYXVkaW9TdGF0ZS5pc1BsYXlpbmcgJiYgYXVkaW9SZWYuY3VycmVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0FVRElPIFNZTkNdIEF0dGVtcHRpbmcgdG8gcGxheSBhdWRpbyBhcyBzdGF0ZSBpbmRpY2F0ZXMgcGxheWluZyBhbmQgYXVkaW8gaXMgbG9hZGVkIGJ1dCBwYXVzZWQuJyk7XG4gICAgICAgICAgICAgICAgYXVkaW9SZWYuY3VycmVudC5wbGF5KCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBdWRpbyBwbGF5IGF0dGVtcHQgZmFpbGVkLiBVc2VyIGludGVyYWN0aW9uIG1pZ2h0IGJlIHJlcXVpcmVkIG9yIGF1ZGlvIGNvbnRleHQgbm90IGFjdGl2ZSB5ZXQuXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYXV0b3BsYXkgaXMgYmxvY2tlZCwgdGhlIHVzZXIgd2lsbCBuZWVkIHRvIG1hbnVhbGx5IGNsaWNrIHBsYXkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNvdWxkIHVwZGF0ZSBpc1BsYXlpbmcgdG8gZmFsc2UgaGVyZSBpZiBuZWNlc3NhcnksIGJ1dCBicm93c2VyIGJlaGF2aW9yIG1pZ2h0IG1ha2UgdGhpcyB0cmlja3kuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub3csIGxldCB0aGUgVUkgc2hvdyBcIlBhdXNlXCIgYW5kIHRoZSB1c2VyIGNhbiBpbnRlcmFjdC5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXVkaW9TdGF0ZS5hdWRpb0ZpbGUgJiYgIWF1ZGlvU3RhdGUuaXNQbGF5aW5nICYmICFhdWRpb1JlZi5jdXJyZW50LnBhdXNlZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQVVESU8gU1lOQ10gUGF1c2luZyBhdWRpbyBhcyBzdGF0ZSBpbmRpY2F0ZXMgbm90IHBsYXlpbmcgYW5kIGF1ZGlvIGlzIGN1cnJlbnRseSBwbGF5aW5nLicpO1xuICAgICAgICAgICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGF1c2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0FVRElPIFNZTkNdIENsZWFuaW5nIHVwIGF1ZGlvIGxpc3RlbmVycyBmb3IgYXVkaW9SZWYuJyk7XG4gICAgICAgICAgICAgICAgdGltZVVwZGF0ZUNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBlbmRlZEV2ZW50Q2xlYW51cCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIFthdWRpb1JlZi5jdXJyZW50LCBhdWRpb1N0YXRlLmF1ZGlvRmlsZSwgYXVkaW9TdGF0ZS5pc1BsYXlpbmcsIGF1ZGlvU3RhdGUuaXNMb29waW5nXSk7XG5cbiAgICAvLyBMb2FkIGF2YWlsYWJsZSBzaGFkZXJzIG9uIG1vdW50XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0QXZhaWxhYmxlU2hhZGVycyhTaGFkZXJNYW5hZ2VyLmdldEF2YWlsYWJsZVNoYWRlcnMoKSk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gSGFuZGxlIGZpbGUgdXBsb2FkXG4gICAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTtcbiAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gVXNlIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyIGZvciBmaWxlIGhhbmRsaW5nIGFuZCBhbmFseXNpc1xuICAgICAgICBhd2FpdCBBdWRpb0FuYWx5c2lzTWFuYWdlci5zZXRBdWRpb0ZpbGUoZmlsZSwgYXVkaW9SZWYuY3VycmVudCk7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBwbGF5YmFjayBjb250cm9sc1xuICAgIGNvbnN0IGhhbmRsZVBsYXlQYXVzZSA9ICgpID0+IHtcbiAgICAgICAgQXVkaW9BbmFseXNpc01hbmFnZXIudG9nZ2xlUGxheVBhdXNlKGF1ZGlvUmVmLmN1cnJlbnQpO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgc2tpcCBmb3J3YXJkXG4gICAgY29uc3QgaGFuZGxlU2tpcEZvcndhcmQgPSAoKSA9PiB7XG4gICAgICAgIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLnNraXBGb3J3YXJkKGF1ZGlvUmVmLmN1cnJlbnQpO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgc2tpcCBiYWNrd2FyZFxuICAgIGNvbnN0IGhhbmRsZVNraXBCYWNrd2FyZCA9ICgpID0+IHtcbiAgICAgICAgQXVkaW9BbmFseXNpc01hbmFnZXIuc2tpcEJhY2t3YXJkKGF1ZGlvUmVmLmN1cnJlbnQpO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgcmVzZXQgdG8gYmVnaW5uaW5nXG4gICAgY29uc3QgaGFuZGxlUmVzZXQgPSAoKSA9PiB7XG4gICAgICAgIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLnJlc2V0QXVkaW8oYXVkaW9SZWYuY3VycmVudCk7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0b2dnbGUgbG9vcGluZ1xuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZUxvb3BpbmcgPSAoKSA9PiB7XG4gICAgICAgIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLnRvZ2dsZUxvb3BpbmcoYXVkaW9SZWYuY3VycmVudCk7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBzaGFkZXIgc2VsZWN0aW9uXG4gICAgY29uc3QgaGFuZGxlU2hhZGVyQ2hhbmdlID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgY29uc3Qgc2hhZGVySWQgPSBlLnRhcmdldC52YWx1ZTtcblxuICAgICAgICAvLyBDbGVhciBjdXN0b20gc2hhZGVyIHN0YXRlIHdoZW4gc2VsZWN0aW5nIGZyb20gcHJlc2V0c1xuICAgICAgICBzZXRDdXN0b21TaGFkZXIobnVsbCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIHNoYWRlciBzdGF0ZVxuICAgICAgICBzZXRTZWxlY3RlZFNoYWRlcihzaGFkZXJJZCk7XG5cbiAgICAgICAgLy8gTG9hZCB0aGUgc2hhZGVyIHNvdXJjZVxuICAgICAgICBhd2FpdCBsb2FkU2hhZGVyU291cmNlKHNoYWRlcklkKTtcbiAgICB9O1xuXG4gICAgLy8gTG9hZCBzaGFkZXIgc291cmNlIGJhc2VkIG9uIElEXG4gICAgY29uc3QgbG9hZFNoYWRlclNvdXJjZSA9IGFzeW5jIChzaGFkZXJJZCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nU2hhZGVyKHRydWUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExvYWRpbmcgc2hhZGVyIHdpdGggSUQ6ICR7c2hhZGVySWR9YCk7XG4gICAgICAgICAgICBjb25zdCBzaGFkZXIgPSBTaGFkZXJNYW5hZ2VyLmxvYWRMaWJyYXJ5U2hhZGVyKHNoYWRlcklkKTtcblxuICAgICAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTaGFkZXIgJHtzaGFkZXJJZH0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nU2hhZGVyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBkeW5hbWljYWxseSBsb2FkZWQgc2hhZGVyc1xuICAgICAgICAgICAgaWYgKHNoYWRlci5nZXRGcmFnU3JjKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZGVyU3JjID0gYXdhaXQgc2hhZGVyLmdldEZyYWdTcmMoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTG9hZGVkIGR5bmFtaWMgc2hhZGVyIHNvdXJjZSBvZiBsZW5ndGg6ICR7c2hhZGVyU3JjLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50U2hhZGVyU3JjKHNoYWRlclNyYyk7XG4gICAgICAgICAgICAgICAgc2V0VGVtcEN1c3RvbVNoYWRlcihzaGFkZXJTcmMpOyAvLyBTZXQgdGhlIGVkaXRvciB0byBzaG93IHRoaXMgc2hhZGVyJ3MgY29kZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTG9hZGVkIHN0YXRpYyBzaGFkZXIgc291cmNlOiAke3NoYWRlci5uYW1lfSwgbGVuZ3RoOiAke3NoYWRlci5mcmFnU3JjLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc291cmNlIGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2hhZGVyU3JjID09PSBzaGFkZXIuZnJhZ1NyYykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0F0dGVtcHRlZCB0byBsb2FkIGlkZW50aWNhbCBzaGFkZXIgc291cmNlIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50U2hhZGVyU3JjKHNoYWRlci5mcmFnU3JjKTtcblxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBvcmlnaW5hbCBzaGFkZXIgc291cmNlIGZvciB0aGUgZWRpdG9yXG4gICAgICAgICAgICAgICAgaWYgKHNoYWRlci5mcmFnU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSB3cmFwcGVkIHNoYWRlciwgdHJ5IHRvIGV4dHJhY3QgdGhlIG9yaWdpbmFsIHNoYWRlciBjb2RlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzV3JhcHBlZFNoYWRlciA9IHNoYWRlci5mcmFnU3JjLmluY2x1ZGVzKFwiLy8gLS0tIFVzZXIncyBTaGFkZXJUb3kgQ29kZSBTdGFydCAtLS1cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dyYXBwZWRTaGFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0TWFya2VyID0gXCIvLyAtLS0gVXNlcidzIFNoYWRlclRveSBDb2RlIFN0YXJ0IC0tLVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kTWFya2VyID0gXCIvLyAtLS0gVXNlcidzIFNoYWRlclRveSBDb2RlIEVuZCAtLS1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBzaGFkZXIuZnJhZ1NyYy5pbmRleE9mKHN0YXJ0TWFya2VyKSArIHN0YXJ0TWFya2VyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc2hhZGVyLmZyYWdTcmMuaW5kZXhPZihlbmRNYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPiAtMSAmJiBlbmRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0cmFjdGVkQ29kZSA9IHNoYWRlci5mcmFnU3JjLnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBDdXN0b21TaGFkZXIoZXh0cmFjdGVkQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBDdXN0b21TaGFkZXIoc2hhZGVyLmZyYWdTcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcEN1c3RvbVNoYWRlcihzaGFkZXIuZnJhZ1NyYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldElzTG9hZGluZ1NoYWRlcihmYWxzZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNoYWRlcjonLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmdTaGFkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIExvYWQgdGhlIGRlZmF1bHQgc2hhZGVyIG9uIG1vdW50XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGF2YWlsYWJsZVNoYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9hZFNoYWRlclNvdXJjZShzZWxlY3RlZFNoYWRlcik7XG4gICAgICAgIH1cbiAgICB9LCBbYXZhaWxhYmxlU2hhZGVyc10pO1xuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHdyYXAgU2hhZGVyVG95IEdMU0wgY29kZVxuICAgIGNvbnN0IHdyYXBTaGFkZXJUb3lDb2RlID0gKHNoYWRlclRveUNvZGUpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvZGUgYWxyZWFkeSBjb250YWlucyBcInZvaWQgbWFpbigpXCIgdG8gYXZvaWQgZG91YmxlIHdyYXBwaW5nXG4gICAgICAgIC8vIG9yIGlmIGl0J3Mgbm90IGEgU2hhZGVyVG95IHN0eWxlIChkb2Vzbid0IGNvbnRhaW4gbWFpbkltYWdlKVxuICAgICAgICBpZiAoc2hhZGVyVG95Q29kZS5pbmNsdWRlcyhcInZvaWQgbWFpbigpXCIpIHx8ICFzaGFkZXJUb3lDb2RlLmluY2x1ZGVzKFwidm9pZCBtYWluSW1hZ2UoXCIpKSB7XG4gICAgICAgICAgICAvLyBJZiBpdCdzIHBvdGVudGlhbGx5IHN0YW5kYXJkIEdMU0wgb3IgYWxyZWFkeSB3cmFwcGVkLCB1c2UgYXMgaXMgZm9yIG5vdy5cbiAgICAgICAgICAgIC8vIE1vcmUgc29waGlzdGljYXRlZCBkZXRlY3Rpb24gbWlnaHQgYmUgbmVlZGVkIGZvciBtaXhlZCBjYXNlcy5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3VzdG9tIHNoYWRlciBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgU2hhZGVyVG95IHN0eWxlIG9yIGlzIGFscmVhZHkgd3JhcHBlZCwgdXNpbmcgYXMgaXMgd2l0aCBoaWdocCBpZiBHTFNMLlwiKTtcbiAgICAgICAgICAgIGlmIChzaGFkZXJUb3lDb2RlLnRyaW0oKS5zdGFydHNXaXRoKFwiI3ZlcnNpb24gMzAwIGVzXCIpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdmVyc2lvbiBpcyBwcmVzZW50LCB0cnkgdG8gaW5zZXJ0IGhpZ2hwIHByZWNpc2lvbiBhZnRlciBpdC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgYml0IHNpbXBsaXN0aWM7IGEgcm9idXN0IHBhcnNlciB3b3VsZCBiZSBiZXR0ZXIuXG4gICAgICAgICAgICAgICAgbGV0IGxpbmVzID0gc2hhZGVyVG95Q29kZS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5lcy5zb21lKGxpbmUgPT4gbGluZS5pbmNsdWRlcyhcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnNwbGljZSgxLCAwLCBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhZGVyVG95Q29kZS5pbmNsdWRlcyhcIiN2ZXJzaW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ3VzdG9tIHNoYWRlciBzcGVjaWZpZXMgYSBHTFNMIHZlcnNpb24gb3RoZXIgdGhhbiAzMDAgZXMuIEF0dGVtcHRpbmcgdG8gdXNlIGFzIGlzLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhZGVyVG95Q29kZTsgLy8gT3IgYWRkIGhpZ2hwIHNpbWlsYXJseSBpZiBkZXNpcmVkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoYWRlclRveUNvZGUuaW5jbHVkZXMoXCJtYWluSW1hZ2VcIikgfHwgc2hhZGVyVG95Q29kZS5pbmNsdWRlcyhcIm1haW5cIikpIHsgLy8gTGlrZWx5IEdMU0xcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIjdmVyc2lvbiAzMDAgZXNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXCIgKyBzaGFkZXJUb3lDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlclRveUNvZGU7IC8vIE5vdCBjbGVhcmx5IEdMU0wsIHJldHVybiBhcyBpc1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIFNoYWRlclRveSBjb2RlLCBwcmVwZW5kIHRoZSB2ZXJzaW9uIGFuZCBuZWNlc3Nhcnkgc2V0dXAuXG4gICAgICAgIHJldHVybiBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7IC8vIENoYW5nZWQgdG8gaGlnaHBcblxuLy8gVW5pZm9ybXMgcHJvdmlkZWQgYnkgU2hhZGVyVmlzdWFsaXplciBhbmQgQXVkaW9TaGFkZXJTeW5jXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247IC8vIENhbnZhcyByZXNvbHV0aW9uICh3aWR0aCwgaGVpZ2h0KVxudW5pZm9ybSBmbG9hdCB1VGltZTsgICAgIC8vIEVsYXBzZWQgdGltZSBpbiBzZWNvbmRzXG5cbi8vIEF1ZGlvLXJlYWN0aXZlIHVuaWZvcm1zIChlbnN1cmUgdGhlc2UgbWF0Y2ggd2hhdCdzIGluIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIpXG51bmlmb3JtIGZsb2F0IGVuZXJneTtcbnVuaWZvcm0gZmxvYXQgbG93RW5lcmd5O1xudW5pZm9ybSBmbG9hdCBtaWRFbmVyZ3k7IC8vIEFzc3VtaW5nIHRoaXMgbWlnaHQgYmUgYWRkZWQgbGF0ZXIgb3IgaXMgcGFydCBvZiBnZW5lcmFsICdlbmVyZ3knXG51bmlmb3JtIGZsb2F0IGhpZ2hFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IHRyYW5zaWVudHM7XG5cbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gU2hhZGVyVG95IGNvbXBhdGliaWxpdHkgZGVmaW5lc1xuI2RlZmluZSBpUmVzb2x1dGlvbiB2ZWMzKHVSZXNvbHV0aW9uLCAxLjApIC8vIE5vdyBpUmVzb2x1dGlvbiBpcyBhIHZlYzNcbiNkZWZpbmUgaVRpbWUgdVRpbWVcbiNkZWZpbmUgaUNoYW5uZWxUaW1lIHZlYzQodVRpbWUsIHVUaW1lLCB1VGltZSwgdVRpbWUpIC8vIFBsYWNlaG9sZGVyIGZvciBpQ2hhbm5lbFRpbWVcbiNkZWZpbmUgaUZyYWdDb29yZCBnbF9GcmFnQ29vcmRcbiNkZWZpbmUgaU1vdXNlIHZlYzQoMC4wKSAvLyBQbGFjZWhvbGRlciBmb3IgaU1vdXNlLCBjYW4gYmUgaW1wbGVtZW50ZWQgbGF0ZXIgaWYgbmVlZGVkXG5cbi8vIEdMU0wtY29tcGF0aWJsZSB0YW5oIGFwcHJveGltYXRpb25cbnZlYzQgdGFuaEFwcHJveCh2ZWM0IHgpIHtcbiAgICB2ZWM0IHgyID0geCAqIHg7XG4gICAgcmV0dXJuIGNsYW1wKHggKiAoMjcuMCArIHgyKSAvICgyNy4wICsgOS4wICogeDIpLCAtMS4wLCAxLjApO1xufVxuZmxvYXQgdGFuaEFwcHJveChmbG9hdCB4KSB7IC8vIE92ZXJsb2FkIGZvciBmbG9hdFxuICAgIGZsb2F0IHgyID0geCAqIHg7XG4gICAgcmV0dXJuIGNsYW1wKHggKiAoMjcuMCArIHgyKSAvICgyNy4wICsgOS4wICogeDIpLCAtMS4wLCAxLjApO1xufVxuXG4vLyBWZWN0b3IgbWF4IGZ1bmN0aW9uIGhlbHBlciBmb3IgR0xTTCBFUyAzLjAgY29tcGF0aWJpbGl0eVxudmVjMyBtYXhfdmVjMyh2ZWMzIGEsIHZlYzMgYikge1xuICAgIHJldHVybiBtYXgoYSwgYik7XG59XG5cbi8vIEF1dG9tYXRpYyB2YXJpYWJsZSBpbml0aWFsaXphdGlvbiB3b3JrYXJvdW5kIGZvciBHTFNMIEVTIDMuMFxuI2RlZmluZSBBVVRPX0lOSVRfRkxPQVQobmFtZSkgZmxvYXQgbmFtZSA9IDAuMFxuI2RlZmluZSBBVVRPX0lOSVRfVkVDMyhuYW1lKSB2ZWMzIG5hbWUgPSB2ZWMzKDAuMClcbiNkZWZpbmUgQVVUT19JTklUX1ZFQzQobmFtZSkgdmVjNCBuYW1lID0gdmVjNCgwLjApXG5cbmZsb2F0IHNpbXBsZXhfbm9pc2UodmVjMyBwKSB7XG4gICAgcmV0dXJuIDAuMDsgLy8gUGxhY2Vob2xkZXIgLSBub3QgdXNlZCBpbiB5b3VyIGN1cnJlbnQgc2hhZGVyc1xufVxuXG4vLyBTaGFkZXJUb3kgdGFuaCByZXBsYWNlbWVudFxuI2RlZmluZSB0YW5oKHgpIHRhbmhBcHByb3goeClcblxuLy8gLS0tIFVzZXIncyBTaGFkZXJUb3kgQ29kZSBTdGFydCAtLS1cbiR7c2hhZGVyVG95Q29kZX1cbi8vIC0tLSBVc2VyJ3MgU2hhZGVyVG95IENvZGUgRW5kIC0tLVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBhIGNvbG9yIHZlY3RvclxuICAgIHZlYzQgY29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgU2hhZGVyVG95IG1haW5JbWFnZSBmdW5jdGlvbiB3aXRoIGFwcHJvcHJpYXRlIGNvb3JkaW5hdGVzXG4gICAgLy8gTm90ZTogV2UncmUgdXNpbmcgZ2xfRnJhZ0Nvb3JkLnh5IGRpcmVjdGx5IGFzIFNoYWRlclRveSBleHBlY3RzXG4gICAgbWFpbkltYWdlKGNvbG9yLCBnbF9GcmFnQ29vcmQueHkpO1xuICAgIFxuICAgIC8vIE91dHB1dCB0aGUgcmVzdWx0XG4gICAgZnJhZ0NvbG9yID0gdmVjNChjb2xvci5yZ2IsIDEuMCk7IC8vIEZvcmNlIGFscGhhIHRvIDEuMFxufVxuICAgICAgICBgO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgY3VzdG9tIHNoYWRlciBpbnB1dFxuICAgIGNvbnN0IGhhbmRsZUN1c3RvbVNoYWRlckNoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgIHNldFRlbXBDdXN0b21TaGFkZXIoZS50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICAvLyBBcHBseSBjdXN0b20gc2hhZGVyXG4gICAgY29uc3QgYXBwbHlDdXN0b21TaGFkZXIgPSAoc2hhZGVyQ29kZSkgPT4ge1xuICAgICAgICBpZiAoIXNoYWRlckNvZGUpIHtcbiAgICAgICAgICAgIC8vIENsZWFyIGN1c3RvbSBzaGFkZXIgYW5kIHJlc3RvcmUgc2VsZWN0ZWQgbGlicmFyeSBzaGFkZXJcbiAgICAgICAgICAgIHNldEN1c3RvbVNoYWRlcihudWxsKTtcbiAgICAgICAgICAgIHNldFRlbXBDdXN0b21TaGFkZXIoJycpO1xuXG4gICAgICAgICAgICAvLyBSZWxvYWQgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgbGlicmFyeSBzaGFkZXJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNoYWRlciAmJiBhdmFpbGFibGVTaGFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsb2FkU2hhZGVyU291cmNlKHNlbGVjdGVkU2hhZGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXZhaWxhYmxlU2hhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gdGhlIGZpcnN0IGF2YWlsYWJsZSBzaGFkZXIgaWYgbm9uZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0U2hhZGVyID0gYXZhaWxhYmxlU2hhZGVyc1swXS5pZDtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNoYWRlcihkZWZhdWx0U2hhZGVyKTtcbiAgICAgICAgICAgICAgICBsb2FkU2hhZGVyU291cmNlKGRlZmF1bHRTaGFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUga2V5IGZvciB0aGUgY3VzdG9tIHNoYWRlciB0byBmb3JjZSByZS1yZW5kZXJpbmdcbiAgICAgICAgY29uc3QgY3VzdG9tS2V5ID0gYGN1c3RvbS0ke0RhdGUubm93KCl9YDtcblxuICAgICAgICAvLyBNYXJrIGFzIHVzaW5nIGEgY3VzdG9tIHNoYWRlclxuICAgICAgICBzZXRDdXN0b21TaGFkZXIoc2hhZGVyQ29kZSk7XG5cbiAgICAgICAgLy8gV3JhcCB0aGUgc2hhZGVyIGNvZGUgZm9yIGFjdHVhbCB1c2VcbiAgICAgICAgY29uc3Qgd3JhcHBlZFNoYWRlciA9IHdyYXBTaGFkZXJUb3lDb2RlKHNoYWRlckNvZGUpO1xuXG4gICAgICAgIC8vIEZvcmNlIHJlcmVuZGVyIGJ5IHVzaW5nIGEgbmV3IGtleVxuICAgICAgICBzZXRTZWxlY3RlZFNoYWRlcihjdXN0b21LZXkpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgY3VycmVudCBzaGFkZXIgc291cmNlXG4gICAgICAgIHNldEN1cnJlbnRTaGFkZXJTcmMod3JhcHBlZFNoYWRlcik7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJBcHBsaWVkIGN1c3RvbSBzaGFkZXIuIE9yaWdpbmFsOlwiLCBzaGFkZXJDb2RlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXcmFwcGVkIGZvciByZW5kZXJpbmc6XCIsIHdyYXBwZWRTaGFkZXIpO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdXBkYXRlcyBmcm9tIHRoZSBTaGFkZXJWaXN1YWxpemVyIC0gdXNlIHVzZUNhbGxiYWNrIHRvIG1haW50YWluIHN0YWJsZSByZWZlcmVuY2VcbiAgICBjb25zdCBoYW5kbGVVbmlmb3Jtc1VwZGF0ZSA9IHVzZUNhbGxiYWNrKCh1bmlmb3JtcykgPT4ge1xuICAgICAgICBzZXRTaGFkZXJVbmlmb3Jtcyh1bmlmb3Jtcyk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gQWRkIGhhbmRsZXIgZm9yIHNoYWRlciBwYXJhbWV0ZXIgdXBkYXRlc1xuICAgIGNvbnN0IGhhbmRsZVNoYWRlclBhcmFtVXBkYXRlID0gKG5ld1BhcmFtcykgPT4ge1xuICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgc2V0U2hhZGVyUGFyYW1zKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAuLi5uZXdQYXJhbXNcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBhY3R1YWwgc2hhZGVyIHBhcmFtZXRlcnMgdmlhIFNoYWRlck1hbmFnZXJcbiAgICAgICAgU2hhZGVyTWFuYWdlci51cGRhdGVTaGFkZXJQYXJhbXMobmV3UGFyYW1zKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgICAgICAgPHRpdGxlPkF1ZGlvLVNoYWRlciBTeW5jIHwgYWZrLmFpPC90aXRsZT5cbiAgICAgICAgICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiVmlzdWFsaXplIGF1ZGlvIHdpdGggcmVhY3RpdmUgV2ViR0wgc2hhZGVyc1wiIC8+XG4gICAgICAgICAgICA8L0hlYWQ+XG5cbiAgICAgICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT17c3R5bGVzLnBhZ2VIZWFkZXJ9IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCB6SW5kZXg6IDEwIH19PlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9e3N0eWxlcy5oZWFkZXJUaXRsZX0+YWZrLmFpPC9oMT5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e3N0eWxlcy5oZWFkZXJUYWdsaW5lfT5BbmltYXRlIEZhc3Rlci48L3A+XG4gICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPXtzdHlsZXMubWFpbn0+XG5cbiAgICAgICAgICAgICAgICB7LyogVHdvLWNvbHVtbiBsYXlvdXQgY29udGFpbmVyICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudHdvQ29sdW1uTGF5b3V0fT5cblxuICAgICAgICAgICAgICAgICAgICB7LyogTGVmdCBDb2x1bW46IFZpc3VhbGl6YXRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2FudmFzQ29sdW1ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudmlzdWFsaXphdGlvbkNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNoYWRlclZpc3VhbGl6ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzZWxlY3RlZFNoYWRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlclNyYz17Y3VycmVudFNoYWRlclNyY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVVbmlmb3Jtcz17aGFuZGxlVW5pZm9ybXNVcGRhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hhZGVyIEVkaXRvciBiZWxvdyB2aXN1YWxpemF0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPFNoYWRlckVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlckNvZGU9e2N1c3RvbVNoYWRlciB8fCB0ZW1wQ3VzdG9tU2hhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQXBwbHlTaGFkZXI9e2FwcGx5Q3VzdG9tU2hhZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJpZ2h0IENvbHVtbjogQ29udHJvbHMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbHNDb2x1bW59PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sc1BhbmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZpbGVVcGxvYWRTZWN0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5wdXRDb250YWluZXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5wdXR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdD1cImF1ZGlvLypcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJhdWRpby1maWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtmaWxlSW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImF1ZGlvLWZpbGVcIiBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5wdXRMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthdWRpb1N0YXRlLmF1ZGlvRmlsZSA/ICdDaGFuZ2UgQXVkaW8gRmlsZScgOiAnU2VsZWN0IEF1ZGlvIEZpbGUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBsYXlQYXVzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWF1ZGlvU3RhdGUuYXVkaW9GaWxlIHx8IGF1ZGlvU3RhdGUuaXNBbmFseXppbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMucGxheUJ1dHRvbn0gJHthdWRpb1N0YXRlLmlzUGxheWluZyA/IHN0eWxlcy5wYXVzZSA6IHN0eWxlcy5wbGF5fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2F1ZGlvU3RhdGUuaXNBbmFseXppbmcgPyAnQW5hbHl6aW5nLi4uJyA6IGF1ZGlvU3RhdGUuaXNQbGF5aW5nID8gJ1BhdXNlJyA6ICdQbGF5J31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXVkaW9TdGF0ZS5hdWRpb0ZpbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5mb0Rpc3BsYXl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthdWRpb1N0YXRlLmF1ZGlvRmlsZS5uYW1lfSB7YXVkaW9TdGF0ZS5pc0FuYWx5emluZyAmJiAnKEFuYWx5emluZyBhdWRpbyBmZWF0dXJlcy4uLiknfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xzUm93fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250cm9sR3JvdXB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzaGFkZXItc2VsZWN0XCIgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbExhYmVsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3QgU2hhZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInNoYWRlci1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFNoYWRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlU2hhZGVyQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ1NoYWRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXZhaWxhYmxlU2hhZGVycy5tYXAoc2hhZGVyID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3NoYWRlci5pZH0gdmFsdWU9e3NoYWRlci5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hhZGVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nU2hhZGVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxvYWRpbmdNZXNzYWdlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGluZyBzaGFkZXIuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udHJvbEdyb3VwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmNvbnRyb2xMYWJlbH0+Q3VycmVudCBUaW1lOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGltZUNvbnRyb2xzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNraXBCYWNrd2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2tpcEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTa2lwIGJhY2t3YXJkIDUgc2Vjb25kc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshYXVkaW9TdGF0ZS5hdWRpb0ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDij6pcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRpbWVEaXNwbGF5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2F1ZGlvU3RhdGUuY3VycmVudFRpbWUudG9GaXhlZCgyKX1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXNldH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2tpcEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZXNldCB0byBiZWdpbm5pbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWF1ZGlvU3RhdGUuYXVkaW9GaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p+yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVMb29waW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5za2lwQnV0dG9ufSAke2F1ZGlvU3RhdGUuaXNMb29waW5nID8gc3R5bGVzLmFjdGl2ZUJ1dHRvbiA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiVG9nZ2xlIGxvb3AgbW9kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshYXVkaW9TdGF0ZS5hdWRpb0ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDihrtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNraXBGb3J3YXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5za2lwQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlNraXAgZm9yd2FyZCA1IHNlY29uZHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWF1ZGlvU3RhdGUuYXVkaW9GaWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQXVkaW9TaGFkZXJDb250cm9scyBjb21wb25lbnQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF1ZGlvU2hhZGVyQ29udHJvbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBhcmFtcz17c2hhZGVyUGFyYW1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZVBhcmFtcz17aGFuZGxlU2hhZGVyUGFyYW1VcGRhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiB7LyogRW5kIC5jb250cm9sc1BhbmVsICovfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gey8qIEVuZCAuY29udHJvbHNDb2x1bW4gKi99XG5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gey8qIEVuZCAudHdvQ29sdW1uTGF5b3V0ICovfVxuICAgICAgICAgICAgPC9tYWluPlxuXG4gICAgICAgICAgICA8Zm9vdGVyIGNsYXNzTmFtZT17c3R5bGVzLmZvb3Rlcn0+XG4gICAgICAgICAgICAgICAgPHA+JmNvcHk7IHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IGFmay5haSAtIEFsbCBSaWdodHMgUmVzZXJ2ZWQ8L3A+XG4gICAgICAgICAgICA8L2Zvb3Rlcj5cblxuICAgICAgICAgICAgey8qIEhpZGRlbiBhdWRpbyBlbGVtZW50ICovfVxuICAgICAgICAgICAgPGF1ZGlvIHJlZj17YXVkaW9SZWZ9IHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fSBjb250cm9scyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXVkaW9TaGFkZXJTeW5jOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiSGVhZCIsIkxpbmsiLCJTaGFkZXJWaXN1YWxpemVyIiwiU2hhZGVyTWFuYWdlciIsIkF1ZGlvQW5hbHlzaXNNYW5hZ2VyIiwiQXVkaW9TaGFkZXJDb250cm9scyIsIlNoYWRlckVkaXRvciIsInN0eWxlcyIsIkF1ZGlvU2hhZGVyU3luYyIsImF1ZGlvU3RhdGUiLCJzZXRBdWRpb1N0YXRlIiwiYXVkaW9GaWxlIiwiYXVkaW9BbmFseXNpcyIsImlzUGxheWluZyIsImN1cnJlbnRUaW1lIiwiaXNBbmFseXppbmciLCJpc0xvb3BpbmciLCJzZWxlY3RlZFNoYWRlciIsInNldFNlbGVjdGVkU2hhZGVyIiwic2hhZGVyVW5pZm9ybXMiLCJzZXRTaGFkZXJVbmlmb3JtcyIsImF2YWlsYWJsZVNoYWRlcnMiLCJzZXRBdmFpbGFibGVTaGFkZXJzIiwiY3VzdG9tU2hhZGVyIiwic2V0Q3VzdG9tU2hhZGVyIiwidGVtcEN1c3RvbVNoYWRlciIsInNldFRlbXBDdXN0b21TaGFkZXIiLCJjdXJyZW50U2hhZGVyU3JjIiwic2V0Q3VycmVudFNoYWRlclNyYyIsImlzTG9hZGluZ1NoYWRlciIsInNldElzTG9hZGluZ1NoYWRlciIsInNoYWRlclBhcmFtcyIsInNldFNoYWRlclBhcmFtcyIsImNvbG9yMSIsInIiLCJnIiwiYiIsImNvbG9yMiIsImNvbG9yMyIsImZvZ0NvbG9yIiwiZ2xvd0NvbG9yIiwiY2FtZXJhU3BlZWQiLCJ0cmFuc2llbnRFZmZlY3QiLCJjb2xvckludGVuc2l0eSIsImF1ZGlvUmVmIiwiZmlsZUlucHV0UmVmIiwiY29uc29sZSIsImxvZyIsInVuc3Vic2NyaWJlIiwic3Vic2NyaWJlIiwibmV3U3RhdGUiLCJwcmV2U3RhdGUiLCJ1bmRlZmluZWQiLCJ0b0ZpeGVkIiwiY3VycmVudCIsInRpbWVVcGRhdGVDbGVhbnVwIiwic2V0dXBUaW1lVXBkYXRlTGlzdGVuZXIiLCJlbmRlZEV2ZW50Q2xlYW51cCIsInNldHVwRW5kZWRFdmVudExpc3RlbmVyIiwibG9vcCIsInBhdXNlZCIsInBsYXkiLCJjYXRjaCIsImVycm9yIiwid2FybiIsInBhdXNlIiwiZ2V0QXZhaWxhYmxlU2hhZGVycyIsImhhbmRsZUZpbGVDaGFuZ2UiLCJlIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwic2V0QXVkaW9GaWxlIiwiaGFuZGxlUGxheVBhdXNlIiwidG9nZ2xlUGxheVBhdXNlIiwiaGFuZGxlU2tpcEZvcndhcmQiLCJza2lwRm9yd2FyZCIsImhhbmRsZVNraXBCYWNrd2FyZCIsInNraXBCYWNrd2FyZCIsImhhbmRsZVJlc2V0IiwicmVzZXRBdWRpbyIsImhhbmRsZVRvZ2dsZUxvb3BpbmciLCJ0b2dnbGVMb29waW5nIiwiaGFuZGxlU2hhZGVyQ2hhbmdlIiwic2hhZGVySWQiLCJ2YWx1ZSIsImxvYWRTaGFkZXJTb3VyY2UiLCJzaGFkZXIiLCJsb2FkTGlicmFyeVNoYWRlciIsImdldEZyYWdTcmMiLCJzaGFkZXJTcmMiLCJsZW5ndGgiLCJuYW1lIiwiZnJhZ1NyYyIsImlzV3JhcHBlZFNoYWRlciIsImluY2x1ZGVzIiwic3RhcnRNYXJrZXIiLCJlbmRNYXJrZXIiLCJzdGFydEluZGV4IiwiaW5kZXhPZiIsImVuZEluZGV4IiwiZXh0cmFjdGVkQ29kZSIsInN1YnN0cmluZyIsInRyaW0iLCJ3cmFwU2hhZGVyVG95Q29kZSIsInNoYWRlclRveUNvZGUiLCJzdGFydHNXaXRoIiwibGluZXMiLCJzcGxpdCIsInNvbWUiLCJsaW5lIiwic3BsaWNlIiwiam9pbiIsImhhbmRsZUN1c3RvbVNoYWRlckNoYW5nZSIsImFwcGx5Q3VzdG9tU2hhZGVyIiwic2hhZGVyQ29kZSIsImRlZmF1bHRTaGFkZXIiLCJpZCIsImN1c3RvbUtleSIsIkRhdGUiLCJub3ciLCJ3cmFwcGVkU2hhZGVyIiwiaGFuZGxlVW5pZm9ybXNVcGRhdGUiLCJ1bmlmb3JtcyIsImhhbmRsZVNoYWRlclBhcmFtVXBkYXRlIiwibmV3UGFyYW1zIiwicHJldiIsInVwZGF0ZVNoYWRlclBhcmFtcyIsImRpdiIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsInRpdGxlIiwibWV0YSIsImNvbnRlbnQiLCJoZWFkZXIiLCJwYWdlSGVhZGVyIiwic3R5bGUiLCJwb3NpdGlvbiIsInpJbmRleCIsImgxIiwiaGVhZGVyVGl0bGUiLCJwIiwiaGVhZGVyVGFnbGluZSIsIm1haW4iLCJ0d29Db2x1bW5MYXlvdXQiLCJjYW52YXNDb2x1bW4iLCJ2aXN1YWxpemF0aW9uQ29udGFpbmVyIiwid2lkdGgiLCJoZWlnaHQiLCJvblVwZGF0ZVVuaWZvcm1zIiwib25BcHBseVNoYWRlciIsImNvbnRyb2xzQ29sdW1uIiwiY29udHJvbHNQYW5lbCIsImZpbGVVcGxvYWRTZWN0aW9uIiwiZmlsZUlucHV0Q29udGFpbmVyIiwiZmlsZUlucHV0IiwiaW5wdXQiLCJ0eXBlIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJyZWYiLCJsYWJlbCIsImh0bWxGb3IiLCJmaWxlSW5wdXRMYWJlbCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInBsYXlCdXR0b24iLCJmaWxlSW5mb0Rpc3BsYXkiLCJjb250cm9sc1JvdyIsImNvbnRyb2xHcm91cCIsImNvbnRyb2xMYWJlbCIsInNlbGVjdCIsImNvbnRyb2xTZWxlY3QiLCJtYXAiLCJvcHRpb24iLCJsb2FkaW5nTWVzc2FnZSIsInNwYW4iLCJ0aW1lQ29udHJvbHMiLCJza2lwQnV0dG9uIiwidGltZURpc3BsYXkiLCJhY3RpdmVCdXR0b24iLCJpbml0aWFsUGFyYW1zIiwib25VcGRhdGVQYXJhbXMiLCJmb290ZXIiLCJnZXRGdWxsWWVhciIsImF1ZGlvIiwiZGlzcGxheSIsImNvbnRyb2xzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./utils/audio/AudioAnalysisManager.js":
/*!*********************************************!*\
  !*** ./utils/audio/AudioAnalysisManager.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _audioAnalyzer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./audioAnalyzer */ \"./utils/audio/audioAnalyzer.js\");\n/**\n * AudioAnalysisManager.js\n * Singleton for managing audio state and analysis data across components\n */ \nclass AudioAnalysisManager {\n    constructor(){\n        // Singleton instance check\n        if (AudioAnalysisManager.instance) {\n            return AudioAnalysisManager.instance;\n        }\n        // Initialize state\n        this.state = {\n            audioFile: null,\n            audioAnalysis: null,\n            isPlaying: false,\n            currentTime: 0,\n            isAnalyzing: false,\n            isLooping: false,\n            listeners: []\n        };\n        AudioAnalysisManager.instance = this;\n    }\n    // Subscribe to state changes\n    subscribe(callback) {\n        this.state.listeners.push(callback);\n        // Immediately call with current state\n        callback(this.getState());\n        // Return unsubscribe function\n        return ()=>{\n            this.state.listeners = this.state.listeners.filter((listener)=>listener !== callback);\n        };\n    }\n    // Notify all listeners of state change\n    notifyListeners() {\n        const currentState = this.getState();\n        this.state.listeners.forEach((listener)=>listener(currentState));\n    }\n    // Get current audio state\n    getState() {\n        return {\n            audioFile: this.state.audioFile,\n            audioAnalysis: this.state.audioAnalysis,\n            isPlaying: this.state.isPlaying,\n            currentTime: this.state.currentTime,\n            isAnalyzing: this.state.isAnalyzing,\n            isLooping: this.state.isLooping\n        };\n    }\n    // Update currentTime\n    setCurrentTime(time) {\n        this.state.currentTime = time;\n        this.notifyListeners();\n    }\n    // Set playing state\n    setIsPlaying(isPlaying) {\n        this.state.isPlaying = isPlaying;\n        this.notifyListeners();\n    }\n    // Set audio file and analyze\n    async setAudioFile(file, audioElement) {\n        if (!file) return;\n        this.state.audioFile = file;\n        this.state.isAnalyzing = true;\n        this.notifyListeners();\n        // Create object URL for audio element if provided\n        if (audioElement) {\n            const audioUrl = URL.createObjectURL(file);\n            audioElement.src = audioUrl;\n            audioElement.load();\n            // Apply current loop setting to new audio file\n            audioElement.loop = this.state.isLooping;\n        }\n        // Analyze audio file\n        try {\n            const analysis = await (0,_audioAnalyzer__WEBPACK_IMPORTED_MODULE_0__.analyzeAudioFile)(file);\n            this.state.audioAnalysis = analysis;\n            console.log(\"Audio analysis complete:\", analysis);\n        } catch (error) {\n            console.error(\"Error analyzing audio:\", error);\n        } finally{\n            this.state.isAnalyzing = false;\n            this.notifyListeners();\n        }\n    }\n    // Toggle play/pause\n    togglePlayPause(audioElement) {\n        if (!audioElement) return;\n        console.log(`[AUDIO MGR] Play button clicked, current state: ${this.state.isPlaying ? \"playing\" : \"paused\"}`);\n        if (this.state.isPlaying) {\n            audioElement.pause();\n            console.log(\"[AUDIO MGR] Pausing audio\");\n        } else {\n            audioElement.play();\n            console.log(\"[AUDIO MGR] Starting audio playback\");\n        }\n        this.state.isPlaying = !this.state.isPlaying;\n        this.notifyListeners();\n    }\n    // Add time update listener to audio element\n    setupTimeUpdateListener(audioElement) {\n        if (!audioElement) return;\n        const updateCurrentTime = ()=>{\n            this.setCurrentTime(audioElement.currentTime);\n        };\n        // Remove any existing listeners first\n        audioElement.removeEventListener(\"timeupdate\", updateCurrentTime);\n        // Add listener\n        audioElement.addEventListener(\"timeupdate\", updateCurrentTime);\n        // Return cleanup function\n        return ()=>{\n            audioElement.removeEventListener(\"timeupdate\", updateCurrentTime);\n        };\n    }\n    // Skip forward in the audio by specified seconds\n    skipForward(audioElement, seconds = 5) {\n        if (!audioElement || !this.state.audioFile) return;\n        // Calculate new time, ensuring we don't exceed the duration\n        const newTime = Math.min(audioElement.duration, audioElement.currentTime + seconds);\n        audioElement.currentTime = newTime;\n        this.setCurrentTime(newTime);\n        console.log(`[AUDIO MGR] Skipped forward to ${newTime.toFixed(2)}s`);\n    }\n    // Skip backward in the audio by specified seconds\n    skipBackward(audioElement, seconds = 5) {\n        if (!audioElement || !this.state.audioFile) return;\n        // Calculate new time, ensuring we don't go below 0\n        const newTime = Math.max(0, audioElement.currentTime - seconds);\n        audioElement.currentTime = newTime;\n        this.setCurrentTime(newTime);\n        console.log(`[AUDIO MGR] Skipped backward to ${newTime.toFixed(2)}s`);\n    }\n    // Reset audio to the beginning\n    resetAudio(audioElement) {\n        if (!audioElement || !this.state.audioFile) return;\n        // Set the current time to 0\n        audioElement.currentTime = 0;\n        this.setCurrentTime(0);\n        console.log(`[AUDIO MGR] Reset audio to beginning`);\n    }\n    // Toggle looping state\n    toggleLooping(audioElement) {\n        if (!audioElement || !this.state.audioFile) return;\n        // Toggle the looping state\n        this.state.isLooping = !this.state.isLooping;\n        // If we have an audio element, set its loop property accordingly\n        if (audioElement) {\n            audioElement.loop = this.state.isLooping;\n        }\n        console.log(`[AUDIO MGR] Looping ${this.state.isLooping ? \"enabled\" : \"disabled\"}`);\n        this.notifyListeners();\n    }\n    // Setup ended event listener for auto-replay when looping is enabled\n    setupEndedEventListener(audioElement) {\n        if (!audioElement) return;\n        const handleEnded = ()=>{\n            // If looping is enabled but the native HTML5 loop isn't working for some reason,\n            // we'll handle it manually\n            if (this.state.isLooping) {\n                console.log(\"[AUDIO MGR] Audio ended, looping enabled - restarting\");\n                this.resetAudio(audioElement);\n                audioElement.play();\n            } else {\n                // When not looping, just update the playing state when ended\n                this.setIsPlaying(false);\n                console.log(\"[AUDIO MGR] Audio ended\");\n            }\n        };\n        // Remove any existing listeners first\n        audioElement.removeEventListener(\"ended\", handleEnded);\n        // Add listener\n        audioElement.addEventListener(\"ended\", handleEnded);\n        // Return cleanup function\n        return ()=>{\n            audioElement.removeEventListener(\"ended\", handleEnded);\n        };\n    }\n}\n// Export a singleton instance\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new AudioAnalysisManager());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDZEEsYUFBYU0sSUFBSSxHQUFHLElBQUksQ0FBQzVCLEtBQUssQ0FBQ00sU0FBUztRQUM1QztRQUVBd0IsUUFBUUMsR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDL0IsS0FBSyxDQUFDTSxTQUFTLEdBQUcsWUFBWSxXQUFXLENBQUM7UUFDbEYsSUFBSSxDQUFDUSxlQUFlO0lBQ3hCO0lBRUEscUVBQXFFO0lBQ3JFcUMsd0JBQXdCN0IsWUFBWSxFQUFFO1FBQ2xDLElBQUksQ0FBQ0EsY0FBYztRQUVuQixNQUFNOEIsY0FBYztZQUNoQixpRkFBaUY7WUFDakYsMkJBQTJCO1lBQzNCLElBQUksSUFBSSxDQUFDcEQsS0FBSyxDQUFDTSxTQUFTLEVBQUU7Z0JBQ3RCd0IsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLElBQUksQ0FBQ2tCLFVBQVUsQ0FBQzNCO2dCQUNoQkEsYUFBYWEsSUFBSTtZQUNyQixPQUFPO2dCQUNILDZEQUE2RDtnQkFDN0QsSUFBSSxDQUFDaEIsWUFBWSxDQUFDO2dCQUNsQlcsUUFBUUMsR0FBRyxDQUFDO1lBQ2hCO1FBQ0o7UUFFQSxzQ0FBc0M7UUFDdENULGFBQWFnQixtQkFBbUIsQ0FBQyxTQUFTYztRQUUxQyxlQUFlO1FBQ2Y5QixhQUFhaUIsZ0JBQWdCLENBQUMsU0FBU2E7UUFFdkMsMEJBQTBCO1FBQzFCLE9BQU87WUFDSDlCLGFBQWFnQixtQkFBbUIsQ0FBQyxTQUFTYztRQUM5QztJQUNKO0FBQ0o7QUFFQSw4QkFBOEI7QUFDOUIsaUVBQWUsSUFBSXZELHNCQUFzQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvYXVkaW8vQXVkaW9BbmFseXNpc01hbmFnZXIuanM/MjI0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLmpzXG4gKiBTaW5nbGV0b24gZm9yIG1hbmFnaW5nIGF1ZGlvIHN0YXRlIGFuZCBhbmFseXNpcyBkYXRhIGFjcm9zcyBjb21wb25lbnRzXG4gKi9cblxuaW1wb3J0IHsgYW5hbHl6ZUF1ZGlvRmlsZSB9IGZyb20gJy4vYXVkaW9BbmFseXplcic7XG5cbmNsYXNzIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gU2luZ2xldG9uIGluc3RhbmNlIGNoZWNrXG4gICAgICAgIGlmIChBdWRpb0FuYWx5c2lzTWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLmluc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBzdGF0ZVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgYXVkaW9GaWxlOiBudWxsLFxuICAgICAgICAgICAgYXVkaW9BbmFseXNpczogbnVsbCxcbiAgICAgICAgICAgIGlzUGxheWluZzogZmFsc2UsXG4gICAgICAgICAgICBjdXJyZW50VGltZTogMCxcbiAgICAgICAgICAgIGlzQW5hbHl6aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzTG9vcGluZzogZmFsc2UsXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IFtdLFxuICAgICAgICB9O1xuXG4gICAgICAgIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyLmluc3RhbmNlID0gdGhpcztcbiAgICB9XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gc3RhdGUgY2hhbmdlc1xuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnN0YXRlLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcblxuICAgICAgICAvLyBJbW1lZGlhdGVseSBjYWxsIHdpdGggY3VycmVudCBzdGF0ZVxuICAgICAgICBjYWxsYmFjayh0aGlzLmdldFN0YXRlKCkpO1xuXG4gICAgICAgIC8vIFJldHVybiB1bnN1YnNjcmliZSBmdW5jdGlvblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5saXN0ZW5lcnMgPSB0aGlzLnN0YXRlLmxpc3RlbmVycy5maWx0ZXIobGlzdGVuZXIgPT4gbGlzdGVuZXIgIT09IGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBOb3RpZnkgYWxsIGxpc3RlbmVycyBvZiBzdGF0ZSBjaGFuZ2VcbiAgICBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihjdXJyZW50U3RhdGUpKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgY3VycmVudCBhdWRpbyBzdGF0ZVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXVkaW9GaWxlOiB0aGlzLnN0YXRlLmF1ZGlvRmlsZSxcbiAgICAgICAgICAgIGF1ZGlvQW5hbHlzaXM6IHRoaXMuc3RhdGUuYXVkaW9BbmFseXNpcyxcbiAgICAgICAgICAgIGlzUGxheWluZzogdGhpcy5zdGF0ZS5pc1BsYXlpbmcsXG4gICAgICAgICAgICBjdXJyZW50VGltZTogdGhpcy5zdGF0ZS5jdXJyZW50VGltZSxcbiAgICAgICAgICAgIGlzQW5hbHl6aW5nOiB0aGlzLnN0YXRlLmlzQW5hbHl6aW5nLFxuICAgICAgICAgICAgaXNMb29waW5nOiB0aGlzLnN0YXRlLmlzTG9vcGluZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjdXJyZW50VGltZVxuICAgIHNldEN1cnJlbnRUaW1lKHRpbWUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHBsYXlpbmcgc3RhdGVcbiAgICBzZXRJc1BsYXlpbmcoaXNQbGF5aW5nKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuaXNQbGF5aW5nID0gaXNQbGF5aW5nO1xuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuICAgIH1cblxuICAgIC8vIFNldCBhdWRpbyBmaWxlIGFuZCBhbmFseXplXG4gICAgYXN5bmMgc2V0QXVkaW9GaWxlKGZpbGUsIGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBpZiAoIWZpbGUpIHJldHVybjtcblxuICAgICAgICB0aGlzLnN0YXRlLmF1ZGlvRmlsZSA9IGZpbGU7XG4gICAgICAgIHRoaXMuc3RhdGUuaXNBbmFseXppbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBvYmplY3QgVVJMIGZvciBhdWRpbyBlbGVtZW50IGlmIHByb3ZpZGVkXG4gICAgICAgIGlmIChhdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5zcmMgPSBhdWRpb1VybDtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5sb2FkKCk7XG5cbiAgICAgICAgICAgIC8vIEFwcGx5IGN1cnJlbnQgbG9vcCBzZXR0aW5nIHRvIG5ldyBhdWRpbyBmaWxlXG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQubG9vcCA9IHRoaXMuc3RhdGUuaXNMb29waW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQW5hbHl6ZSBhdWRpbyBmaWxlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGFuYWx5emVBdWRpb0ZpbGUoZmlsZSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmF1ZGlvQW5hbHlzaXMgPSBhbmFseXNpcztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdWRpbyBhbmFseXNpcyBjb21wbGV0ZTonLCBhbmFseXNpcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbmFseXppbmcgYXVkaW86JywgZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc0FuYWx5emluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRvZ2dsZSBwbGF5L3BhdXNlXG4gICAgdG9nZ2xlUGxheVBhdXNlKGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBpZiAoIWF1ZGlvRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQVVESU8gTUdSXSBQbGF5IGJ1dHRvbiBjbGlja2VkLCBjdXJyZW50IHN0YXRlOiAke3RoaXMuc3RhdGUuaXNQbGF5aW5nID8gJ3BsYXlpbmcnIDogJ3BhdXNlZCd9YCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNQbGF5aW5nKSB7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQucGF1c2UoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQVVESU8gTUdSXSBQYXVzaW5nIGF1ZGlvJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQucGxheSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBVURJTyBNR1JdIFN0YXJ0aW5nIGF1ZGlvIHBsYXliYWNrJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlLmlzUGxheWluZyA9ICF0aGlzLnN0YXRlLmlzUGxheWluZztcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGltZSB1cGRhdGUgbGlzdGVuZXIgdG8gYXVkaW8gZWxlbWVudFxuICAgIHNldHVwVGltZVVwZGF0ZUxpc3RlbmVyKGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBpZiAoIWF1ZGlvRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUaW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50VGltZShhdWRpb0VsZW1lbnQuY3VycmVudFRpbWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgbGlzdGVuZXJzIGZpcnN0XG4gICAgICAgIGF1ZGlvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgdXBkYXRlQ3VycmVudFRpbWUpO1xuXG4gICAgICAgIC8vIEFkZCBsaXN0ZW5lclxuICAgICAgICBhdWRpb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIHVwZGF0ZUN1cnJlbnRUaW1lKTtcblxuICAgICAgICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB1cGRhdGVDdXJyZW50VGltZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU2tpcCBmb3J3YXJkIGluIHRoZSBhdWRpbyBieSBzcGVjaWZpZWQgc2Vjb25kc1xuICAgIHNraXBGb3J3YXJkKGF1ZGlvRWxlbWVudCwgc2Vjb25kcyA9IDUpIHtcbiAgICAgICAgaWYgKCFhdWRpb0VsZW1lbnQgfHwgIXRoaXMuc3RhdGUuYXVkaW9GaWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyB0aW1lLCBlbnN1cmluZyB3ZSBkb24ndCBleGNlZWQgdGhlIGR1cmF0aW9uXG4gICAgICAgIGNvbnN0IG5ld1RpbWUgPSBNYXRoLm1pbihhdWRpb0VsZW1lbnQuZHVyYXRpb24sIGF1ZGlvRWxlbWVudC5jdXJyZW50VGltZSArIHNlY29uZHMpO1xuICAgICAgICBhdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgPSBuZXdUaW1lO1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRUaW1lKG5ld1RpbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhgW0FVRElPIE1HUl0gU2tpcHBlZCBmb3J3YXJkIHRvICR7bmV3VGltZS50b0ZpeGVkKDIpfXNgKTtcbiAgICB9XG5cbiAgICAvLyBTa2lwIGJhY2t3YXJkIGluIHRoZSBhdWRpbyBieSBzcGVjaWZpZWQgc2Vjb25kc1xuICAgIHNraXBCYWNrd2FyZChhdWRpb0VsZW1lbnQsIHNlY29uZHMgPSA1KSB7XG4gICAgICAgIGlmICghYXVkaW9FbGVtZW50IHx8ICF0aGlzLnN0YXRlLmF1ZGlvRmlsZSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgdGltZSwgZW5zdXJpbmcgd2UgZG9uJ3QgZ28gYmVsb3cgMFxuICAgICAgICBjb25zdCBuZXdUaW1lID0gTWF0aC5tYXgoMCwgYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lIC0gc2Vjb25kcyk7XG4gICAgICAgIGF1ZGlvRWxlbWVudC5jdXJyZW50VGltZSA9IG5ld1RpbWU7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFRpbWUobmV3VGltZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbQVVESU8gTUdSXSBTa2lwcGVkIGJhY2t3YXJkIHRvICR7bmV3VGltZS50b0ZpeGVkKDIpfXNgKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBhdWRpbyB0byB0aGUgYmVnaW5uaW5nXG4gICAgcmVzZXRBdWRpbyhhdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFhdWRpb0VsZW1lbnQgfHwgIXRoaXMuc3RhdGUuYXVkaW9GaWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gU2V0IHRoZSBjdXJyZW50IHRpbWUgdG8gMFxuICAgICAgICBhdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRUaW1lKDApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW0FVRElPIE1HUl0gUmVzZXQgYXVkaW8gdG8gYmVnaW5uaW5nYCk7XG4gICAgfVxuXG4gICAgLy8gVG9nZ2xlIGxvb3Bpbmcgc3RhdGVcbiAgICB0b2dnbGVMb29waW5nKGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBpZiAoIWF1ZGlvRWxlbWVudCB8fCAhdGhpcy5zdGF0ZS5hdWRpb0ZpbGUpIHJldHVybjtcblxuICAgICAgICAvLyBUb2dnbGUgdGhlIGxvb3Bpbmcgc3RhdGVcbiAgICAgICAgdGhpcy5zdGF0ZS5pc0xvb3BpbmcgPSAhdGhpcy5zdGF0ZS5pc0xvb3Bpbmc7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBhdWRpbyBlbGVtZW50LCBzZXQgaXRzIGxvb3AgcHJvcGVydHkgYWNjb3JkaW5nbHlcbiAgICAgICAgaWYgKGF1ZGlvRWxlbWVudCkge1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50Lmxvb3AgPSB0aGlzLnN0YXRlLmlzTG9vcGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQVVESU8gTUdSXSBMb29waW5nICR7dGhpcy5zdGF0ZS5pc0xvb3BpbmcgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuICAgIH1cblxuICAgIC8vIFNldHVwIGVuZGVkIGV2ZW50IGxpc3RlbmVyIGZvciBhdXRvLXJlcGxheSB3aGVuIGxvb3BpbmcgaXMgZW5hYmxlZFxuICAgIHNldHVwRW5kZWRFdmVudExpc3RlbmVyKGF1ZGlvRWxlbWVudCkge1xuICAgICAgICBpZiAoIWF1ZGlvRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUVuZGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgbG9vcGluZyBpcyBlbmFibGVkIGJ1dCB0aGUgbmF0aXZlIEhUTUw1IGxvb3AgaXNuJ3Qgd29ya2luZyBmb3Igc29tZSByZWFzb24sXG4gICAgICAgICAgICAvLyB3ZSdsbCBoYW5kbGUgaXQgbWFudWFsbHlcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzTG9vcGluZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbQVVESU8gTUdSXSBBdWRpbyBlbmRlZCwgbG9vcGluZyBlbmFibGVkIC0gcmVzdGFydGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBdWRpbyhhdWRpb0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gbm90IGxvb3BpbmcsIGp1c3QgdXBkYXRlIHRoZSBwbGF5aW5nIHN0YXRlIHdoZW4gZW5kZWRcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzUGxheWluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tBVURJTyBNR1JdIEF1ZGlvIGVuZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBsaXN0ZW5lcnMgZmlyc3RcbiAgICAgICAgYXVkaW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlRW5kZWQpO1xuXG4gICAgICAgIC8vIEFkZCBsaXN0ZW5lclxuICAgICAgICBhdWRpb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVFbmRlZCk7XG5cbiAgICAgICAgLy8gUmV0dXJuIGNsZWFudXAgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZUVuZGVkKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8vIEV4cG9ydCBhIHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1ZGlvQW5hbHlzaXNNYW5hZ2VyKCk7ICJdLCJuYW1lcyI6WyJhbmFseXplQXVkaW9GaWxlIiwiQXVkaW9BbmFseXNpc01hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImluc3RhbmNlIiwic3RhdGUiLCJhdWRpb0ZpbGUiLCJhdWRpb0FuYWx5c2lzIiwiaXNQbGF5aW5nIiwiY3VycmVudFRpbWUiLCJpc0FuYWx5emluZyIsImlzTG9vcGluZyIsImxpc3RlbmVycyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwicHVzaCIsImdldFN0YXRlIiwiZmlsdGVyIiwibGlzdGVuZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJjdXJyZW50U3RhdGUiLCJmb3JFYWNoIiwic2V0Q3VycmVudFRpbWUiLCJ0aW1lIiwic2V0SXNQbGF5aW5nIiwic2V0QXVkaW9GaWxlIiwiZmlsZSIsImF1ZGlvRWxlbWVudCIsImF1ZGlvVXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic3JjIiwibG9hZCIsImxvb3AiLCJhbmFseXNpcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInRvZ2dsZVBsYXlQYXVzZSIsInBhdXNlIiwicGxheSIsInNldHVwVGltZVVwZGF0ZUxpc3RlbmVyIiwidXBkYXRlQ3VycmVudFRpbWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNraXBGb3J3YXJkIiwic2Vjb25kcyIsIm5ld1RpbWUiLCJNYXRoIiwibWluIiwiZHVyYXRpb24iLCJ0b0ZpeGVkIiwic2tpcEJhY2t3YXJkIiwibWF4IiwicmVzZXRBdWRpbyIsInRvZ2dsZUxvb3BpbmciLCJzZXR1cEVuZGVkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUVuZGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/audio/AudioAnalysisManager.js\n");

/***/ }),

/***/ "./utils/audio/audioAnalyzer.js":
/*!**************************************!*\
  !*** ./utils/audio/audioAnalyzer.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioAnalyzer: () => (/* binding */ AudioAnalyzer),\n/* harmony export */   analyzeAudioFile: () => (/* binding */ analyzeAudioFile)\n/* harmony export */ });\n/* harmony import */ var meyda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! meyda */ \"meyda\");\n/* harmony import */ var meyda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(meyda__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Audio feature analyzer using Meyda.js\n * Extracts significant events, features and timestamps from audio files\n * For use with animation synchronization\n */ // We'll need to install meyda as a dependency:\n// npm install meyda --save\n\nclass AudioAnalyzer {\n    constructor(){\n        this.audioContext = null;\n        this.analyser = null;\n        this.audioSource = null;\n        this.meydaAnalyzer = null;\n        this.isAnalyzing = false;\n        this.results = {\n            drops: [],\n            beats: [],\n            energyPeaks: [],\n            spectrumEvents: [],\n            rhythmMarkers: [],\n            lowFrequencyEvents: [],\n            // Replace drum detection with more general approaches\n            transients: [],\n            beatGrid: [],\n            // Keep other event types\n            midRangeEvents: [],\n            highFrequencyEvents: [],\n            timbreChanges: [],\n            dynamicChanges: []\n        };\n        // Cache for more efficient re-analysis\n        this.cachedData = {\n            audioBuffer: null,\n            featureHistory: null,\n            rawTransients: []\n        };\n        // Analysis settings\n        this.settings = {\n            fftSize: 2048,\n            bufferSize: 512,\n            hopSize: 256,\n            energyThreshold: 0.7,\n            spectralFluxThreshold: 2.0,\n            lowFrequencyThreshold: 0.8,\n            beatSensitivity: 1.5,\n            analysisWindowSize: 5,\n            minTimeBetweenEvents: 0.3,\n            // Onset detection settings\n            onsetThreshold: 1.5,\n            onsetMinInterval: 0.0,\n            // Band-specific onset thresholds\n            lowFreqOnsetThreshold: 1.212,\n            midFreqOnsetThreshold: 1.158,\n            highFreqOnsetThreshold: 1.622,\n            // Frequency band ranges (in Bark scale indices, approx.)\n            lowBandRange: [\n                0,\n                3\n            ],\n            midBandRange: [\n                4,\n                12\n            ],\n            highBandRange: [\n                13,\n                23\n            ],\n            // Dynamic change thresholds\n            moderateChangeThreshold: 1.3,\n            significantChangeThreshold: 1.8,\n            dramaticChangeThreshold: 2.5,\n            // Timbral change threshold\n            timbreChangeThreshold: 0.15\n        };\n        // For tracking changes over time\n        this.featureHistory = {\n            energy: [],\n            spectralFlux: [],\n            loudness: [],\n            perceptualSpread: [],\n            spectralFlatness: [],\n            // Add new feature history tracking\n            rms: [],\n            zcr: [],\n            lowBandEnergy: [],\n            midBandEnergy: [],\n            highBandEnergy: []\n        };\n        // Save previous buffer for spectralFlux calculation\n        this.previousInputData = null;\n        // For tracking beats and tempo\n        this.beatTracker = {\n            lastBeatTime: 0,\n            beatIntervals: [],\n            confidence: 0,\n            tempo: 0\n        };\n    }\n    /**\n     * Initialize the audio context and analyzer\n     */ init() {\n        // Initialize Web Audio API\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        this.analyser = this.audioContext.createAnalyser();\n        this.analyser.fftSize = this.settings.fftSize;\n        // Configure analyzer\n        this.analyser.smoothingTimeConstant = 0.5;\n        this.analyser.connect(this.audioContext.destination);\n        console.log(\"Audio analyzer initialized\");\n    }\n    /**\n     * Load and analyze an audio file\n     * @param {String|File} audioFile - Path to audio file or File object\n     * @returns {Promise} - Resolves with analysis results\n     */ async analyzeFile(audioFile) {\n        if (!this.audioContext) {\n            this.init();\n        }\n        try {\n            // Reset results\n            this.resetResults();\n            // Reset previous data\n            this.previousInputData = null;\n            // Load audio file\n            const audioBuffer = await this.loadAudioFile(audioFile);\n            console.log(`Loaded audio file: ${audioBuffer.duration.toFixed(2)} seconds`);\n            // Cache the audio buffer for potential reuse\n            this.cachedData.audioBuffer = audioBuffer;\n            // Store audio data for waveform visualization\n            this.extractWaveformData(audioBuffer);\n            // Perform offline analysis for better performance\n            await this.runOfflineAnalysis(audioBuffer);\n            // Cache raw transients before processing\n            this.cachedData.rawTransients = [\n                ...this.results.transients\n            ];\n            // Process the collected data to find significant events\n            this.processAnalysisResults();\n            return this.results;\n        } catch (error) {\n            console.error(\"Error analyzing audio file:\", error);\n            throw error;\n        }\n    }\n    /**\n     * Load an audio file and decode it\n     * @param {String|File} audioFile - Path to audio file or File object\n     * @returns {Promise<AudioBuffer>} - The decoded audio buffer\n     */ async loadAudioFile(audioFile) {\n        let audioData;\n        if (typeof audioFile === \"string\") {\n            // Load from URL\n            const response = await fetch(audioFile);\n            audioData = await response.arrayBuffer();\n        } else if (audioFile instanceof File) {\n            // Load from File object\n            audioData = await new Promise((resolve)=>{\n                const reader = new FileReader();\n                reader.onload = (e)=>resolve(e.target.result);\n                reader.readAsArrayBuffer(audioFile);\n            });\n        } else {\n            throw new Error(\"Invalid audio file format\");\n        }\n        // Decode the audio data\n        return await this.audioContext.decodeAudioData(audioData);\n    }\n    /**\n     * Run offline analysis on the audio buffer\n     * @param {AudioBuffer} audioBuffer - The decoded audio buffer\n     */ async runOfflineAnalysis(audioBuffer) {\n        console.log(\"Starting offline analysis...\");\n        this.isAnalyzing = true;\n        // Create an offline audio context for faster processing\n        const offlineContext = new OfflineAudioContext({\n            numberOfChannels: audioBuffer.numberOfChannels,\n            length: audioBuffer.length,\n            sampleRate: audioBuffer.sampleRate\n        });\n        // Create a buffer source\n        const source = offlineContext.createBufferSource();\n        source.buffer = audioBuffer;\n        // Create an analyzer node\n        const analyser = offlineContext.createAnalyser();\n        analyser.fftSize = this.settings.fftSize;\n        // Connect the source to the analyzer\n        source.connect(analyser);\n        analyser.connect(offlineContext.destination);\n        // Set up Meyda features to extract\n        const meydaFeatures = [\n            \"energy\",\n            \"loudness\",\n            \"perceptualSpread\",\n            \"spectralFlatness\",\n            \"rms\",\n            \"zcr\",\n            \"mfcc\",\n            \"spectralCentroid\",\n            \"spectralSpread\" // Added for timbral analysis\n        ];\n        // Process the audio in chunks\n        const bufferSize = this.settings.bufferSize;\n        const hopSize = this.settings.hopSize;\n        const totalSamples = audioBuffer.length;\n        let currentSample = 0;\n        // Start the source\n        source.start();\n        // Initialize a simple spectral flux calculator without relying on Meyda's implementation\n        let previousSpectrum = null;\n        // Process the audio in chunks\n        while(currentSample < totalSamples && this.isAnalyzing){\n            const currentTime = currentSample / audioBuffer.sampleRate;\n            // Get current audio data\n            const audioData = this.getAudioDataAtTime(audioBuffer, currentSample, bufferSize);\n            try {\n                // Extract features with Meyda\n                const features = meyda__WEBPACK_IMPORTED_MODULE_0___default().extract(meydaFeatures, audioData);\n                // Calculate spectral flux manually using Web Audio API AnalyserNode\n                let spectralFlux = 0;\n                // Create an AnalyserNode for spectrum analysis\n                const tempOfflineContext = new OfflineAudioContext(1, bufferSize, audioBuffer.sampleRate);\n                const tempAnalyser = tempOfflineContext.createAnalyser();\n                tempAnalyser.fftSize = 1024;\n                // Create a buffer source to get frequency data\n                const tempSource = tempOfflineContext.createBufferSource();\n                const tempBuffer = tempOfflineContext.createBuffer(1, bufferSize, tempOfflineContext.sampleRate);\n                const channelData = tempBuffer.getChannelData(0);\n                for(let i = 0; i < bufferSize; i++){\n                    channelData[i] = audioData[i];\n                }\n                tempSource.buffer = tempBuffer;\n                tempSource.connect(tempAnalyser);\n                // Get frequency data\n                const frequencyData = new Float32Array(tempAnalyser.frequencyBinCount);\n                tempSource.start();\n                tempOfflineContext.startRendering().then(()=>{\n                    tempAnalyser.getFloatFrequencyData(frequencyData);\n                });\n                // Calculate spectral flux if we have previous data\n                if (this.previousInputData) {\n                    let flux = 0;\n                    const prevData = this.previousInputData;\n                    // Using direct buffer comparison for simplicity and reliability\n                    for(let i = 0; i < audioData.length; i++){\n                        // Look for positive changes in amplitude (onsets)\n                        const diff = Math.max(0, Math.abs(audioData[i]) - Math.abs(prevData[i]));\n                        flux += diff * diff;\n                    }\n                    spectralFlux = Math.sqrt(flux);\n                }\n                this.previousInputData = new Float32Array(audioData);\n                // Add spectral flux to features with a minimum value\n                features.spectralFlux = Math.max(spectralFlux, 0.01);\n                // Debug logging to help understand detection issues\n                if (currentSample % (hopSize * 100) === 0) {\n                    console.log(\"Features at time\", currentTime, {\n                        lowBandEnergy: features.lowBandEnergy,\n                        midBandEnergy: features.midBandEnergy,\n                        highBandEnergy: features.highBandEnergy,\n                        spectralFlux: features.spectralFlux\n                    });\n                }\n                // Calculate band energies from loudness.specific\n                if (features.loudness && features.loudness.specific) {\n                    // Calculate energy in different frequency bands\n                    const [lowMin, lowMax] = this.settings.lowBandRange;\n                    const [midMin, midMax] = this.settings.midBandRange;\n                    const [highMin, highMax] = this.settings.highBandRange;\n                    // Make sure we don't exceed the available bands\n                    const specific = features.loudness.specific;\n                    const maxIndex = specific.length - 1;\n                    // Calculate band energies\n                    features.lowBandEnergy = specific.slice(Math.min(lowMin, maxIndex), Math.min(lowMax, maxIndex) + 1).reduce((sum, val)=>sum + val, 0);\n                    features.midBandEnergy = specific.slice(Math.min(midMin, maxIndex), Math.min(midMax, maxIndex) + 1).reduce((sum, val)=>sum + val, 0);\n                    features.highBandEnergy = specific.slice(Math.min(highMin, maxIndex), Math.min(highMax, maxIndex) + 1).reduce((sum, val)=>sum + val, 0);\n                } else {\n                    // Fallback values if loudness.specific is not available\n                    features.lowBandEnergy = features.energy * 0.4; // Approximation\n                    features.midBandEnergy = features.energy * 0.3; // Approximation  \n                    features.highBandEnergy = features.energy * 0.3; // Approximation\n                }\n                // Store features with timestamp\n                this.storeEnhancedFeatures(features, currentTime);\n            } catch (error) {\n                console.warn(`Error extracting features at time ${currentTime}:`, error);\n            // Continue despite errors to gather as much data as possible\n            }\n            // Move to next chunk\n            currentSample += hopSize;\n            // Allow UI thread to breathe on long analyses\n            if (currentSample % (hopSize * 100) === 0) {\n                await new Promise((resolve)=>setTimeout(resolve, 0));\n                const progress = Math.min(100, Math.floor(currentSample / totalSamples * 100));\n                console.log(`Analysis progress: ${progress}%`);\n            }\n        }\n        this.isAnalyzing = false;\n        console.log(\"Offline analysis completed\");\n    }\n    /**\n     * Get audio data at specific time\n     * @param {AudioBuffer} buffer - Audio buffer\n     * @param {Number} startSample - Starting sample index\n     * @param {Number} bufferSize - Size of buffer to extract\n     * @returns {Float32Array} - Audio data\n     */ getAudioDataAtTime(buffer, startSample, bufferSize) {\n        const data = new Float32Array(bufferSize);\n        // If we're at the end of the buffer, pad with zeros\n        const remainingSamples = Math.min(bufferSize, buffer.length - startSample);\n        if (remainingSamples < bufferSize) {\n            // Pad with zeros\n            data.fill(0);\n        }\n        // Get audio data from the first channel\n        const channelData = buffer.getChannelData(0);\n        for(let i = 0; i < remainingSamples; i++){\n            data[i] = channelData[startSample + i];\n        }\n        return data;\n    }\n    /**\n     * Store enhanced extracted features with timestamp\n     * @param {Object} features - Extracted features\n     * @param {Number} timestamp - Current time in seconds\n     */ storeEnhancedFeatures(features, timestamp) {\n        // Store feature history for trend analysis\n        this.featureHistory.energy.push({\n            value: features.energy,\n            time: timestamp\n        });\n        this.featureHistory.spectralFlux.push({\n            value: features.spectralFlux,\n            time: timestamp\n        });\n        this.featureHistory.loudness.push({\n            value: features.loudness.total,\n            specific: features.loudness.specific,\n            time: timestamp\n        });\n        this.featureHistory.perceptualSpread.push({\n            value: features.perceptualSpread,\n            time: timestamp\n        });\n        this.featureHistory.spectralFlatness.push({\n            value: features.spectralFlatness,\n            time: timestamp\n        });\n        this.featureHistory.rms.push({\n            value: features.rms,\n            time: timestamp\n        });\n        this.featureHistory.zcr.push({\n            value: features.zcr,\n            time: timestamp\n        });\n        // Store band energies\n        this.featureHistory.lowBandEnergy.push({\n            value: features.lowBandEnergy,\n            time: timestamp\n        });\n        this.featureHistory.midBandEnergy.push({\n            value: features.midBandEnergy,\n            time: timestamp\n        });\n        this.featureHistory.highBandEnergy.push({\n            value: features.highBandEnergy,\n            time: timestamp\n        });\n        // Keep history at a reasonable size\n        const maxHistory = this.settings.analysisWindowSize * 10;\n        this.trimHistory(maxHistory);\n        // Detect events in real-time\n        this.detectEnhancedEvents(features, timestamp);\n    }\n    /**\n     * Trim feature history to prevent memory issues\n     * @param {Number} maxItems - Maximum items to keep\n     */ trimHistory(maxItems) {\n        Object.keys(this.featureHistory).forEach((feature)=>{\n            const history = this.featureHistory[feature];\n            if (history.length > maxItems) {\n                this.featureHistory[feature] = history.slice(history.length - maxItems);\n            }\n        });\n    }\n    /**\n     * Detect enhanced musical events in real-time during analysis\n     * @param {Object} features - Current features\n     * @param {Number} timestamp - Current time in seconds\n     */ detectEnhancedEvents(features, timestamp) {\n        const windowSize = this.settings.analysisWindowSize;\n        // We need enough history to detect trends\n        if (this.featureHistory.energy.length < windowSize) {\n            return;\n        }\n        // Get recent history for comparison\n        const recentEnergy = this.featureHistory.energy.slice(-windowSize);\n        const recentFlux = this.featureHistory.spectralFlux.slice(-windowSize);\n        const recentLoudness = this.featureHistory.loudness.slice(-windowSize);\n        const recentRMS = this.featureHistory.rms.slice(-windowSize);\n        const recentLowBand = this.featureHistory.lowBandEnergy.slice(-windowSize);\n        const recentMidBand = this.featureHistory.midBandEnergy.slice(-windowSize);\n        const recentHighBand = this.featureHistory.highBandEnergy.slice(-windowSize);\n        const recentFlatness = this.featureHistory.spectralFlatness.slice(-windowSize);\n        // Calculate average values\n        const avgEnergy = recentEnergy.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        const avgFlux = recentFlux.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        const avgRMS = recentRMS.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        const avgLowBand = recentLowBand.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        const avgMidBand = recentMidBand.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        const avgHighBand = recentHighBand.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        const avgFlatness = recentFlatness.reduce((sum, item)=>sum + item.value, 0) / windowSize;\n        // Current values\n        const currentEnergy = features.energy;\n        const currentFlux = features.spectralFlux;\n        const currentLoudness = features.loudness.total;\n        const currentRMS = features.rms;\n        const currentLowBand = features.lowBandEnergy;\n        const currentMidBand = features.midBandEnergy;\n        const currentHighBand = features.highBandEnergy;\n        const currentFlatness = features.spectralFlatness;\n        // Calculate rate of change for each feature\n        const energyChange = currentEnergy / (avgEnergy || 0.01);\n        const fluxChange = currentFlux / (avgFlux || 0.01);\n        const rmsChange = currentRMS / (avgRMS || 0.01);\n        const lowBandChange = currentLowBand / (avgLowBand || 0.01);\n        const midBandChange = currentMidBand / (avgMidBand || 0.01);\n        const highBandChange = currentHighBand / (avgHighBand || 0.01);\n        const flatnessChange = Math.abs(currentFlatness - avgFlatness) / (avgFlatness || 0.01);\n        // 1. DETECT TRANSIENTS (ONSET DETECTION):\n        // --------------------------------------\n        // Calculate how much each band exceeds its threshold by (normalization factor)\n        const lowExceedsFactor = lowBandChange / this.settings.lowFreqOnsetThreshold;\n        const midExceedsFactor = midBandChange / this.settings.midFreqOnsetThreshold;\n        const highExceedsFactor = highBandChange / this.settings.highFreqOnsetThreshold;\n        // Check if any band exceeds its threshold\n        const lowBandExceedsThreshold = lowExceedsFactor > 1;\n        const midBandExceedsThreshold = midExceedsFactor > 1;\n        const highBandExceedsThreshold = highExceedsFactor > 1;\n        // More detailed debug info\n        if (lowBandExceedsThreshold || midBandExceedsThreshold || highBandExceedsThreshold) {\n            console.log(`Time ${timestamp.toFixed(2)} - Band changes:`, {\n                low: `${lowBandChange.toFixed(2)} / ${this.settings.lowFreqOnsetThreshold} = ${lowExceedsFactor.toFixed(2)}`,\n                mid: `${midBandChange.toFixed(2)} / ${this.settings.midFreqOnsetThreshold} = ${midExceedsFactor.toFixed(2)}`,\n                high: `${highBandChange.toFixed(2)} / ${this.settings.highFreqOnsetThreshold} = ${highExceedsFactor.toFixed(2)}`\n            });\n        }\n        // Check if we can add a transient at this time\n        if (this.canAddTransient(timestamp)) {\n            // NEW APPROACH: Add a separate transient for EACH band that exceeds its threshold\n            // instead of picking a dominant one\n            // Add small time offsets for each band to prevent exact timestamp duplicates\n            // This ensures they all show up in visualization\n            let bandsDetected = 0;\n            // Check low band\n            if (lowBandExceedsThreshold) {\n                // Add a tiny offset (1ms) to avoid exact timestamp collision\n                const offsetTime = timestamp + bandsDetected * 0.001;\n                this.results.transients.push({\n                    time: offsetTime,\n                    value: lowBandChange,\n                    intensity: lowExceedsFactor,\n                    dominantBand: \"low\",\n                    dominantValue: lowBandChange,\n                    rmsChange: rmsChange\n                });\n                console.log(\"Low band transient detected at\", offsetTime.toFixed(3), \"with value\", lowBandChange.toFixed(2), \"vs threshold\", this.settings.lowFreqOnsetThreshold.toFixed(2), \"(exceeded by factor of\", lowExceedsFactor.toFixed(2), \")\");\n                bandsDetected++;\n            }\n            // Check mid band\n            if (midBandExceedsThreshold) {\n                const offsetTime = timestamp + bandsDetected * 0.001;\n                this.results.transients.push({\n                    time: offsetTime,\n                    value: midBandChange,\n                    intensity: midExceedsFactor,\n                    dominantBand: \"mid\",\n                    dominantValue: midBandChange,\n                    rmsChange: rmsChange\n                });\n                console.log(\"Mid band transient detected at\", offsetTime.toFixed(3), \"with value\", midBandChange.toFixed(2), \"vs threshold\", this.settings.midFreqOnsetThreshold.toFixed(2), \"(exceeded by factor of\", midExceedsFactor.toFixed(2), \")\");\n                bandsDetected++;\n            }\n            // Check high band\n            if (highBandExceedsThreshold) {\n                const offsetTime = timestamp + bandsDetected * 0.001;\n                this.results.transients.push({\n                    time: offsetTime,\n                    value: highBandChange,\n                    intensity: highExceedsFactor,\n                    dominantBand: \"high\",\n                    dominantValue: highBandChange,\n                    rmsChange: rmsChange\n                });\n                console.log(\"High band transient detected at\", offsetTime.toFixed(3), \"with value\", highBandChange.toFixed(2), \"vs threshold\", this.settings.highFreqOnsetThreshold.toFixed(2), \"(exceeded by factor of\", highExceedsFactor.toFixed(2), \")\");\n                bandsDetected++;\n            }\n            if (bandsDetected > 0) {\n                console.log(`Detected transients in ${bandsDetected} frequency bands at time ${timestamp.toFixed(3)}`);\n            }\n        }\n        // 2. DETECT ENERGY VARIATIONS:\n        // -------------------------\n        // Detect overall dynamic changes at different thresholds\n        if (rmsChange > this.settings.dramaticChangeThreshold && this.canAddEvent(\"dynamicChanges\", timestamp)) {\n            this.results.dynamicChanges.push({\n                time: timestamp,\n                value: rmsChange,\n                intensity: rmsChange,\n                category: \"dramatic\"\n            });\n        } else if (rmsChange > this.settings.significantChangeThreshold && this.canAddEvent(\"dynamicChanges\", timestamp)) {\n            this.results.dynamicChanges.push({\n                time: timestamp,\n                value: rmsChange,\n                intensity: rmsChange,\n                category: \"significant\"\n            });\n        } else if (rmsChange > this.settings.moderateChangeThreshold && this.canAddEvent(\"dynamicChanges\", timestamp)) {\n            this.results.dynamicChanges.push({\n                time: timestamp,\n                value: rmsChange,\n                intensity: rmsChange,\n                category: \"moderate\"\n            });\n        }\n        // 3. DETECT FREQUENCY BAND ACTIVITIES:\n        // ----------------------------------\n        // Keep the existing low frequency event detection\n        if (currentLowBand > this.settings.lowFrequencyThreshold && this.canAddEvent(\"lowFrequencyEvents\", timestamp)) {\n            this.results.lowFrequencyEvents.push({\n                time: timestamp,\n                value: currentLowBand,\n                change: lowBandChange\n            });\n        }\n        // Detect mid-range frequency events\n        if (midBandChange > this.settings.moderateChangeThreshold && this.canAddEvent(\"midRangeEvents\", timestamp)) {\n            this.results.midRangeEvents.push({\n                time: timestamp,\n                value: currentMidBand,\n                change: midBandChange\n            });\n        }\n        // Detect high-frequency events\n        if (highBandChange > this.settings.moderateChangeThreshold && this.canAddEvent(\"highFrequencyEvents\", timestamp)) {\n            this.results.highFrequencyEvents.push({\n                time: timestamp,\n                value: currentHighBand,\n                change: highBandChange\n            });\n        }\n        // 4. DETECT TIMBRAL CHANGES:\n        // -------------------------\n        // Combine flatness change with spectral centroid shifts\n        if (flatnessChange > this.settings.timbreChangeThreshold && this.canAddEvent(\"timbreChanges\", timestamp)) {\n            this.results.timbreChanges.push({\n                time: timestamp,\n                flatness: currentFlatness,\n                spread: features.perceptualSpread,\n                centroid: features.spectralCentroid || 0,\n                intensity: flatnessChange\n            });\n        }\n        // Also keep the existing event detections for compatibility:\n        // Energy peaks\n        if (energyChange > this.settings.energyThreshold && this.canAddEvent(\"energyPeaks\", timestamp)) {\n            this.results.energyPeaks.push({\n                time: timestamp,\n                value: currentEnergy,\n                change: energyChange\n            });\n        }\n        // Spectral flux spikes (beats and transients)\n        if (fluxChange > this.settings.spectralFluxThreshold && this.canAddEvent(\"beats\", timestamp)) {\n            this.results.beats.push({\n                time: timestamp,\n                value: currentFlux,\n                change: fluxChange\n            });\n        }\n        // Store spectrum events\n        const prevFlatness = this.featureHistory.spectralFlatness.length > 0 ? this.featureHistory.spectralFlatness[this.featureHistory.spectralFlatness.length - 1].value : 0;\n        if (Math.abs(features.spectralFlatness - prevFlatness) > 0.2 && this.canAddEvent(\"spectrumEvents\", timestamp)) {\n            this.results.spectrumEvents.push({\n                time: timestamp,\n                flatness: features.spectralFlatness,\n                spread: features.perceptualSpread\n            });\n        }\n    }\n    /**\n     * Check if we can add a transient event (avoid duplicates close in time)\n     * @param {Number} timestamp - Current timestamp\n     * @returns {Boolean} - True if transient can be added\n     */ canAddTransient(timestamp) {\n        const minTime = this.settings.onsetMinInterval; // Use shorter interval for transients\n        const lastEvent = this.results.transients[this.results.transients.length - 1];\n        if (!lastEvent) return true;\n        return timestamp - lastEvent.time > minTime;\n    }\n    /**\n     * Check if we can add an event (avoid duplicates close in time)\n     * @param {String} eventType - Type of event\n     * @param {Number} timestamp - Current timestamp\n     * @returns {Boolean} - True if event can be added\n     */ canAddEvent(eventType, timestamp) {\n        const minTime = this.settings.minTimeBetweenEvents;\n        const lastEvent = this.results[eventType][this.results[eventType].length - 1];\n        if (!lastEvent) return true;\n        return timestamp - lastEvent.time > minTime;\n    }\n    /**\n     * Process analysis results to find significant events\n     */ processAnalysisResults() {\n        console.log(\"Processing final analysis results...\");\n        // Sort all events by timestamp\n        Object.keys(this.results).forEach((eventType)=>{\n            if (Array.isArray(this.results[eventType])) {\n                this.results[eventType].sort((a, b)=>a.time - b.time);\n            }\n        });\n        // Detect drops (combination of energy spike and bass increase)\n        this.detectDrops();\n        // Final beat tracking to create a complete beat grid\n        this.finalizeRhythmAnalysis();\n        // Clean up results (remove redundant events)\n        this.cleanupResults();\n        // Log detection results\n        console.log(\"Analysis processing complete\");\n        console.log(\"Found:\");\n        console.log(`- ${this.results.drops.length} drops`);\n        console.log(`- ${this.results.beats.length} beats`);\n        console.log(`- ${this.results.transients.length} transients (onsets)`);\n        console.log(`- ${this.results.beatGrid.length} beat grid positions`);\n        console.log(`- ${this.results.dynamicChanges.length} dynamic changes`);\n        console.log(`- ${this.results.timbreChanges.length} timbre changes`);\n        console.log(`- ${this.results.lowFrequencyEvents.length} bass events`);\n        console.log(`- ${this.results.midRangeEvents.length} mid-range events`);\n        console.log(`- ${this.results.highFrequencyEvents.length} high-frequency events`);\n        // Log tempo if detected\n        if (this.beatTracker.tempo > 0) {\n            console.log(`Detected tempo: ${this.beatTracker.tempo} BPM (confidence: ${this.beatTracker.confidence.toFixed(2)})`);\n        }\n    }\n    /**\n     * Finalize rhythm analysis and complete the beat grid\n     */ finalizeRhythmAnalysis() {\n        // If we already have a good beat grid, keep it\n        if (this.results.beatGrid.length > 0) {\n            console.log(\"Using existing beat grid with\", this.results.beatGrid.length, \"beats\");\n            return;\n        }\n        // If we have beat tracker data with confidence, use it\n        if (this.beatTracker.confidence > 0.5 && this.beatTracker.tempo > 0) {\n            console.log(\"Creating beat grid from beat tracker data\");\n            const beatInterval = 60 / this.beatTracker.tempo;\n            // Get track duration from feature history\n            const duration = this.featureHistory.energy.length > 0 ? this.featureHistory.energy[this.featureHistory.energy.length - 1].time : 60; // Default to 60 seconds if unknown\n            // Create beat grid\n            let beatTime = 0;\n            let beatCount = 0;\n            while(beatTime < duration){\n                this.results.beatGrid.push({\n                    time: beatTime,\n                    beat: beatCount % 4,\n                    bar: Math.floor(beatCount / 4),\n                    intensity: beatCount % 4 === 0 ? 1.0 : 0.7\n                });\n                beatTime += beatInterval;\n                beatCount++;\n            }\n            console.log(`Created beat grid with ${this.results.beatGrid.length} beats at ${this.beatTracker.tempo} BPM`);\n            // Store tempo information\n            this.results.tempo = {\n                bpm: this.beatTracker.tempo,\n                beatInterval: beatInterval,\n                confidence: this.beatTracker.confidence\n            };\n            return;\n        }\n        // Fallback to traditional rhythm analysis from detectRhythmMarkers\n        // but with enhancements to create a complete beat grid\n        // First try using the beats array if we have enough\n        if (this.results.beats.length > 4) {\n            this.detectRhythmMarkers();\n            // If we still don't have a tempo, try with transients\n            if (!this.results.tempo && this.results.transients.length > 4) {\n                console.log(\"Using transients for tempo detection\");\n                const transientTimes = this.results.transients.map((t)=>t.time);\n                this.detectTempoFromTimestamps(transientTimes);\n            }\n        } else if (this.results.transients.length > 4) {\n            // Use transients directly\n            const transientTimes = this.results.transients.map((t)=>t.time);\n            this.detectTempoFromTimestamps(transientTimes);\n        }\n        // If we have a tempo, create a beat grid\n        if (this.results.tempo && this.results.tempo.bpm > 0) {\n            console.log(\"Creating beat grid from detected tempo:\", this.results.tempo.bpm);\n            const duration = this.featureHistory.energy.length > 0 ? this.featureHistory.energy[this.featureHistory.energy.length - 1].time : 60;\n            // Create beat grid\n            let beatTime = 0;\n            let beatCount = 0;\n            while(beatTime < duration){\n                this.results.beatGrid.push({\n                    time: beatTime,\n                    beat: beatCount % 4,\n                    bar: Math.floor(beatCount / 4),\n                    intensity: beatCount % 4 === 0 ? 1.0 : 0.7\n                });\n                beatTime += this.results.tempo.beatInterval;\n                beatCount++;\n            }\n            console.log(`Created beat grid with ${this.results.beatGrid.length} beats`);\n        } else {\n            console.warn(\"Could not detect reliable tempo for beat grid creation\");\n        }\n    }\n    /**\n     * Detect tempo from a series of timestamps\n     * @param {Array} timestamps - Array of time positions\n     */ detectTempoFromTimestamps(timestamps) {\n        if (timestamps.length < 4) return;\n        const intervals = [];\n        // Calculate intervals between consecutive events\n        for(let i = 1; i < timestamps.length; i++){\n            intervals.push(timestamps[i] - timestamps[i - 1]);\n        }\n        // Find the most common interval (tempo)\n        const tempoMap = {};\n        intervals.forEach((interval)=>{\n            // Round to nearest 10ms for binning\n            const roundedInterval = Math.round(interval * 100) / 100;\n            tempoMap[roundedInterval] = (tempoMap[roundedInterval] || 0) + 1;\n        });\n        // Find the most common tempo\n        let dominantTempo = 0;\n        let maxCount = 0;\n        Object.entries(tempoMap).forEach(([tempo, count])=>{\n            if (count > maxCount) {\n                maxCount = count;\n                dominantTempo = parseFloat(tempo);\n            }\n        });\n        // Calculate the BPM\n        const bpm = dominantTempo > 0 ? Math.round(60 / dominantTempo) : 0;\n        // Check if the BPM is reasonable\n        if (bpm >= 60 && bpm <= 200) {\n            // Store tempo information\n            this.results.tempo = {\n                bpm: bpm,\n                beatInterval: dominantTempo,\n                confidence: maxCount / intervals.length\n            };\n            console.log(`Detected tempo: ${bpm} BPM (confidence: ${(maxCount / intervals.length).toFixed(2)})`);\n        } else {\n            console.warn(`Unreliable tempo detected: ${bpm} BPM - ignoring`);\n        }\n    }\n    /**\n     * Detect drops (significant changes in energy, especially in low frequencies)\n     */ detectDrops() {\n        const dropCandidates = [];\n        // Find high energy moments that also have bass presence\n        for (const energyPeak of this.results.energyPeaks){\n            // Find nearby bass events\n            const nearbyBass = this.results.lowFrequencyEvents.find((bassEvent)=>Math.abs(bassEvent.time - energyPeak.time) < 0.1);\n            if (nearbyBass) {\n                // This is likely a drop\n                dropCandidates.push({\n                    time: energyPeak.time,\n                    energy: energyPeak.value,\n                    bassEnergy: nearbyBass.value,\n                    confidence: energyPeak.change * (nearbyBass.value / 2)\n                });\n            }\n        }\n        // Sort by confidence and keep only significant drops\n        dropCandidates.sort((a, b)=>b.confidence - a.confidence);\n        // Only keep drops that are at least 2 seconds apart\n        const significantDrops = [];\n        for (const drop of dropCandidates){\n            if (!significantDrops.some((existingDrop)=>Math.abs(existingDrop.time - drop.time) < 2)) {\n                significantDrops.push(drop);\n            }\n        }\n        this.results.drops = significantDrops;\n    }\n    /**\n     * Detect rhythm markers (repeated beat patterns)\n     */ detectRhythmMarkers() {\n        // Simple rhythm detection based on consistent beat intervals\n        if (this.results.beats.length < 4) return;\n        const beatTimes = this.results.beats.map((beat)=>beat.time);\n        const intervals = [];\n        // Calculate intervals between consecutive beats\n        for(let i = 1; i < beatTimes.length; i++){\n            intervals.push(beatTimes[i] - beatTimes[i - 1]);\n        }\n        // Find the most common interval (tempo)\n        const tempoMap = {};\n        intervals.forEach((interval)=>{\n            // Round to nearest 10ms for binning\n            const roundedInterval = Math.round(interval * 100) / 100;\n            tempoMap[roundedInterval] = (tempoMap[roundedInterval] || 0) + 1;\n        });\n        // Find the most common tempo\n        let dominantTempo = 0;\n        let maxCount = 0;\n        Object.entries(tempoMap).forEach(([tempo, count])=>{\n            if (count > maxCount) {\n                maxCount = count;\n                dominantTempo = parseFloat(tempo);\n            }\n        });\n        // Calculate the BPM\n        const bpm = dominantTempo > 0 ? Math.round(60 / dominantTempo) : 0;\n        // Store rhythm information\n        if (bpm > 0) {\n            this.results.tempo = {\n                bpm: bpm,\n                beatInterval: dominantTempo\n            };\n            // Mark downbeats (every 4 beats assuming 4/4 time)\n            let currentBeat = 0;\n            while(currentBeat < beatTimes[beatTimes.length - 1]){\n                this.results.rhythmMarkers.push({\n                    time: currentBeat,\n                    type: \"beat\",\n                    beatNumber: this.results.rhythmMarkers.length % 4\n                });\n                currentBeat += dominantTempo;\n            }\n        }\n    }\n    /**\n     * Clean up redundant results\n     */ cleanupResults() {\n        // Filter out duplicate events that are very close in time\n        Object.keys(this.results).forEach((eventType)=>{\n            if (Array.isArray(this.results[eventType])) {\n                // Skip if there are no items\n                if (this.results[eventType].length === 0) return;\n                const filtered = [\n                    this.results[eventType][0]\n                ];\n                for(let i = 1; i < this.results[eventType].length; i++){\n                    const current = this.results[eventType][i];\n                    const last = filtered[filtered.length - 1];\n                    // If events are separated enough, keep both\n                    if (current.time - last.time > this.settings.minTimeBetweenEvents) {\n                        filtered.push(current);\n                    } else if (current.value > last.value) {\n                        filtered[filtered.length - 1] = current;\n                    }\n                }\n                this.results[eventType] = filtered;\n            }\n        });\n    }\n    /**\n     * Reset analysis results\n     */ resetResults() {\n        this.results = {\n            drops: [],\n            beats: [],\n            energyPeaks: [],\n            spectrumEvents: [],\n            rhythmMarkers: [],\n            lowFrequencyEvents: [],\n            // Reset new event types\n            transients: [],\n            beatGrid: [],\n            midRangeEvents: [],\n            highFrequencyEvents: [],\n            timbreChanges: [],\n            dynamicChanges: []\n        };\n        Object.keys(this.featureHistory).forEach((key)=>{\n            this.featureHistory[key] = [];\n        });\n        // Reset beat tracker\n        this.beatTracker = {\n            lastBeatTime: 0,\n            beatIntervals: [],\n            confidence: 0,\n            tempo: 0\n        };\n    }\n    /**\n     * Stop ongoing analysis\n     */ stop() {\n        this.isAnalyzing = false;\n        if (this.audioSource) {\n            this.audioSource.disconnect();\n        }\n    }\n    /**\n     * Get formatted results for animation use\n     * @returns {Object} Formatted results with timestamps\n     */ getFormattedResults() {\n        // Create a timeline of all significant events\n        const timeline = [];\n        // Add drops (most important)\n        this.results.drops.forEach((drop)=>{\n            timeline.push({\n                time: drop.time,\n                type: \"drop\",\n                intensity: drop.confidence,\n                suggestedAnimation: {\n                    speed: 1.5 + drop.confidence / 2,\n                    bounceFactor: 0.4,\n                    addRotation: true,\n                    rotationAmount: Math.PI * 2,\n                    height: 8\n                }\n            });\n        });\n        // Add transients (onsets)\n        this.results.transients.forEach((transient)=>{\n            // Different animation suggestions based on frequency band\n            let animParams = {\n                speed: 1.2 + transient.intensity / 4,\n                bounceFactor: 0.3,\n                sequential: transient.dominantBand !== \"low\",\n                height: 3 + transient.intensity\n            };\n            // Customize based on dominant frequency band\n            switch(transient.dominantBand){\n                case \"low\":\n                    animParams.bounceFactor = 0.5 + transient.intensity / 4;\n                    animParams.height = 4 + transient.intensity * 2;\n                    break;\n                case \"mid\":\n                    animParams.addTilt = true;\n                    animParams.sequenceDelay = 0.03;\n                    break;\n                case \"high\":\n                    animParams.speed = 1.5;\n                    animParams.bounceFactor = 0.15;\n                    animParams.sequenceDelay = 0.02;\n                    animParams.height = 2;\n                    break;\n            }\n            // Create a new transient object with all original properties plus animation suggestions\n            const transientEvent = {\n                ...transient,\n                type: \"transient\",\n                subtype: transient.dominantBand,\n                suggestedAnimation: animParams\n            };\n            timeline.push(transientEvent);\n        });\n        // Add beat grid events\n        this.results.beatGrid.forEach((beat)=>{\n            // Different animation for downbeats (first beat of bar) vs regular beats\n            const isDownbeat = beat.beat === 0;\n            timeline.push({\n                time: beat.time,\n                type: \"grid_beat\",\n                subtype: isDownbeat ? \"downbeat\" : \"beat\",\n                intensity: beat.intensity,\n                beat: beat.beat,\n                bar: beat.bar,\n                suggestedAnimation: {\n                    speed: isDownbeat ? 1.3 : 1.1,\n                    bounceFactor: isDownbeat ? 0.3 : 0.2,\n                    height: isDownbeat ? 4 : 2.5,\n                    sequential: !isDownbeat,\n                    sequenceDelay: 0.05,\n                    addRotation: isDownbeat,\n                    rotationAmount: isDownbeat ? Math.PI / 4 : 0\n                }\n            });\n        });\n        // Add dynamic changes\n        this.results.dynamicChanges.forEach((change)=>{\n            let animParams = {};\n            // Different settings based on intensity category\n            switch(change.category){\n                case \"dramatic\":\n                    animParams = {\n                        speed: 1.8 + change.intensity / 3,\n                        bounceFactor: 0.45,\n                        addRotation: true,\n                        rotationAmount: Math.PI,\n                        height: 7\n                    };\n                    break;\n                case \"significant\":\n                    animParams = {\n                        speed: 1.5 + change.intensity / 4,\n                        bounceFactor: 0.35,\n                        addTilt: true,\n                        height: 5\n                    };\n                    break;\n                case \"moderate\":\n                default:\n                    animParams = {\n                        speed: 1.2 + change.intensity / 5,\n                        bounceFactor: 0.25,\n                        sequential: true,\n                        sequenceDelay: 0.05,\n                        height: 4\n                    };\n                    break;\n            }\n            timeline.push({\n                time: change.time,\n                type: \"dynamic_\" + change.category,\n                intensity: change.intensity,\n                suggestedAnimation: animParams\n            });\n        });\n        // Add timbre changes\n        this.results.timbreChanges.forEach((timbre)=>{\n            timeline.push({\n                time: timbre.time,\n                type: \"timbre\",\n                intensity: timbre.intensity,\n                suggestedAnimation: {\n                    addRotation: true,\n                    rotationAmount: Math.PI / 2 * timbre.intensity,\n                    cinematicRotation: true,\n                    cinematicRotationSpeed: 0.3 * timbre.intensity,\n                    randomizeOrder: true\n                }\n            });\n        });\n        // Add mid-range events\n        this.results.midRangeEvents.forEach((event)=>{\n            timeline.push({\n                time: event.time,\n                type: \"mid_range\",\n                intensity: event.change,\n                suggestedAnimation: {\n                    speed: 1.1 + event.change / 4,\n                    bounceFactor: 0.2,\n                    sequential: true,\n                    addTilt: true\n                }\n            });\n        });\n        // Add high-frequency events\n        this.results.highFrequencyEvents.forEach((event)=>{\n            timeline.push({\n                time: event.time,\n                type: \"high_freq\",\n                intensity: event.change,\n                suggestedAnimation: {\n                    speed: 1.3 + event.change / 3,\n                    bounceFactor: 0.1,\n                    sequential: true,\n                    sequenceDelay: 0.02,\n                    reverseDropOrder: Math.random() > 0.5 // Random reverse direction\n                }\n            });\n        });\n        // Also include original event types\n        this.results.beats.forEach((beat)=>{\n            timeline.push({\n                time: beat.time,\n                type: \"beat\",\n                intensity: beat.change,\n                suggestedAnimation: {\n                    speed: 1.0 + beat.change / 4,\n                    bounceFactor: 0.2,\n                    sequential: true,\n                    sequenceDelay: 0.05\n                }\n            });\n        });\n        this.results.lowFrequencyEvents.forEach((event)=>{\n            timeline.push({\n                time: event.time,\n                type: \"bass\",\n                intensity: event.value,\n                suggestedAnimation: {\n                    bounceFactor: 0.3 + event.value / 3,\n                    height: 5 + event.value * 2\n                }\n            });\n        });\n        // Sort by timestamp\n        timeline.sort((a, b)=>a.time - b.time);\n        return {\n            timeline,\n            tempo: this.results.tempo,\n            duration: this.featureHistory.energy.length > 0 ? this.featureHistory.energy[this.featureHistory.energy.length - 1].time : 0,\n            // Include raw audio samples for waveform display\n            audioData: this.audioData\n        };\n    }\n    /**\n     * Extract waveform data from audio buffer for visualization\n     * @param {AudioBuffer} audioBuffer - The audio buffer\n     */ extractWaveformData(audioBuffer) {\n        // Downsample the audio data to a reasonable size for visualization\n        const channel = audioBuffer.getChannelData(0);\n        const length = channel.length;\n        // Aim for about 2000-3000 points for visualization\n        const sampleSize = Math.max(1, Math.floor(length / 2000));\n        const samples = [];\n        let maxSample = 0;\n        // Get peaks for drawing the waveform\n        for(let i = 0; i < length; i += sampleSize){\n            let max = 0;\n            for(let j = 0; j < sampleSize && i + j < length; j++){\n                const abs = Math.abs(channel[i + j]);\n                if (abs > max) max = abs;\n                if (abs > maxSample) maxSample = abs;\n            }\n            samples.push({\n                time: i / audioBuffer.sampleRate,\n                value: max\n            });\n        }\n        // Normalize the values\n        if (maxSample > 0) {\n            samples.forEach((sample)=>{\n                sample.value = sample.value / maxSample;\n            });\n        }\n        this.audioData = {\n            samples,\n            duration: audioBuffer.duration,\n            sampleRate: audioBuffer.sampleRate\n        };\n    }\n    /**\n     * If Meyda analysis fails, fall back to simple analysis\n     */ async analyzeWithFallback(audioFile) {\n        if (!this.audioContext) {\n            this.init();\n        }\n        try {\n            // Reset results\n            this.resetResults();\n            // Load audio file\n            const audioBuffer = await this.loadAudioFile(audioFile);\n            console.log(`Loaded audio file: ${audioBuffer.duration.toFixed(2)} seconds`);\n            try {\n                // Try the regular analysis first\n                await this.runOfflineAnalysis(audioBuffer);\n            } catch (error) {\n                console.warn(\"Regular analysis failed, falling back to simple analysis:\", error);\n                // Fall back to simple analysis\n                await this.runSimpleAnalysis(audioBuffer);\n            }\n            // Process the collected data\n            this.processAnalysisResults();\n            return this.results;\n        } catch (error) {\n            console.error(\"Error analyzing audio file:\", error);\n            throw error;\n        }\n    }\n    /**\n     * Reanalyze with new threshold settings using cached data\n     * @param {Object} newSettings - New threshold settings\n     * @returns {Promise} - Resolves with updated analysis results\n     */ async reanalyzeWithNewThresholds(newSettings) {\n        console.log(\"Reanalyzing with new thresholds:\", newSettings);\n        if (!this.cachedData.audioBuffer) {\n            throw new Error(\"No cached audio data available for reanalysis\");\n        }\n        // Update settings with new thresholds\n        if (newSettings) {\n            Object.keys(newSettings).forEach((key)=>{\n                if (this.settings.hasOwnProperty(key)) {\n                    this.settings[key] = newSettings[key];\n                }\n            });\n        }\n        // Reset certain results but keep cached data\n        this.results.transients = [];\n        if (this.cachedData.rawTransients && this.cachedData.rawTransients.length > 0) {\n            // Fast path: Just re-filter the already detected transients with new thresholds\n            this.refilterTransients();\n        } else {\n            // Slow path: Rerun the full analysis\n            await this.runOfflineAnalysis(this.cachedData.audioBuffer);\n        }\n        // Process the results again\n        this.processAnalysisResults();\n        return this.results;\n    }\n    /**\n     * Re-filter transients with the updated thresholds\n     * Much faster than full re-analysis\n     */ refilterTransients() {\n        console.log(\"Re-filtering transients with new thresholds\");\n        // Start with all raw detected transients\n        const allPotentialTransients = this.cachedData.rawTransients;\n        // Apply the new thresholds\n        allPotentialTransients.forEach((transient)=>{\n            // Check if this transient passes the current threshold\n            let exceedsFactor = 0;\n            let threshold = 1.0;\n            switch(transient.dominantBand){\n                case \"low\":\n                    threshold = this.settings.lowFreqOnsetThreshold;\n                    exceedsFactor = transient.value / threshold;\n                    break;\n                case \"mid\":\n                    threshold = this.settings.midFreqOnsetThreshold;\n                    exceedsFactor = transient.value / threshold;\n                    break;\n                case \"high\":\n                    threshold = this.settings.highFreqOnsetThreshold;\n                    exceedsFactor = transient.value / threshold;\n                    break;\n                default:\n                    threshold = this.settings.onsetThreshold;\n                    exceedsFactor = transient.value / threshold;\n            }\n            // If transient exceeds the new threshold, add it to results\n            if (exceedsFactor > 1.0) {\n                // Update the intensity to reflect the new threshold\n                const updated = {\n                    ...transient,\n                    intensity: exceedsFactor\n                };\n                this.results.transients.push(updated);\n            }\n        });\n        console.log(`After re-filtering, kept ${this.results.transients.length} out of ${allPotentialTransients.length} transients`);\n    }\n}\n// Create a shared analyzer instance for reuse\nlet sharedAnalyzer = null;\n/**\n * Create a simple analyzer for quick use\n * @param {String|File} audioFile - Audio file to analyze\n * @param {Object} options - Optional analysis settings\n * @returns {Promise<Object>} Analysis results\n */ async function analyzeAudioFile(audioFile, options = {}) {\n    // Create analyzer or reuse existing one\n    if (!sharedAnalyzer) {\n        sharedAnalyzer = new AudioAnalyzer();\n    }\n    // Check if this is a reanalysis with new thresholds\n    const isReanalysis = !audioFile && options && Object.keys(options).length > 0;\n    // Apply any custom threshold settings\n    if (options) {\n        Object.keys(options).forEach((key)=>{\n            if (sharedAnalyzer.settings.hasOwnProperty(key)) {\n                sharedAnalyzer.settings[key] = options[key];\n            }\n        });\n    }\n    try {\n        if (isReanalysis) {\n            // Just update thresholds and refilter without loading file again\n            await sharedAnalyzer.reanalyzeWithNewThresholds(options);\n        } else {\n            // Analyze a new file\n            await sharedAnalyzer.analyzeFile(audioFile);\n        }\n    } catch (error) {\n        console.warn(\"Standard analysis failed, trying fallback method:\", error);\n        // If that fails, try the fallback approach\n        if (!isReanalysis) {\n            await sharedAnalyzer.analyzeWithFallback(audioFile);\n        }\n    }\n    return sharedAnalyzer.getFormattedResults();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YztZQUNmLE1BQU1ILGVBQWVWLG1CQUFtQixDQUFDN087UUFDN0M7SUFDSjtJQUNBLE9BQU91UCxlQUFleEMsbUJBQW1CO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9hdWRpby9hdWRpb0FuYWx5emVyLmpzPzVlMmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBdWRpbyBmZWF0dXJlIGFuYWx5emVyIHVzaW5nIE1leWRhLmpzXG4gKiBFeHRyYWN0cyBzaWduaWZpY2FudCBldmVudHMsIGZlYXR1cmVzIGFuZCB0aW1lc3RhbXBzIGZyb20gYXVkaW8gZmlsZXNcbiAqIEZvciB1c2Ugd2l0aCBhbmltYXRpb24gc3luY2hyb25pemF0aW9uXG4gKi9cblxuLy8gV2UnbGwgbmVlZCB0byBpbnN0YWxsIG1leWRhIGFzIGEgZGVwZW5kZW5jeTpcbi8vIG5wbSBpbnN0YWxsIG1leWRhIC0tc2F2ZVxuXG5pbXBvcnQgTWV5ZGEgZnJvbSAnbWV5ZGEnO1xuXG5leHBvcnQgY2xhc3MgQXVkaW9BbmFseXplciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9Tb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLm1leWRhQW5hbHl6ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQW5hbHl6aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzdWx0cyA9IHtcbiAgICAgICAgICAgIGRyb3BzOiBbXSxcbiAgICAgICAgICAgIGJlYXRzOiBbXSxcbiAgICAgICAgICAgIGVuZXJneVBlYWtzOiBbXSxcbiAgICAgICAgICAgIHNwZWN0cnVtRXZlbnRzOiBbXSxcbiAgICAgICAgICAgIHJoeXRobU1hcmtlcnM6IFtdLFxuICAgICAgICAgICAgbG93RnJlcXVlbmN5RXZlbnRzOiBbXSxcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgZHJ1bSBkZXRlY3Rpb24gd2l0aCBtb3JlIGdlbmVyYWwgYXBwcm9hY2hlc1xuICAgICAgICAgICAgdHJhbnNpZW50czogW10sICAgICAgICAvLyBGb3Igb25zZXQgZGV0ZWN0aW9uIChyZXBsYWNpbmcga2lja3Mvc25hcmVzL2hpLWhhdHMpXG4gICAgICAgICAgICBiZWF0R3JpZDogW10sICAgICAgICAgIC8vIFJlZ3VsYXIgYmVhdCBncmlkIGJhc2VkIG9uIHRlbXBvXG4gICAgICAgICAgICAvLyBLZWVwIG90aGVyIGV2ZW50IHR5cGVzXG4gICAgICAgICAgICBtaWRSYW5nZUV2ZW50czogW10sXG4gICAgICAgICAgICBoaWdoRnJlcXVlbmN5RXZlbnRzOiBbXSxcbiAgICAgICAgICAgIHRpbWJyZUNoYW5nZXM6IFtdLFxuICAgICAgICAgICAgZHluYW1pY0NoYW5nZXM6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2FjaGUgZm9yIG1vcmUgZWZmaWNpZW50IHJlLWFuYWx5c2lzXG4gICAgICAgIHRoaXMuY2FjaGVkRGF0YSA9IHtcbiAgICAgICAgICAgIGF1ZGlvQnVmZmVyOiBudWxsLFxuICAgICAgICAgICAgZmVhdHVyZUhpc3Rvcnk6IG51bGwsXG4gICAgICAgICAgICByYXdUcmFuc2llbnRzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFuYWx5c2lzIHNldHRpbmdzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBmZnRTaXplOiAyMDQ4LFxuICAgICAgICAgICAgYnVmZmVyU2l6ZTogNTEyLFxuICAgICAgICAgICAgaG9wU2l6ZTogMjU2LFxuICAgICAgICAgICAgZW5lcmd5VGhyZXNob2xkOiAwLjcsXG4gICAgICAgICAgICBzcGVjdHJhbEZsdXhUaHJlc2hvbGQ6IDIuMCxcbiAgICAgICAgICAgIGxvd0ZyZXF1ZW5jeVRocmVzaG9sZDogMC44LFxuICAgICAgICAgICAgYmVhdFNlbnNpdGl2aXR5OiAxLjUsXG4gICAgICAgICAgICBhbmFseXNpc1dpbmRvd1NpemU6IDUsIC8vIE51bWJlciBvZiBmcmFtZXMgdG8gY29tcGFyZSBmb3IgdHJlbmRzXG4gICAgICAgICAgICBtaW5UaW1lQmV0d2VlbkV2ZW50czogMC4zLCAvLyBTZWNvbmRzIGJldHdlZW4gc2FtZSB0eXBlIG9mIGV2ZW50c1xuXG4gICAgICAgICAgICAvLyBPbnNldCBkZXRlY3Rpb24gc2V0dGluZ3NcbiAgICAgICAgICAgIG9uc2V0VGhyZXNob2xkOiAxLjUsICAgICAgICAvLyBHZW5lcmFsIG9uc2V0IHRocmVzaG9sZCAodXNlZCBhcyBmYWxsYmFjaylcbiAgICAgICAgICAgIG9uc2V0TWluSW50ZXJ2YWw6IDAuMCwgICAgIC8vIE1pbmltdW0gdGltZSBiZXR3ZWVuIHRyYW5zaWVudHNcblxuICAgICAgICAgICAgLy8gQmFuZC1zcGVjaWZpYyBvbnNldCB0aHJlc2hvbGRzXG4gICAgICAgICAgICBsb3dGcmVxT25zZXRUaHJlc2hvbGQ6IDEuMjEyLCAgIC8vIFRocmVzaG9sZCBmb3IgbG93IGZyZXF1ZW5jeSB0cmFuc2llbnRzIChiYXNzLCBraWNrcylcbiAgICAgICAgICAgIG1pZEZyZXFPbnNldFRocmVzaG9sZDogMS4xNTgsICAgLy8gVGhyZXNob2xkIGZvciBtaWQgZnJlcXVlbmN5IHRyYW5zaWVudHMgKHNuYXJlcywgdm9jYWxzKVxuICAgICAgICAgICAgaGlnaEZyZXFPbnNldFRocmVzaG9sZDogMS42MjIsICAvLyBUaHJlc2hvbGQgZm9yIGhpZ2ggZnJlcXVlbmN5IHRyYW5zaWVudHMgKGhpLWhhdHMsIGN5bWJhbHMpXG5cbiAgICAgICAgICAgIC8vIEZyZXF1ZW5jeSBiYW5kIHJhbmdlcyAoaW4gQmFyayBzY2FsZSBpbmRpY2VzLCBhcHByb3guKVxuICAgICAgICAgICAgbG93QmFuZFJhbmdlOiBbMCwgM10sICAgICAvLyB+MjAtMjUwSHogKGtpY2sgZHJ1bXMsIGJhc3MpXG4gICAgICAgICAgICBtaWRCYW5kUmFuZ2U6IFs0LCAxMl0sICAgIC8vIH4yNTBIei0ya0h6IChzbmFyZXMsIHZvY2FscylcbiAgICAgICAgICAgIGhpZ2hCYW5kUmFuZ2U6IFsxMywgMjNdLCAgLy8gfjJrSHotOGtIeiAoaGktaGF0cywgY3ltYmFscylcblxuICAgICAgICAgICAgLy8gRHluYW1pYyBjaGFuZ2UgdGhyZXNob2xkc1xuICAgICAgICAgICAgbW9kZXJhdGVDaGFuZ2VUaHJlc2hvbGQ6IDEuMyxcbiAgICAgICAgICAgIHNpZ25pZmljYW50Q2hhbmdlVGhyZXNob2xkOiAxLjgsXG4gICAgICAgICAgICBkcmFtYXRpY0NoYW5nZVRocmVzaG9sZDogMi41LFxuXG4gICAgICAgICAgICAvLyBUaW1icmFsIGNoYW5nZSB0aHJlc2hvbGRcbiAgICAgICAgICAgIHRpbWJyZUNoYW5nZVRocmVzaG9sZDogMC4xNVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZvciB0cmFja2luZyBjaGFuZ2VzIG92ZXIgdGltZVxuICAgICAgICB0aGlzLmZlYXR1cmVIaXN0b3J5ID0ge1xuICAgICAgICAgICAgZW5lcmd5OiBbXSxcbiAgICAgICAgICAgIHNwZWN0cmFsRmx1eDogW10sXG4gICAgICAgICAgICBsb3VkbmVzczogW10sXG4gICAgICAgICAgICBwZXJjZXB0dWFsU3ByZWFkOiBbXSxcbiAgICAgICAgICAgIHNwZWN0cmFsRmxhdG5lc3M6IFtdLFxuICAgICAgICAgICAgLy8gQWRkIG5ldyBmZWF0dXJlIGhpc3RvcnkgdHJhY2tpbmdcbiAgICAgICAgICAgIHJtczogW10sXG4gICAgICAgICAgICB6Y3I6IFtdLFxuICAgICAgICAgICAgbG93QmFuZEVuZXJneTogW10sXG4gICAgICAgICAgICBtaWRCYW5kRW5lcmd5OiBbXSxcbiAgICAgICAgICAgIGhpZ2hCYW5kRW5lcmd5OiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNhdmUgcHJldmlvdXMgYnVmZmVyIGZvciBzcGVjdHJhbEZsdXggY2FsY3VsYXRpb25cbiAgICAgICAgdGhpcy5wcmV2aW91c0lucHV0RGF0YSA9IG51bGw7XG5cbiAgICAgICAgLy8gRm9yIHRyYWNraW5nIGJlYXRzIGFuZCB0ZW1wb1xuICAgICAgICB0aGlzLmJlYXRUcmFja2VyID0ge1xuICAgICAgICAgICAgbGFzdEJlYXRUaW1lOiAwLFxuICAgICAgICAgICAgYmVhdEludGVydmFsczogW10sXG4gICAgICAgICAgICBjb25maWRlbmNlOiAwLFxuICAgICAgICAgICAgdGVtcG86IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBhdWRpbyBjb250ZXh0IGFuZCBhbmFseXplclxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgV2ViIEF1ZGlvIEFQSVxuICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpO1xuICAgICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgdGhpcy5hbmFseXNlci5mZnRTaXplID0gdGhpcy5zZXR0aW5ncy5mZnRTaXplO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBhbmFseXplclxuICAgICAgICB0aGlzLmFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuNTtcbiAgICAgICAgdGhpcy5hbmFseXNlci5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnQXVkaW8gYW5hbHl6ZXIgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuZCBhbmFseXplIGFuIGF1ZGlvIGZpbGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGaWxlfSBhdWRpb0ZpbGUgLSBQYXRoIHRvIGF1ZGlvIGZpbGUgb3IgRmlsZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBSZXNvbHZlcyB3aXRoIGFuYWx5c2lzIHJlc3VsdHNcbiAgICAgKi9cbiAgICBhc3luYyBhbmFseXplRmlsZShhdWRpb0ZpbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUmVzZXQgcmVzdWx0c1xuICAgICAgICAgICAgdGhpcy5yZXNldFJlc3VsdHMoKTtcblxuICAgICAgICAgICAgLy8gUmVzZXQgcHJldmlvdXMgZGF0YVxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0lucHV0RGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExvYWQgYXVkaW8gZmlsZVxuICAgICAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCB0aGlzLmxvYWRBdWRpb0ZpbGUoYXVkaW9GaWxlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMb2FkZWQgYXVkaW8gZmlsZTogJHthdWRpb0J1ZmZlci5kdXJhdGlvbi50b0ZpeGVkKDIpfSBzZWNvbmRzYCk7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSBhdWRpbyBidWZmZXIgZm9yIHBvdGVudGlhbCByZXVzZVxuICAgICAgICAgICAgdGhpcy5jYWNoZWREYXRhLmF1ZGlvQnVmZmVyID0gYXVkaW9CdWZmZXI7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIGF1ZGlvIGRhdGEgZm9yIHdhdmVmb3JtIHZpc3VhbGl6YXRpb25cbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdFdhdmVmb3JtRGF0YShhdWRpb0J1ZmZlcik7XG5cbiAgICAgICAgICAgIC8vIFBlcmZvcm0gb2ZmbGluZSBhbmFseXNpcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJ1bk9mZmxpbmVBbmFseXNpcyhhdWRpb0J1ZmZlcik7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIHJhdyB0cmFuc2llbnRzIGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgICAgICAgICB0aGlzLmNhY2hlZERhdGEucmF3VHJhbnNpZW50cyA9IFsuLi50aGlzLnJlc3VsdHMudHJhbnNpZW50c107XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIGNvbGxlY3RlZCBkYXRhIHRvIGZpbmQgc2lnbmlmaWNhbnQgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NBbmFseXNpc1Jlc3VsdHMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0cztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBhdWRpbyBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCBhbiBhdWRpbyBmaWxlIGFuZCBkZWNvZGUgaXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGaWxlfSBhdWRpb0ZpbGUgLSBQYXRoIHRvIGF1ZGlvIGZpbGUgb3IgRmlsZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBdWRpb0J1ZmZlcj59IC0gVGhlIGRlY29kZWQgYXVkaW8gYnVmZmVyXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEF1ZGlvRmlsZShhdWRpb0ZpbGUpIHtcbiAgICAgICAgbGV0IGF1ZGlvRGF0YTtcblxuICAgICAgICBpZiAodHlwZW9mIGF1ZGlvRmlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIExvYWQgZnJvbSBVUkxcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXVkaW9GaWxlKTtcbiAgICAgICAgICAgIGF1ZGlvRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXVkaW9GaWxlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgLy8gTG9hZCBmcm9tIEZpbGUgb2JqZWN0XG4gICAgICAgICAgICBhdWRpb0RhdGEgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGF1ZGlvRmlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhdWRpbyBmaWxlIGZvcm1hdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVjb2RlIHRoZSBhdWRpbyBkYXRhXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmF1ZGlvQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gb2ZmbGluZSBhbmFseXNpcyBvbiB0aGUgYXVkaW8gYnVmZmVyXG4gICAgICogQHBhcmFtIHtBdWRpb0J1ZmZlcn0gYXVkaW9CdWZmZXIgLSBUaGUgZGVjb2RlZCBhdWRpbyBidWZmZXJcbiAgICAgKi9cbiAgICBhc3luYyBydW5PZmZsaW5lQW5hbHlzaXMoYXVkaW9CdWZmZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIG9mZmxpbmUgYW5hbHlzaXMuLi4nKTtcbiAgICAgICAgdGhpcy5pc0FuYWx5emluZyA9IHRydWU7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIG9mZmxpbmUgYXVkaW8gY29udGV4dCBmb3IgZmFzdGVyIHByb2Nlc3NpbmdcbiAgICAgICAgY29uc3Qgb2ZmbGluZUNvbnRleHQgPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCh7XG4gICAgICAgICAgICBudW1iZXJPZkNoYW5uZWxzOiBhdWRpb0J1ZmZlci5udW1iZXJPZkNoYW5uZWxzLFxuICAgICAgICAgICAgbGVuZ3RoOiBhdWRpb0J1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBhdWRpb0J1ZmZlci5zYW1wbGVSYXRlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGJ1ZmZlciBzb3VyY2VcbiAgICAgICAgY29uc3Qgc291cmNlID0gb2ZmbGluZUNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBhdWRpb0J1ZmZlcjtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gYW5hbHl6ZXIgbm9kZVxuICAgICAgICBjb25zdCBhbmFseXNlciA9IG9mZmxpbmVDb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSB0aGlzLnNldHRpbmdzLmZmdFNpemU7XG5cbiAgICAgICAgLy8gQ29ubmVjdCB0aGUgc291cmNlIHRvIHRoZSBhbmFseXplclxuICAgICAgICBzb3VyY2UuY29ubmVjdChhbmFseXNlcik7XG4gICAgICAgIGFuYWx5c2VyLmNvbm5lY3Qob2ZmbGluZUNvbnRleHQuZGVzdGluYXRpb24pO1xuXG4gICAgICAgIC8vIFNldCB1cCBNZXlkYSBmZWF0dXJlcyB0byBleHRyYWN0XG4gICAgICAgIGNvbnN0IG1leWRhRmVhdHVyZXMgPSBbXG4gICAgICAgICAgICAnZW5lcmd5JyxcbiAgICAgICAgICAgICdsb3VkbmVzcycsXG4gICAgICAgICAgICAncGVyY2VwdHVhbFNwcmVhZCcsXG4gICAgICAgICAgICAnc3BlY3RyYWxGbGF0bmVzcycsXG4gICAgICAgICAgICAncm1zJyxcbiAgICAgICAgICAgICd6Y3InLFxuICAgICAgICAgICAgJ21mY2MnLFxuICAgICAgICAgICAgJ3NwZWN0cmFsQ2VudHJvaWQnLCAgLy8gQWRkZWQgZm9yIHRpbWJyYWwgYW5hbHlzaXNcbiAgICAgICAgICAgICdzcGVjdHJhbFNwcmVhZCcgICAgIC8vIEFkZGVkIGZvciB0aW1icmFsIGFuYWx5c2lzXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gUHJvY2VzcyB0aGUgYXVkaW8gaW4gY2h1bmtzXG4gICAgICAgIGNvbnN0IGJ1ZmZlclNpemUgPSB0aGlzLnNldHRpbmdzLmJ1ZmZlclNpemU7XG4gICAgICAgIGNvbnN0IGhvcFNpemUgPSB0aGlzLnNldHRpbmdzLmhvcFNpemU7XG4gICAgICAgIGNvbnN0IHRvdGFsU2FtcGxlcyA9IGF1ZGlvQnVmZmVyLmxlbmd0aDtcbiAgICAgICAgbGV0IGN1cnJlbnRTYW1wbGUgPSAwO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBzb3VyY2VcbiAgICAgICAgc291cmNlLnN0YXJ0KCk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhIHNpbXBsZSBzcGVjdHJhbCBmbHV4IGNhbGN1bGF0b3Igd2l0aG91dCByZWx5aW5nIG9uIE1leWRhJ3MgaW1wbGVtZW50YXRpb25cbiAgICAgICAgbGV0IHByZXZpb3VzU3BlY3RydW0gPSBudWxsO1xuXG4gICAgICAgIC8vIFByb2Nlc3MgdGhlIGF1ZGlvIGluIGNodW5rc1xuICAgICAgICB3aGlsZSAoY3VycmVudFNhbXBsZSA8IHRvdGFsU2FtcGxlcyAmJiB0aGlzLmlzQW5hbHl6aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IGN1cnJlbnRTYW1wbGUgLyBhdWRpb0J1ZmZlci5zYW1wbGVSYXRlO1xuXG4gICAgICAgICAgICAvLyBHZXQgY3VycmVudCBhdWRpbyBkYXRhXG4gICAgICAgICAgICBjb25zdCBhdWRpb0RhdGEgPSB0aGlzLmdldEF1ZGlvRGF0YUF0VGltZShhdWRpb0J1ZmZlciwgY3VycmVudFNhbXBsZSwgYnVmZmVyU2l6ZSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmZWF0dXJlcyB3aXRoIE1leWRhXG4gICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBNZXlkYS5leHRyYWN0KG1leWRhRmVhdHVyZXMsIGF1ZGlvRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgc3BlY3RyYWwgZmx1eCBtYW51YWxseSB1c2luZyBXZWIgQXVkaW8gQVBJIEFuYWx5c2VyTm9kZVxuICAgICAgICAgICAgICAgIGxldCBzcGVjdHJhbEZsdXggPSAwO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIEFuYWx5c2VyTm9kZSBmb3Igc3BlY3RydW0gYW5hbHlzaXNcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wT2ZmbGluZUNvbnRleHQgPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBidWZmZXJTaXplLCBhdWRpb0J1ZmZlci5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wQW5hbHlzZXIgPSB0ZW1wT2ZmbGluZUNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgICAgICAgICAgICB0ZW1wQW5hbHlzZXIuZmZ0U2l6ZSA9IDEwMjQ7XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBidWZmZXIgc291cmNlIHRvIGdldCBmcmVxdWVuY3kgZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTb3VyY2UgPSB0ZW1wT2ZmbGluZUNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcEJ1ZmZlciA9IHRlbXBPZmZsaW5lQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgYnVmZmVyU2l6ZSwgdGVtcE9mZmxpbmVDb250ZXh0LnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gdGVtcEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsRGF0YVtpXSA9IGF1ZGlvRGF0YVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGVtcFNvdXJjZS5idWZmZXIgPSB0ZW1wQnVmZmVyO1xuICAgICAgICAgICAgICAgIHRlbXBTb3VyY2UuY29ubmVjdCh0ZW1wQW5hbHlzZXIpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IGZyZXF1ZW5jeSBkYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgZnJlcXVlbmN5RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGVtcEFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICAgICAgICAgICAgICB0ZW1wU291cmNlLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgdGVtcE9mZmxpbmVDb250ZXh0LnN0YXJ0UmVuZGVyaW5nKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBBbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEoZnJlcXVlbmN5RGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgc3BlY3RyYWwgZmx1eCBpZiB3ZSBoYXZlIHByZXZpb3VzIGRhdGFcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c0lucHV0RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmx1eCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEYXRhID0gdGhpcy5wcmV2aW91c0lucHV0RGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBVc2luZyBkaXJlY3QgYnVmZmVyIGNvbXBhcmlzb24gZm9yIHNpbXBsaWNpdHkgYW5kIHJlbGlhYmlsaXR5XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXVkaW9EYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBwb3NpdGl2ZSBjaGFuZ2VzIGluIGFtcGxpdHVkZSAob25zZXRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGgubWF4KDAsIE1hdGguYWJzKGF1ZGlvRGF0YVtpXSkgLSBNYXRoLmFicyhwcmV2RGF0YVtpXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmx1eCArPSBkaWZmICogZGlmZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzcGVjdHJhbEZsdXggPSBNYXRoLnNxcnQoZmx1eCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0lucHV0RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoYXVkaW9EYXRhKTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCBzcGVjdHJhbCBmbHV4IHRvIGZlYXR1cmVzIHdpdGggYSBtaW5pbXVtIHZhbHVlXG4gICAgICAgICAgICAgICAgZmVhdHVyZXMuc3BlY3RyYWxGbHV4ID0gTWF0aC5tYXgoc3BlY3RyYWxGbHV4LCAwLjAxKTtcblxuICAgICAgICAgICAgICAgIC8vIERlYnVnIGxvZ2dpbmcgdG8gaGVscCB1bmRlcnN0YW5kIGRldGVjdGlvbiBpc3N1ZXNcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNhbXBsZSAlIChob3BTaXplICogMTAwKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRmVhdHVyZXMgYXQgdGltZScsIGN1cnJlbnRUaW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dCYW5kRW5lcmd5OiBmZWF0dXJlcy5sb3dCYW5kRW5lcmd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWlkQmFuZEVuZXJneTogZmVhdHVyZXMubWlkQmFuZEVuZXJneSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hCYW5kRW5lcmd5OiBmZWF0dXJlcy5oaWdoQmFuZEVuZXJneSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWN0cmFsRmx1eDogZmVhdHVyZXMuc3BlY3RyYWxGbHV4XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBiYW5kIGVuZXJnaWVzIGZyb20gbG91ZG5lc3Muc3BlY2lmaWNcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZXMubG91ZG5lc3MgJiYgZmVhdHVyZXMubG91ZG5lc3Muc3BlY2lmaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGVuZXJneSBpbiBkaWZmZXJlbnQgZnJlcXVlbmN5IGJhbmRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtsb3dNaW4sIGxvd01heF0gPSB0aGlzLnNldHRpbmdzLmxvd0JhbmRSYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW21pZE1pbiwgbWlkTWF4XSA9IHRoaXMuc2V0dGluZ3MubWlkQmFuZFJhbmdlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbaGlnaE1pbiwgaGlnaE1heF0gPSB0aGlzLnNldHRpbmdzLmhpZ2hCYW5kUmFuZ2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGRvbid0IGV4Y2VlZCB0aGUgYXZhaWxhYmxlIGJhbmRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWNpZmljID0gZmVhdHVyZXMubG91ZG5lc3Muc3BlY2lmaWM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heEluZGV4ID0gc3BlY2lmaWMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgYmFuZCBlbmVyZ2llc1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5sb3dCYW5kRW5lcmd5ID0gc3BlY2lmaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShNYXRoLm1pbihsb3dNaW4sIG1heEluZGV4KSwgTWF0aC5taW4obG93TWF4LCBtYXhJbmRleCkgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMubWlkQmFuZEVuZXJneSA9IHNwZWNpZmljXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoTWF0aC5taW4obWlkTWluLCBtYXhJbmRleCksIE1hdGgubWluKG1pZE1heCwgbWF4SW5kZXgpICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgdmFsKSA9PiBzdW0gKyB2YWwsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmhpZ2hCYW5kRW5lcmd5ID0gc3BlY2lmaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShNYXRoLm1pbihoaWdoTWluLCBtYXhJbmRleCksIE1hdGgubWluKGhpZ2hNYXgsIG1heEluZGV4KSArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsLCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB2YWx1ZXMgaWYgbG91ZG5lc3Muc3BlY2lmaWMgaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5sb3dCYW5kRW5lcmd5ID0gZmVhdHVyZXMuZW5lcmd5ICogMC40OyAgLy8gQXBwcm94aW1hdGlvblxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5taWRCYW5kRW5lcmd5ID0gZmVhdHVyZXMuZW5lcmd5ICogMC4zOyAgLy8gQXBwcm94aW1hdGlvbiAgXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmhpZ2hCYW5kRW5lcmd5ID0gZmVhdHVyZXMuZW5lcmd5ICogMC4zOyAvLyBBcHByb3hpbWF0aW9uXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgZmVhdHVyZXMgd2l0aCB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlRW5oYW5jZWRGZWF0dXJlcyhmZWF0dXJlcywgY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRXJyb3IgZXh0cmFjdGluZyBmZWF0dXJlcyBhdCB0aW1lICR7Y3VycmVudFRpbWV9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSBkZXNwaXRlIGVycm9ycyB0byBnYXRoZXIgYXMgbXVjaCBkYXRhIGFzIHBvc3NpYmxlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBjaHVua1xuICAgICAgICAgICAgY3VycmVudFNhbXBsZSArPSBob3BTaXplO1xuXG4gICAgICAgICAgICAvLyBBbGxvdyBVSSB0aHJlYWQgdG8gYnJlYXRoZSBvbiBsb25nIGFuYWx5c2VzXG4gICAgICAgICAgICBpZiAoY3VycmVudFNhbXBsZSAlIChob3BTaXplICogMTAwKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbigxMDAsIE1hdGguZmxvb3IoKGN1cnJlbnRTYW1wbGUgLyB0b3RhbFNhbXBsZXMpICogMTAwKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEFuYWx5c2lzIHByb2dyZXNzOiAke3Byb2dyZXNzfSVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBbmFseXppbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coJ09mZmxpbmUgYW5hbHlzaXMgY29tcGxldGVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGF1ZGlvIGRhdGEgYXQgc3BlY2lmaWMgdGltZVxuICAgICAqIEBwYXJhbSB7QXVkaW9CdWZmZXJ9IGJ1ZmZlciAtIEF1ZGlvIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFNhbXBsZSAtIFN0YXJ0aW5nIHNhbXBsZSBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBidWZmZXJTaXplIC0gU2l6ZSBvZiBidWZmZXIgdG8gZXh0cmFjdFxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IC0gQXVkaW8gZGF0YVxuICAgICAqL1xuICAgIGdldEF1ZGlvRGF0YUF0VGltZShidWZmZXIsIHN0YXJ0U2FtcGxlLCBidWZmZXJTaXplKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlclNpemUpO1xuXG4gICAgICAgIC8vIElmIHdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciwgcGFkIHdpdGggemVyb3NcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU2FtcGxlcyA9IE1hdGgubWluKGJ1ZmZlclNpemUsIGJ1ZmZlci5sZW5ndGggLSBzdGFydFNhbXBsZSk7XG5cbiAgICAgICAgaWYgKHJlbWFpbmluZ1NhbXBsZXMgPCBidWZmZXJTaXplKSB7XG4gICAgICAgICAgICAvLyBQYWQgd2l0aCB6ZXJvc1xuICAgICAgICAgICAgZGF0YS5maWxsKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGF1ZGlvIGRhdGEgZnJvbSB0aGUgZmlyc3QgY2hhbm5lbFxuICAgICAgICBjb25zdCBjaGFubmVsRGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1haW5pbmdTYW1wbGVzOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBjaGFubmVsRGF0YVtzdGFydFNhbXBsZSArIGldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcmUgZW5oYW5jZWQgZXh0cmFjdGVkIGZlYXR1cmVzIHdpdGggdGltZXN0YW1wXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmVzIC0gRXh0cmFjdGVkIGZlYXR1cmVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVzdGFtcCAtIEN1cnJlbnQgdGltZSBpbiBzZWNvbmRzXG4gICAgICovXG4gICAgc3RvcmVFbmhhbmNlZEZlYXR1cmVzKGZlYXR1cmVzLCB0aW1lc3RhbXApIHtcbiAgICAgICAgLy8gU3RvcmUgZmVhdHVyZSBoaXN0b3J5IGZvciB0cmVuZCBhbmFseXNpc1xuICAgICAgICB0aGlzLmZlYXR1cmVIaXN0b3J5LmVuZXJneS5wdXNoKHsgdmFsdWU6IGZlYXR1cmVzLmVuZXJneSwgdGltZTogdGltZXN0YW1wIH0pO1xuICAgICAgICB0aGlzLmZlYXR1cmVIaXN0b3J5LnNwZWN0cmFsRmx1eC5wdXNoKHsgdmFsdWU6IGZlYXR1cmVzLnNwZWN0cmFsRmx1eCwgdGltZTogdGltZXN0YW1wIH0pO1xuICAgICAgICB0aGlzLmZlYXR1cmVIaXN0b3J5LmxvdWRuZXNzLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IGZlYXR1cmVzLmxvdWRuZXNzLnRvdGFsLFxuICAgICAgICAgICAgc3BlY2lmaWM6IGZlYXR1cmVzLmxvdWRuZXNzLnNwZWNpZmljLFxuICAgICAgICAgICAgdGltZTogdGltZXN0YW1wXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZlYXR1cmVIaXN0b3J5LnBlcmNlcHR1YWxTcHJlYWQucHVzaCh7IHZhbHVlOiBmZWF0dXJlcy5wZXJjZXB0dWFsU3ByZWFkLCB0aW1lOiB0aW1lc3RhbXAgfSk7XG4gICAgICAgIHRoaXMuZmVhdHVyZUhpc3Rvcnkuc3BlY3RyYWxGbGF0bmVzcy5wdXNoKHsgdmFsdWU6IGZlYXR1cmVzLnNwZWN0cmFsRmxhdG5lc3MsIHRpbWU6IHRpbWVzdGFtcCB9KTtcbiAgICAgICAgdGhpcy5mZWF0dXJlSGlzdG9yeS5ybXMucHVzaCh7IHZhbHVlOiBmZWF0dXJlcy5ybXMsIHRpbWU6IHRpbWVzdGFtcCB9KTtcbiAgICAgICAgdGhpcy5mZWF0dXJlSGlzdG9yeS56Y3IucHVzaCh7IHZhbHVlOiBmZWF0dXJlcy56Y3IsIHRpbWU6IHRpbWVzdGFtcCB9KTtcblxuICAgICAgICAvLyBTdG9yZSBiYW5kIGVuZXJnaWVzXG4gICAgICAgIHRoaXMuZmVhdHVyZUhpc3RvcnkubG93QmFuZEVuZXJneS5wdXNoKHsgdmFsdWU6IGZlYXR1cmVzLmxvd0JhbmRFbmVyZ3ksIHRpbWU6IHRpbWVzdGFtcCB9KTtcbiAgICAgICAgdGhpcy5mZWF0dXJlSGlzdG9yeS5taWRCYW5kRW5lcmd5LnB1c2goeyB2YWx1ZTogZmVhdHVyZXMubWlkQmFuZEVuZXJneSwgdGltZTogdGltZXN0YW1wIH0pO1xuICAgICAgICB0aGlzLmZlYXR1cmVIaXN0b3J5LmhpZ2hCYW5kRW5lcmd5LnB1c2goeyB2YWx1ZTogZmVhdHVyZXMuaGlnaEJhbmRFbmVyZ3ksIHRpbWU6IHRpbWVzdGFtcCB9KTtcblxuICAgICAgICAvLyBLZWVwIGhpc3RvcnkgYXQgYSByZWFzb25hYmxlIHNpemVcbiAgICAgICAgY29uc3QgbWF4SGlzdG9yeSA9IHRoaXMuc2V0dGluZ3MuYW5hbHlzaXNXaW5kb3dTaXplICogMTA7XG4gICAgICAgIHRoaXMudHJpbUhpc3RvcnkobWF4SGlzdG9yeSk7XG5cbiAgICAgICAgLy8gRGV0ZWN0IGV2ZW50cyBpbiByZWFsLXRpbWVcbiAgICAgICAgdGhpcy5kZXRlY3RFbmhhbmNlZEV2ZW50cyhmZWF0dXJlcywgdGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmltIGZlYXR1cmUgaGlzdG9yeSB0byBwcmV2ZW50IG1lbW9yeSBpc3N1ZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4SXRlbXMgLSBNYXhpbXVtIGl0ZW1zIHRvIGtlZXBcbiAgICAgKi9cbiAgICB0cmltSGlzdG9yeShtYXhJdGVtcykge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmZlYXR1cmVIaXN0b3J5KS5mb3JFYWNoKGZlYXR1cmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGlzdG9yeSA9IHRoaXMuZmVhdHVyZUhpc3RvcnlbZmVhdHVyZV07XG4gICAgICAgICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiBtYXhJdGVtcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZUhpc3RvcnlbZmVhdHVyZV0gPSBoaXN0b3J5LnNsaWNlKGhpc3RvcnkubGVuZ3RoIC0gbWF4SXRlbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgZW5oYW5jZWQgbXVzaWNhbCBldmVudHMgaW4gcmVhbC10aW1lIGR1cmluZyBhbmFseXNpc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlcyAtIEN1cnJlbnQgZmVhdHVyZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGltZXN0YW1wIC0gQ3VycmVudCB0aW1lIGluIHNlY29uZHNcbiAgICAgKi9cbiAgICBkZXRlY3RFbmhhbmNlZEV2ZW50cyhmZWF0dXJlcywgdGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IHdpbmRvd1NpemUgPSB0aGlzLnNldHRpbmdzLmFuYWx5c2lzV2luZG93U2l6ZTtcblxuICAgICAgICAvLyBXZSBuZWVkIGVub3VnaCBoaXN0b3J5IHRvIGRldGVjdCB0cmVuZHNcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZUhpc3RvcnkuZW5lcmd5Lmxlbmd0aCA8IHdpbmRvd1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCByZWNlbnQgaGlzdG9yeSBmb3IgY29tcGFyaXNvblxuICAgICAgICBjb25zdCByZWNlbnRFbmVyZ3kgPSB0aGlzLmZlYXR1cmVIaXN0b3J5LmVuZXJneS5zbGljZSgtd2luZG93U2l6ZSk7XG4gICAgICAgIGNvbnN0IHJlY2VudEZsdXggPSB0aGlzLmZlYXR1cmVIaXN0b3J5LnNwZWN0cmFsRmx1eC5zbGljZSgtd2luZG93U2l6ZSk7XG4gICAgICAgIGNvbnN0IHJlY2VudExvdWRuZXNzID0gdGhpcy5mZWF0dXJlSGlzdG9yeS5sb3VkbmVzcy5zbGljZSgtd2luZG93U2l6ZSk7XG4gICAgICAgIGNvbnN0IHJlY2VudFJNUyA9IHRoaXMuZmVhdHVyZUhpc3Rvcnkucm1zLnNsaWNlKC13aW5kb3dTaXplKTtcbiAgICAgICAgY29uc3QgcmVjZW50TG93QmFuZCA9IHRoaXMuZmVhdHVyZUhpc3RvcnkubG93QmFuZEVuZXJneS5zbGljZSgtd2luZG93U2l6ZSk7XG4gICAgICAgIGNvbnN0IHJlY2VudE1pZEJhbmQgPSB0aGlzLmZlYXR1cmVIaXN0b3J5Lm1pZEJhbmRFbmVyZ3kuc2xpY2UoLXdpbmRvd1NpemUpO1xuICAgICAgICBjb25zdCByZWNlbnRIaWdoQmFuZCA9IHRoaXMuZmVhdHVyZUhpc3RvcnkuaGlnaEJhbmRFbmVyZ3kuc2xpY2UoLXdpbmRvd1NpemUpO1xuICAgICAgICBjb25zdCByZWNlbnRGbGF0bmVzcyA9IHRoaXMuZmVhdHVyZUhpc3Rvcnkuc3BlY3RyYWxGbGF0bmVzcy5zbGljZSgtd2luZG93U2l6ZSk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2UgdmFsdWVzXG4gICAgICAgIGNvbnN0IGF2Z0VuZXJneSA9IHJlY2VudEVuZXJneS5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgaXRlbS52YWx1ZSwgMCkgLyB3aW5kb3dTaXplO1xuICAgICAgICBjb25zdCBhdmdGbHV4ID0gcmVjZW50Rmx1eC5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgaXRlbS52YWx1ZSwgMCkgLyB3aW5kb3dTaXplO1xuICAgICAgICBjb25zdCBhdmdSTVMgPSByZWNlbnRSTVMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0udmFsdWUsIDApIC8gd2luZG93U2l6ZTtcbiAgICAgICAgY29uc3QgYXZnTG93QmFuZCA9IHJlY2VudExvd0JhbmQucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0udmFsdWUsIDApIC8gd2luZG93U2l6ZTtcbiAgICAgICAgY29uc3QgYXZnTWlkQmFuZCA9IHJlY2VudE1pZEJhbmQucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0udmFsdWUsIDApIC8gd2luZG93U2l6ZTtcbiAgICAgICAgY29uc3QgYXZnSGlnaEJhbmQgPSByZWNlbnRIaWdoQmFuZC5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgaXRlbS52YWx1ZSwgMCkgLyB3aW5kb3dTaXplO1xuICAgICAgICBjb25zdCBhdmdGbGF0bmVzcyA9IHJlY2VudEZsYXRuZXNzLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLnZhbHVlLCAwKSAvIHdpbmRvd1NpemU7XG5cbiAgICAgICAgLy8gQ3VycmVudCB2YWx1ZXNcbiAgICAgICAgY29uc3QgY3VycmVudEVuZXJneSA9IGZlYXR1cmVzLmVuZXJneTtcbiAgICAgICAgY29uc3QgY3VycmVudEZsdXggPSBmZWF0dXJlcy5zcGVjdHJhbEZsdXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMb3VkbmVzcyA9IGZlYXR1cmVzLmxvdWRuZXNzLnRvdGFsO1xuICAgICAgICBjb25zdCBjdXJyZW50Uk1TID0gZmVhdHVyZXMucm1zO1xuICAgICAgICBjb25zdCBjdXJyZW50TG93QmFuZCA9IGZlYXR1cmVzLmxvd0JhbmRFbmVyZ3k7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNaWRCYW5kID0gZmVhdHVyZXMubWlkQmFuZEVuZXJneTtcbiAgICAgICAgY29uc3QgY3VycmVudEhpZ2hCYW5kID0gZmVhdHVyZXMuaGlnaEJhbmRFbmVyZ3k7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRGbGF0bmVzcyA9IGZlYXR1cmVzLnNwZWN0cmFsRmxhdG5lc3M7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHJhdGUgb2YgY2hhbmdlIGZvciBlYWNoIGZlYXR1cmVcbiAgICAgICAgY29uc3QgZW5lcmd5Q2hhbmdlID0gY3VycmVudEVuZXJneSAvIChhdmdFbmVyZ3kgfHwgMC4wMSk7XG4gICAgICAgIGNvbnN0IGZsdXhDaGFuZ2UgPSBjdXJyZW50Rmx1eCAvIChhdmdGbHV4IHx8IDAuMDEpO1xuICAgICAgICBjb25zdCBybXNDaGFuZ2UgPSBjdXJyZW50Uk1TIC8gKGF2Z1JNUyB8fCAwLjAxKTtcbiAgICAgICAgY29uc3QgbG93QmFuZENoYW5nZSA9IGN1cnJlbnRMb3dCYW5kIC8gKGF2Z0xvd0JhbmQgfHwgMC4wMSk7XG4gICAgICAgIGNvbnN0IG1pZEJhbmRDaGFuZ2UgPSBjdXJyZW50TWlkQmFuZCAvIChhdmdNaWRCYW5kIHx8IDAuMDEpO1xuICAgICAgICBjb25zdCBoaWdoQmFuZENoYW5nZSA9IGN1cnJlbnRIaWdoQmFuZCAvIChhdmdIaWdoQmFuZCB8fCAwLjAxKTtcbiAgICAgICAgY29uc3QgZmxhdG5lc3NDaGFuZ2UgPSBNYXRoLmFicyhjdXJyZW50RmxhdG5lc3MgLSBhdmdGbGF0bmVzcykgLyAoYXZnRmxhdG5lc3MgfHwgMC4wMSk7XG5cbiAgICAgICAgLy8gMS4gREVURUNUIFRSQU5TSUVOVFMgKE9OU0VUIERFVEVDVElPTik6XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIGVhY2ggYmFuZCBleGNlZWRzIGl0cyB0aHJlc2hvbGQgYnkgKG5vcm1hbGl6YXRpb24gZmFjdG9yKVxuICAgICAgICBjb25zdCBsb3dFeGNlZWRzRmFjdG9yID0gbG93QmFuZENoYW5nZSAvIHRoaXMuc2V0dGluZ3MubG93RnJlcU9uc2V0VGhyZXNob2xkO1xuICAgICAgICBjb25zdCBtaWRFeGNlZWRzRmFjdG9yID0gbWlkQmFuZENoYW5nZSAvIHRoaXMuc2V0dGluZ3MubWlkRnJlcU9uc2V0VGhyZXNob2xkO1xuICAgICAgICBjb25zdCBoaWdoRXhjZWVkc0ZhY3RvciA9IGhpZ2hCYW5kQ2hhbmdlIC8gdGhpcy5zZXR0aW5ncy5oaWdoRnJlcU9uc2V0VGhyZXNob2xkO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBiYW5kIGV4Y2VlZHMgaXRzIHRocmVzaG9sZFxuICAgICAgICBjb25zdCBsb3dCYW5kRXhjZWVkc1RocmVzaG9sZCA9IGxvd0V4Y2VlZHNGYWN0b3IgPiAxO1xuICAgICAgICBjb25zdCBtaWRCYW5kRXhjZWVkc1RocmVzaG9sZCA9IG1pZEV4Y2VlZHNGYWN0b3IgPiAxO1xuICAgICAgICBjb25zdCBoaWdoQmFuZEV4Y2VlZHNUaHJlc2hvbGQgPSBoaWdoRXhjZWVkc0ZhY3RvciA+IDE7XG5cbiAgICAgICAgLy8gTW9yZSBkZXRhaWxlZCBkZWJ1ZyBpbmZvXG4gICAgICAgIGlmIChsb3dCYW5kRXhjZWVkc1RocmVzaG9sZCB8fCBtaWRCYW5kRXhjZWVkc1RocmVzaG9sZCB8fCBoaWdoQmFuZEV4Y2VlZHNUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBUaW1lICR7dGltZXN0YW1wLnRvRml4ZWQoMil9IC0gQmFuZCBjaGFuZ2VzOmAsIHtcbiAgICAgICAgICAgICAgICBsb3c6IGAke2xvd0JhbmRDaGFuZ2UudG9GaXhlZCgyKX0gLyAke3RoaXMuc2V0dGluZ3MubG93RnJlcU9uc2V0VGhyZXNob2xkfSA9ICR7bG93RXhjZWVkc0ZhY3Rvci50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgbWlkOiBgJHttaWRCYW5kQ2hhbmdlLnRvRml4ZWQoMil9IC8gJHt0aGlzLnNldHRpbmdzLm1pZEZyZXFPbnNldFRocmVzaG9sZH0gPSAke21pZEV4Y2VlZHNGYWN0b3IudG9GaXhlZCgyKX1gLFxuICAgICAgICAgICAgICAgIGhpZ2g6IGAke2hpZ2hCYW5kQ2hhbmdlLnRvRml4ZWQoMil9IC8gJHt0aGlzLnNldHRpbmdzLmhpZ2hGcmVxT25zZXRUaHJlc2hvbGR9ID0gJHtoaWdoRXhjZWVkc0ZhY3Rvci50b0ZpeGVkKDIpfWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgY2FuIGFkZCBhIHRyYW5zaWVudCBhdCB0aGlzIHRpbWVcbiAgICAgICAgaWYgKHRoaXMuY2FuQWRkVHJhbnNpZW50KHRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIC8vIE5FVyBBUFBST0FDSDogQWRkIGEgc2VwYXJhdGUgdHJhbnNpZW50IGZvciBFQUNIIGJhbmQgdGhhdCBleGNlZWRzIGl0cyB0aHJlc2hvbGRcbiAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgcGlja2luZyBhIGRvbWluYW50IG9uZVxuXG4gICAgICAgICAgICAvLyBBZGQgc21hbGwgdGltZSBvZmZzZXRzIGZvciBlYWNoIGJhbmQgdG8gcHJldmVudCBleGFjdCB0aW1lc3RhbXAgZHVwbGljYXRlc1xuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZXkgYWxsIHNob3cgdXAgaW4gdmlzdWFsaXphdGlvblxuICAgICAgICAgICAgbGV0IGJhbmRzRGV0ZWN0ZWQgPSAwO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBsb3cgYmFuZFxuICAgICAgICAgICAgaWYgKGxvd0JhbmRFeGNlZWRzVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgdGlueSBvZmZzZXQgKDFtcykgdG8gYXZvaWQgZXhhY3QgdGltZXN0YW1wIGNvbGxpc2lvblxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFRpbWUgPSB0aW1lc3RhbXAgKyAoYmFuZHNEZXRlY3RlZCAqIDAuMDAxKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0cy50cmFuc2llbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBvZmZzZXRUaW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbG93QmFuZENoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW5zaXR5OiBsb3dFeGNlZWRzRmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICBkb21pbmFudEJhbmQ6ICdsb3cnLFxuICAgICAgICAgICAgICAgICAgICBkb21pbmFudFZhbHVlOiBsb3dCYW5kQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBybXNDaGFuZ2U6IHJtc0NoYW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvdyBiYW5kIHRyYW5zaWVudCBkZXRlY3RlZCBhdCcsIG9mZnNldFRpbWUudG9GaXhlZCgzKSxcbiAgICAgICAgICAgICAgICAgICAgJ3dpdGggdmFsdWUnLCBsb3dCYW5kQ2hhbmdlLnRvRml4ZWQoMiksICd2cyB0aHJlc2hvbGQnLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmxvd0ZyZXFPbnNldFRocmVzaG9sZC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgICAgICAnKGV4Y2VlZGVkIGJ5IGZhY3RvciBvZicsIGxvd0V4Y2VlZHNGYWN0b3IudG9GaXhlZCgyKSwgJyknKTtcblxuICAgICAgICAgICAgICAgIGJhbmRzRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgbWlkIGJhbmRcbiAgICAgICAgICAgIGlmIChtaWRCYW5kRXhjZWVkc1RocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFRpbWUgPSB0aW1lc3RhbXAgKyAoYmFuZHNEZXRlY3RlZCAqIDAuMDAxKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0cy50cmFuc2llbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBvZmZzZXRUaW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWlkQmFuZENoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW5zaXR5OiBtaWRFeGNlZWRzRmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICBkb21pbmFudEJhbmQ6ICdtaWQnLFxuICAgICAgICAgICAgICAgICAgICBkb21pbmFudFZhbHVlOiBtaWRCYW5kQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBybXNDaGFuZ2U6IHJtc0NoYW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01pZCBiYW5kIHRyYW5zaWVudCBkZXRlY3RlZCBhdCcsIG9mZnNldFRpbWUudG9GaXhlZCgzKSxcbiAgICAgICAgICAgICAgICAgICAgJ3dpdGggdmFsdWUnLCBtaWRCYW5kQ2hhbmdlLnRvRml4ZWQoMiksICd2cyB0aHJlc2hvbGQnLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1pZEZyZXFPbnNldFRocmVzaG9sZC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgICAgICAnKGV4Y2VlZGVkIGJ5IGZhY3RvciBvZicsIG1pZEV4Y2VlZHNGYWN0b3IudG9GaXhlZCgyKSwgJyknKTtcblxuICAgICAgICAgICAgICAgIGJhbmRzRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaGlnaCBiYW5kXG4gICAgICAgICAgICBpZiAoaGlnaEJhbmRFeGNlZWRzVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0VGltZSA9IHRpbWVzdGFtcCArIChiYW5kc0RldGVjdGVkICogMC4wMDEpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRzLnRyYW5zaWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG9mZnNldFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBoaWdoQmFuZENoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZW5zaXR5OiBoaWdoRXhjZWVkc0ZhY3RvcixcbiAgICAgICAgICAgICAgICAgICAgZG9taW5hbnRCYW5kOiAnaGlnaCcsXG4gICAgICAgICAgICAgICAgICAgIGRvbWluYW50VmFsdWU6IGhpZ2hCYW5kQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBybXNDaGFuZ2U6IHJtc0NoYW5nZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0hpZ2ggYmFuZCB0cmFuc2llbnQgZGV0ZWN0ZWQgYXQnLCBvZmZzZXRUaW1lLnRvRml4ZWQoMyksXG4gICAgICAgICAgICAgICAgICAgICd3aXRoIHZhbHVlJywgaGlnaEJhbmRDaGFuZ2UudG9GaXhlZCgyKSwgJ3ZzIHRocmVzaG9sZCcsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuaGlnaEZyZXFPbnNldFRocmVzaG9sZC50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgICAgICAnKGV4Y2VlZGVkIGJ5IGZhY3RvciBvZicsIGhpZ2hFeGNlZWRzRmFjdG9yLnRvRml4ZWQoMiksICcpJyk7XG5cbiAgICAgICAgICAgICAgICBiYW5kc0RldGVjdGVkKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChiYW5kc0RldGVjdGVkID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEZXRlY3RlZCB0cmFuc2llbnRzIGluICR7YmFuZHNEZXRlY3RlZH0gZnJlcXVlbmN5IGJhbmRzIGF0IHRpbWUgJHt0aW1lc3RhbXAudG9GaXhlZCgzKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIuIERFVEVDVCBFTkVSR1kgVkFSSUFUSU9OUzpcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIERldGVjdCBvdmVyYWxsIGR5bmFtaWMgY2hhbmdlcyBhdCBkaWZmZXJlbnQgdGhyZXNob2xkc1xuICAgICAgICBpZiAocm1zQ2hhbmdlID4gdGhpcy5zZXR0aW5ncy5kcmFtYXRpY0NoYW5nZVRocmVzaG9sZCAmJlxuICAgICAgICAgICAgdGhpcy5jYW5BZGRFdmVudCgnZHluYW1pY0NoYW5nZXMnLCB0aW1lc3RhbXApKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMuZHluYW1pY0NoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBybXNDaGFuZ2UsXG4gICAgICAgICAgICAgICAgaW50ZW5zaXR5OiBybXNDaGFuZ2UsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdkcmFtYXRpYydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHJtc0NoYW5nZSA+IHRoaXMuc2V0dGluZ3Muc2lnbmlmaWNhbnRDaGFuZ2VUaHJlc2hvbGQgJiZcbiAgICAgICAgICAgIHRoaXMuY2FuQWRkRXZlbnQoJ2R5bmFtaWNDaGFuZ2VzJywgdGltZXN0YW1wKSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzLmR5bmFtaWNDaGFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcm1zQ2hhbmdlLFxuICAgICAgICAgICAgICAgIGludGVuc2l0eTogcm1zQ2hhbmdlLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnc2lnbmlmaWNhbnQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChybXNDaGFuZ2UgPiB0aGlzLnNldHRpbmdzLm1vZGVyYXRlQ2hhbmdlVGhyZXNob2xkICYmXG4gICAgICAgICAgICB0aGlzLmNhbkFkZEV2ZW50KCdkeW5hbWljQ2hhbmdlcycsIHRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5keW5hbWljQ2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJtc0NoYW5nZSxcbiAgICAgICAgICAgICAgICBpbnRlbnNpdHk6IHJtc0NoYW5nZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ21vZGVyYXRlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBERVRFQ1QgRlJFUVVFTkNZIEJBTkQgQUNUSVZJVElFUzpcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIEtlZXAgdGhlIGV4aXN0aW5nIGxvdyBmcmVxdWVuY3kgZXZlbnQgZGV0ZWN0aW9uXG4gICAgICAgIGlmIChjdXJyZW50TG93QmFuZCA+IHRoaXMuc2V0dGluZ3MubG93RnJlcXVlbmN5VGhyZXNob2xkICYmXG4gICAgICAgICAgICB0aGlzLmNhbkFkZEV2ZW50KCdsb3dGcmVxdWVuY3lFdmVudHMnLCB0aW1lc3RhbXApKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMubG93RnJlcXVlbmN5RXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudExvd0JhbmQsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBsb3dCYW5kQ2hhbmdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVjdCBtaWQtcmFuZ2UgZnJlcXVlbmN5IGV2ZW50c1xuICAgICAgICBpZiAobWlkQmFuZENoYW5nZSA+IHRoaXMuc2V0dGluZ3MubW9kZXJhdGVDaGFuZ2VUaHJlc2hvbGQgJiZcbiAgICAgICAgICAgIHRoaXMuY2FuQWRkRXZlbnQoJ21pZFJhbmdlRXZlbnRzJywgdGltZXN0YW1wKSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzLm1pZFJhbmdlRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudE1pZEJhbmQsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBtaWRCYW5kQ2hhbmdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVjdCBoaWdoLWZyZXF1ZW5jeSBldmVudHNcbiAgICAgICAgaWYgKGhpZ2hCYW5kQ2hhbmdlID4gdGhpcy5zZXR0aW5ncy5tb2RlcmF0ZUNoYW5nZVRocmVzaG9sZCAmJlxuICAgICAgICAgICAgdGhpcy5jYW5BZGRFdmVudCgnaGlnaEZyZXF1ZW5jeUV2ZW50cycsIHRpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5oaWdoRnJlcXVlbmN5RXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudEhpZ2hCYW5kLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogaGlnaEJhbmRDaGFuZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNC4gREVURUNUIFRJTUJSQUwgQ0hBTkdFUzpcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIENvbWJpbmUgZmxhdG5lc3MgY2hhbmdlIHdpdGggc3BlY3RyYWwgY2VudHJvaWQgc2hpZnRzXG4gICAgICAgIGlmIChmbGF0bmVzc0NoYW5nZSA+IHRoaXMuc2V0dGluZ3MudGltYnJlQ2hhbmdlVGhyZXNob2xkICYmXG4gICAgICAgICAgICB0aGlzLmNhbkFkZEV2ZW50KCd0aW1icmVDaGFuZ2VzJywgdGltZXN0YW1wKSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzLnRpbWJyZUNoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIGZsYXRuZXNzOiBjdXJyZW50RmxhdG5lc3MsXG4gICAgICAgICAgICAgICAgc3ByZWFkOiBmZWF0dXJlcy5wZXJjZXB0dWFsU3ByZWFkLFxuICAgICAgICAgICAgICAgIGNlbnRyb2lkOiBmZWF0dXJlcy5zcGVjdHJhbENlbnRyb2lkIHx8IDAsXG4gICAgICAgICAgICAgICAgaW50ZW5zaXR5OiBmbGF0bmVzc0NoYW5nZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHNvIGtlZXAgdGhlIGV4aXN0aW5nIGV2ZW50IGRldGVjdGlvbnMgZm9yIGNvbXBhdGliaWxpdHk6XG5cbiAgICAgICAgLy8gRW5lcmd5IHBlYWtzXG4gICAgICAgIGlmIChlbmVyZ3lDaGFuZ2UgPiB0aGlzLnNldHRpbmdzLmVuZXJneVRocmVzaG9sZCAmJlxuICAgICAgICAgICAgdGhpcy5jYW5BZGRFdmVudCgnZW5lcmd5UGVha3MnLCB0aW1lc3RhbXApKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMuZW5lcmd5UGVha3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50RW5lcmd5LFxuICAgICAgICAgICAgICAgIGNoYW5nZTogZW5lcmd5Q2hhbmdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNwZWN0cmFsIGZsdXggc3Bpa2VzIChiZWF0cyBhbmQgdHJhbnNpZW50cylcbiAgICAgICAgaWYgKGZsdXhDaGFuZ2UgPiB0aGlzLnNldHRpbmdzLnNwZWN0cmFsRmx1eFRocmVzaG9sZCAmJlxuICAgICAgICAgICAgdGhpcy5jYW5BZGRFdmVudCgnYmVhdHMnLCB0aW1lc3RhbXApKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMuYmVhdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50Rmx1eCxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZsdXhDaGFuZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgc3BlY3RydW0gZXZlbnRzXG4gICAgICAgIGNvbnN0IHByZXZGbGF0bmVzcyA9IHRoaXMuZmVhdHVyZUhpc3Rvcnkuc3BlY3RyYWxGbGF0bmVzcy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUhpc3Rvcnkuc3BlY3RyYWxGbGF0bmVzc1t0aGlzLmZlYXR1cmVIaXN0b3J5LnNwZWN0cmFsRmxhdG5lc3MubGVuZ3RoIC0gMV0udmFsdWUgOiAwO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhmZWF0dXJlcy5zcGVjdHJhbEZsYXRuZXNzIC0gcHJldkZsYXRuZXNzKSA+IDAuMiAmJlxuICAgICAgICAgICAgdGhpcy5jYW5BZGRFdmVudCgnc3BlY3RydW1FdmVudHMnLCB0aW1lc3RhbXApKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMuc3BlY3RydW1FdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIGZsYXRuZXNzOiBmZWF0dXJlcy5zcGVjdHJhbEZsYXRuZXNzLFxuICAgICAgICAgICAgICAgIHNwcmVhZDogZmVhdHVyZXMucGVyY2VwdHVhbFNwcmVhZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB3ZSBjYW4gYWRkIGEgdHJhbnNpZW50IGV2ZW50IChhdm9pZCBkdXBsaWNhdGVzIGNsb3NlIGluIHRpbWUpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVzdGFtcCAtIEN1cnJlbnQgdGltZXN0YW1wXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gVHJ1ZSBpZiB0cmFuc2llbnQgY2FuIGJlIGFkZGVkXG4gICAgICovXG4gICAgY2FuQWRkVHJhbnNpZW50KHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCBtaW5UaW1lID0gdGhpcy5zZXR0aW5ncy5vbnNldE1pbkludGVydmFsOyAgLy8gVXNlIHNob3J0ZXIgaW50ZXJ2YWwgZm9yIHRyYW5zaWVudHNcbiAgICAgICAgY29uc3QgbGFzdEV2ZW50ID0gdGhpcy5yZXN1bHRzLnRyYW5zaWVudHNbdGhpcy5yZXN1bHRzLnRyYW5zaWVudHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKCFsYXN0RXZlbnQpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gKHRpbWVzdGFtcCAtIGxhc3RFdmVudC50aW1lKSA+IG1pblRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgd2UgY2FuIGFkZCBhbiBldmVudCAoYXZvaWQgZHVwbGljYXRlcyBjbG9zZSBpbiB0aW1lKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGUgLSBUeXBlIG9mIGV2ZW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVzdGFtcCAtIEN1cnJlbnQgdGltZXN0YW1wXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gVHJ1ZSBpZiBldmVudCBjYW4gYmUgYWRkZWRcbiAgICAgKi9cbiAgICBjYW5BZGRFdmVudChldmVudFR5cGUsIHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCBtaW5UaW1lID0gdGhpcy5zZXR0aW5ncy5taW5UaW1lQmV0d2VlbkV2ZW50cztcbiAgICAgICAgY29uc3QgbGFzdEV2ZW50ID0gdGhpcy5yZXN1bHRzW2V2ZW50VHlwZV1bdGhpcy5yZXN1bHRzW2V2ZW50VHlwZV0ubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKCFsYXN0RXZlbnQpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gKHRpbWVzdGFtcCAtIGxhc3RFdmVudC50aW1lKSA+IG1pblRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhbmFseXNpcyByZXN1bHRzIHRvIGZpbmQgc2lnbmlmaWNhbnQgZXZlbnRzXG4gICAgICovXG4gICAgcHJvY2Vzc0FuYWx5c2lzUmVzdWx0cygpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcgZmluYWwgYW5hbHlzaXMgcmVzdWx0cy4uLicpO1xuXG4gICAgICAgIC8vIFNvcnQgYWxsIGV2ZW50cyBieSB0aW1lc3RhbXBcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5yZXN1bHRzKS5mb3JFYWNoKGV2ZW50VHlwZSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnJlc3VsdHNbZXZlbnRUeXBlXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHNbZXZlbnRUeXBlXS5zb3J0KChhLCBiKSA9PiBhLnRpbWUgLSBiLnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZXRlY3QgZHJvcHMgKGNvbWJpbmF0aW9uIG9mIGVuZXJneSBzcGlrZSBhbmQgYmFzcyBpbmNyZWFzZSlcbiAgICAgICAgdGhpcy5kZXRlY3REcm9wcygpO1xuXG4gICAgICAgIC8vIEZpbmFsIGJlYXQgdHJhY2tpbmcgdG8gY3JlYXRlIGEgY29tcGxldGUgYmVhdCBncmlkXG4gICAgICAgIHRoaXMuZmluYWxpemVSaHl0aG1BbmFseXNpcygpO1xuXG4gICAgICAgIC8vIENsZWFuIHVwIHJlc3VsdHMgKHJlbW92ZSByZWR1bmRhbnQgZXZlbnRzKVxuICAgICAgICB0aGlzLmNsZWFudXBSZXN1bHRzKCk7XG5cbiAgICAgICAgLy8gTG9nIGRldGVjdGlvbiByZXN1bHRzXG4gICAgICAgIGNvbnNvbGUubG9nKCdBbmFseXNpcyBwcm9jZXNzaW5nIGNvbXBsZXRlJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZDonKTtcbiAgICAgICAgY29uc29sZS5sb2coYC0gJHt0aGlzLnJlc3VsdHMuZHJvcHMubGVuZ3RofSBkcm9wc2ApO1xuICAgICAgICBjb25zb2xlLmxvZyhgLSAke3RoaXMucmVzdWx0cy5iZWF0cy5sZW5ndGh9IGJlYXRzYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtICR7dGhpcy5yZXN1bHRzLnRyYW5zaWVudHMubGVuZ3RofSB0cmFuc2llbnRzIChvbnNldHMpYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtICR7dGhpcy5yZXN1bHRzLmJlYXRHcmlkLmxlbmd0aH0gYmVhdCBncmlkIHBvc2l0aW9uc2ApO1xuICAgICAgICBjb25zb2xlLmxvZyhgLSAke3RoaXMucmVzdWx0cy5keW5hbWljQ2hhbmdlcy5sZW5ndGh9IGR5bmFtaWMgY2hhbmdlc2ApO1xuICAgICAgICBjb25zb2xlLmxvZyhgLSAke3RoaXMucmVzdWx0cy50aW1icmVDaGFuZ2VzLmxlbmd0aH0gdGltYnJlIGNoYW5nZXNgKTtcbiAgICAgICAgY29uc29sZS5sb2coYC0gJHt0aGlzLnJlc3VsdHMubG93RnJlcXVlbmN5RXZlbnRzLmxlbmd0aH0gYmFzcyBldmVudHNgKTtcbiAgICAgICAgY29uc29sZS5sb2coYC0gJHt0aGlzLnJlc3VsdHMubWlkUmFuZ2VFdmVudHMubGVuZ3RofSBtaWQtcmFuZ2UgZXZlbnRzYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtICR7dGhpcy5yZXN1bHRzLmhpZ2hGcmVxdWVuY3lFdmVudHMubGVuZ3RofSBoaWdoLWZyZXF1ZW5jeSBldmVudHNgKTtcblxuICAgICAgICAvLyBMb2cgdGVtcG8gaWYgZGV0ZWN0ZWRcbiAgICAgICAgaWYgKHRoaXMuYmVhdFRyYWNrZXIudGVtcG8gPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRGV0ZWN0ZWQgdGVtcG86ICR7dGhpcy5iZWF0VHJhY2tlci50ZW1wb30gQlBNIChjb25maWRlbmNlOiAke3RoaXMuYmVhdFRyYWNrZXIuY29uZmlkZW5jZS50b0ZpeGVkKDIpfSlgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmFsaXplIHJoeXRobSBhbmFseXNpcyBhbmQgY29tcGxldGUgdGhlIGJlYXQgZ3JpZFxuICAgICAqL1xuICAgIGZpbmFsaXplUmh5dGhtQW5hbHlzaXMoKSB7XG4gICAgICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSBhIGdvb2QgYmVhdCBncmlkLCBrZWVwIGl0XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdHMuYmVhdEdyaWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGV4aXN0aW5nIGJlYXQgZ3JpZCB3aXRoJywgdGhpcy5yZXN1bHRzLmJlYXRHcmlkLmxlbmd0aCwgJ2JlYXRzJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGJlYXQgdHJhY2tlciBkYXRhIHdpdGggY29uZmlkZW5jZSwgdXNlIGl0XG4gICAgICAgIGlmICh0aGlzLmJlYXRUcmFja2VyLmNvbmZpZGVuY2UgPiAwLjUgJiYgdGhpcy5iZWF0VHJhY2tlci50ZW1wbyA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBiZWF0IGdyaWQgZnJvbSBiZWF0IHRyYWNrZXIgZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgYmVhdEludGVydmFsID0gNjAgLyB0aGlzLmJlYXRUcmFja2VyLnRlbXBvO1xuXG4gICAgICAgICAgICAvLyBHZXQgdHJhY2sgZHVyYXRpb24gZnJvbSBmZWF0dXJlIGhpc3RvcnlcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3kubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3lbdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3kubGVuZ3RoIC0gMV0udGltZVxuICAgICAgICAgICAgICAgIDogNjA7IC8vIERlZmF1bHQgdG8gNjAgc2Vjb25kcyBpZiB1bmtub3duXG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBiZWF0IGdyaWRcbiAgICAgICAgICAgIGxldCBiZWF0VGltZSA9IDA7XG4gICAgICAgICAgICBsZXQgYmVhdENvdW50ID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKGJlYXRUaW1lIDwgZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHMuYmVhdEdyaWQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGJlYXRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBiZWF0OiBiZWF0Q291bnQgJSA0LFxuICAgICAgICAgICAgICAgICAgICBiYXI6IE1hdGguZmxvb3IoYmVhdENvdW50IC8gNCksXG4gICAgICAgICAgICAgICAgICAgIGludGVuc2l0eTogYmVhdENvdW50ICUgNCA9PT0gMCA/IDEuMCA6IDAuN1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYmVhdFRpbWUgKz0gYmVhdEludGVydmFsO1xuICAgICAgICAgICAgICAgIGJlYXRDb3VudCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBiZWF0IGdyaWQgd2l0aCAke3RoaXMucmVzdWx0cy5iZWF0R3JpZC5sZW5ndGh9IGJlYXRzIGF0ICR7dGhpcy5iZWF0VHJhY2tlci50ZW1wb30gQlBNYCk7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHRlbXBvIGluZm9ybWF0aW9uXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMudGVtcG8gPSB7XG4gICAgICAgICAgICAgICAgYnBtOiB0aGlzLmJlYXRUcmFja2VyLnRlbXBvLFxuICAgICAgICAgICAgICAgIGJlYXRJbnRlcnZhbDogYmVhdEludGVydmFsLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IHRoaXMuYmVhdFRyYWNrZXIuY29uZmlkZW5jZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gdHJhZGl0aW9uYWwgcmh5dGhtIGFuYWx5c2lzIGZyb20gZGV0ZWN0Umh5dGhtTWFya2Vyc1xuICAgICAgICAvLyBidXQgd2l0aCBlbmhhbmNlbWVudHMgdG8gY3JlYXRlIGEgY29tcGxldGUgYmVhdCBncmlkXG5cbiAgICAgICAgLy8gRmlyc3QgdHJ5IHVzaW5nIHRoZSBiZWF0cyBhcnJheSBpZiB3ZSBoYXZlIGVub3VnaFxuICAgICAgICBpZiAodGhpcy5yZXN1bHRzLmJlYXRzLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0Umh5dGhtTWFya2VycygpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBzdGlsbCBkb24ndCBoYXZlIGEgdGVtcG8sIHRyeSB3aXRoIHRyYW5zaWVudHNcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXN1bHRzLnRlbXBvICYmIHRoaXMucmVzdWx0cy50cmFuc2llbnRzLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgdHJhbnNpZW50cyBmb3IgdGVtcG8gZGV0ZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNpZW50VGltZXMgPSB0aGlzLnJlc3VsdHMudHJhbnNpZW50cy5tYXAodCA9PiB0LnRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0ZWN0VGVtcG9Gcm9tVGltZXN0YW1wcyh0cmFuc2llbnRUaW1lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXN1bHRzLnRyYW5zaWVudHMubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgLy8gVXNlIHRyYW5zaWVudHMgZGlyZWN0bHlcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaWVudFRpbWVzID0gdGhpcy5yZXN1bHRzLnRyYW5zaWVudHMubWFwKHQgPT4gdC50aW1lKTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0VGVtcG9Gcm9tVGltZXN0YW1wcyh0cmFuc2llbnRUaW1lcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgdGVtcG8sIGNyZWF0ZSBhIGJlYXQgZ3JpZFxuICAgICAgICBpZiAodGhpcy5yZXN1bHRzLnRlbXBvICYmIHRoaXMucmVzdWx0cy50ZW1wby5icG0gPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgYmVhdCBncmlkIGZyb20gZGV0ZWN0ZWQgdGVtcG86JywgdGhpcy5yZXN1bHRzLnRlbXBvLmJwbSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3kubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3lbdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3kubGVuZ3RoIC0gMV0udGltZVxuICAgICAgICAgICAgICAgIDogNjA7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBiZWF0IGdyaWRcbiAgICAgICAgICAgIGxldCBiZWF0VGltZSA9IDA7XG4gICAgICAgICAgICBsZXQgYmVhdENvdW50ID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKGJlYXRUaW1lIDwgZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHMuYmVhdEdyaWQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGJlYXRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBiZWF0OiBiZWF0Q291bnQgJSA0LFxuICAgICAgICAgICAgICAgICAgICBiYXI6IE1hdGguZmxvb3IoYmVhdENvdW50IC8gNCksXG4gICAgICAgICAgICAgICAgICAgIGludGVuc2l0eTogYmVhdENvdW50ICUgNCA9PT0gMCA/IDEuMCA6IDAuN1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYmVhdFRpbWUgKz0gdGhpcy5yZXN1bHRzLnRlbXBvLmJlYXRJbnRlcnZhbDtcbiAgICAgICAgICAgICAgICBiZWF0Q291bnQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgYmVhdCBncmlkIHdpdGggJHt0aGlzLnJlc3VsdHMuYmVhdEdyaWQubGVuZ3RofSBiZWF0c2ApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgZGV0ZWN0IHJlbGlhYmxlIHRlbXBvIGZvciBiZWF0IGdyaWQgY3JlYXRpb24nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVjdCB0ZW1wbyBmcm9tIGEgc2VyaWVzIG9mIHRpbWVzdGFtcHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0aW1lc3RhbXBzIC0gQXJyYXkgb2YgdGltZSBwb3NpdGlvbnNcbiAgICAgKi9cbiAgICBkZXRlY3RUZW1wb0Zyb21UaW1lc3RhbXBzKHRpbWVzdGFtcHMpIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoIDwgNCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGludGVydmFscyA9IFtdO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlcnZhbHMgYmV0d2VlbiBjb25zZWN1dGl2ZSBldmVudHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aW1lc3RhbXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnRlcnZhbHMucHVzaCh0aW1lc3RhbXBzW2ldIC0gdGltZXN0YW1wc1tpIC0gMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluZCB0aGUgbW9zdCBjb21tb24gaW50ZXJ2YWwgKHRlbXBvKVxuICAgICAgICBjb25zdCB0ZW1wb01hcCA9IHt9O1xuICAgICAgICBpbnRlcnZhbHMuZm9yRWFjaChpbnRlcnZhbCA9PiB7XG4gICAgICAgICAgICAvLyBSb3VuZCB0byBuZWFyZXN0IDEwbXMgZm9yIGJpbm5pbmdcbiAgICAgICAgICAgIGNvbnN0IHJvdW5kZWRJbnRlcnZhbCA9IE1hdGgucm91bmQoaW50ZXJ2YWwgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgdGVtcG9NYXBbcm91bmRlZEludGVydmFsXSA9ICh0ZW1wb01hcFtyb3VuZGVkSW50ZXJ2YWxdIHx8IDApICsgMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgbW9zdCBjb21tb24gdGVtcG9cbiAgICAgICAgbGV0IGRvbWluYW50VGVtcG8gPSAwO1xuICAgICAgICBsZXQgbWF4Q291bnQgPSAwO1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRlbXBvTWFwKS5mb3JFYWNoKChbdGVtcG8sIGNvdW50XSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gbWF4Q291bnQpIHtcbiAgICAgICAgICAgICAgICBtYXhDb3VudCA9IGNvdW50O1xuICAgICAgICAgICAgICAgIGRvbWluYW50VGVtcG8gPSBwYXJzZUZsb2F0KHRlbXBvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBCUE1cbiAgICAgICAgY29uc3QgYnBtID0gZG9taW5hbnRUZW1wbyA+IDAgPyBNYXRoLnJvdW5kKDYwIC8gZG9taW5hbnRUZW1wbykgOiAwO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBCUE0gaXMgcmVhc29uYWJsZVxuICAgICAgICBpZiAoYnBtID49IDYwICYmIGJwbSA8PSAyMDApIHtcbiAgICAgICAgICAgIC8vIFN0b3JlIHRlbXBvIGluZm9ybWF0aW9uXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMudGVtcG8gPSB7XG4gICAgICAgICAgICAgICAgYnBtOiBicG0sXG4gICAgICAgICAgICAgICAgYmVhdEludGVydmFsOiBkb21pbmFudFRlbXBvLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IG1heENvdW50IC8gaW50ZXJ2YWxzLmxlbmd0aFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coYERldGVjdGVkIHRlbXBvOiAke2JwbX0gQlBNIChjb25maWRlbmNlOiAkeyhtYXhDb3VudCAvIGludGVydmFscy5sZW5ndGgpLnRvRml4ZWQoMil9KWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbnJlbGlhYmxlIHRlbXBvIGRldGVjdGVkOiAke2JwbX0gQlBNIC0gaWdub3JpbmdgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVjdCBkcm9wcyAoc2lnbmlmaWNhbnQgY2hhbmdlcyBpbiBlbmVyZ3ksIGVzcGVjaWFsbHkgaW4gbG93IGZyZXF1ZW5jaWVzKVxuICAgICAqL1xuICAgIGRldGVjdERyb3BzKCkge1xuICAgICAgICBjb25zdCBkcm9wQ2FuZGlkYXRlcyA9IFtdO1xuXG4gICAgICAgIC8vIEZpbmQgaGlnaCBlbmVyZ3kgbW9tZW50cyB0aGF0IGFsc28gaGF2ZSBiYXNzIHByZXNlbmNlXG4gICAgICAgIGZvciAoY29uc3QgZW5lcmd5UGVhayBvZiB0aGlzLnJlc3VsdHMuZW5lcmd5UGVha3MpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmJ5IGJhc3MgZXZlbnRzXG4gICAgICAgICAgICBjb25zdCBuZWFyYnlCYXNzID0gdGhpcy5yZXN1bHRzLmxvd0ZyZXF1ZW5jeUV2ZW50cy5maW5kKGJhc3NFdmVudCA9PlxuICAgICAgICAgICAgICAgIE1hdGguYWJzKGJhc3NFdmVudC50aW1lIC0gZW5lcmd5UGVhay50aW1lKSA8IDAuMVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKG5lYXJieUJhc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhIGRyb3BcbiAgICAgICAgICAgICAgICBkcm9wQ2FuZGlkYXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogZW5lcmd5UGVhay50aW1lLFxuICAgICAgICAgICAgICAgICAgICBlbmVyZ3k6IGVuZXJneVBlYWsudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGJhc3NFbmVyZ3k6IG5lYXJieUJhc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IGVuZXJneVBlYWsuY2hhbmdlICogKG5lYXJieUJhc3MudmFsdWUgLyAyKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBieSBjb25maWRlbmNlIGFuZCBrZWVwIG9ubHkgc2lnbmlmaWNhbnQgZHJvcHNcbiAgICAgICAgZHJvcENhbmRpZGF0ZXMuc29ydCgoYSwgYikgPT4gYi5jb25maWRlbmNlIC0gYS5jb25maWRlbmNlKTtcblxuICAgICAgICAvLyBPbmx5IGtlZXAgZHJvcHMgdGhhdCBhcmUgYXQgbGVhc3QgMiBzZWNvbmRzIGFwYXJ0XG4gICAgICAgIGNvbnN0IHNpZ25pZmljYW50RHJvcHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkcm9wIG9mIGRyb3BDYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICBpZiAoIXNpZ25pZmljYW50RHJvcHMuc29tZShleGlzdGluZ0Ryb3AgPT5cbiAgICAgICAgICAgICAgICBNYXRoLmFicyhleGlzdGluZ0Ryb3AudGltZSAtIGRyb3AudGltZSkgPCAyXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgc2lnbmlmaWNhbnREcm9wcy5wdXNoKGRyb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXN1bHRzLmRyb3BzID0gc2lnbmlmaWNhbnREcm9wcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3Qgcmh5dGhtIG1hcmtlcnMgKHJlcGVhdGVkIGJlYXQgcGF0dGVybnMpXG4gICAgICovXG4gICAgZGV0ZWN0Umh5dGhtTWFya2VycygpIHtcbiAgICAgICAgLy8gU2ltcGxlIHJoeXRobSBkZXRlY3Rpb24gYmFzZWQgb24gY29uc2lzdGVudCBiZWF0IGludGVydmFsc1xuICAgICAgICBpZiAodGhpcy5yZXN1bHRzLmJlYXRzLmxlbmd0aCA8IDQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBiZWF0VGltZXMgPSB0aGlzLnJlc3VsdHMuYmVhdHMubWFwKGJlYXQgPT4gYmVhdC50aW1lKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxzID0gW107XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGludGVydmFscyBiZXR3ZWVuIGNvbnNlY3V0aXZlIGJlYXRzXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYmVhdFRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbnRlcnZhbHMucHVzaChiZWF0VGltZXNbaV0gLSBiZWF0VGltZXNbaSAtIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmQgdGhlIG1vc3QgY29tbW9uIGludGVydmFsICh0ZW1wbylcbiAgICAgICAgY29uc3QgdGVtcG9NYXAgPSB7fTtcbiAgICAgICAgaW50ZXJ2YWxzLmZvckVhY2goaW50ZXJ2YWwgPT4ge1xuICAgICAgICAgICAgLy8gUm91bmQgdG8gbmVhcmVzdCAxMG1zIGZvciBiaW5uaW5nXG4gICAgICAgICAgICBjb25zdCByb3VuZGVkSW50ZXJ2YWwgPSBNYXRoLnJvdW5kKGludGVydmFsICogMTAwKSAvIDEwMDtcbiAgICAgICAgICAgIHRlbXBvTWFwW3JvdW5kZWRJbnRlcnZhbF0gPSAodGVtcG9NYXBbcm91bmRlZEludGVydmFsXSB8fCAwKSArIDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIG1vc3QgY29tbW9uIHRlbXBvXG4gICAgICAgIGxldCBkb21pbmFudFRlbXBvID0gMDtcbiAgICAgICAgbGV0IG1heENvdW50ID0gMDtcblxuICAgICAgICBPYmplY3QuZW50cmllcyh0ZW1wb01hcCkuZm9yRWFjaCgoW3RlbXBvLCBjb3VudF0pID0+IHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IG1heENvdW50KSB7XG4gICAgICAgICAgICAgICAgbWF4Q291bnQgPSBjb3VudDtcbiAgICAgICAgICAgICAgICBkb21pbmFudFRlbXBvID0gcGFyc2VGbG9hdCh0ZW1wbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgQlBNXG4gICAgICAgIGNvbnN0IGJwbSA9IGRvbWluYW50VGVtcG8gPiAwID8gTWF0aC5yb3VuZCg2MCAvIGRvbWluYW50VGVtcG8pIDogMDtcblxuICAgICAgICAvLyBTdG9yZSByaHl0aG0gaW5mb3JtYXRpb25cbiAgICAgICAgaWYgKGJwbSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy50ZW1wbyA9IHtcbiAgICAgICAgICAgICAgICBicG06IGJwbSxcbiAgICAgICAgICAgICAgICBiZWF0SW50ZXJ2YWw6IGRvbWluYW50VGVtcG9cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1hcmsgZG93bmJlYXRzIChldmVyeSA0IGJlYXRzIGFzc3VtaW5nIDQvNCB0aW1lKVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRCZWF0ID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50QmVhdCA8IGJlYXRUaW1lc1tiZWF0VGltZXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHMucmh5dGhtTWFya2Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogY3VycmVudEJlYXQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdiZWF0JyxcbiAgICAgICAgICAgICAgICAgICAgYmVhdE51bWJlcjogdGhpcy5yZXN1bHRzLnJoeXRobU1hcmtlcnMubGVuZ3RoICUgNFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCZWF0ICs9IGRvbWluYW50VGVtcG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCByZWR1bmRhbnQgcmVzdWx0c1xuICAgICAqL1xuICAgIGNsZWFudXBSZXN1bHRzKCkge1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IGR1cGxpY2F0ZSBldmVudHMgdGhhdCBhcmUgdmVyeSBjbG9zZSBpbiB0aW1lXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMucmVzdWx0cykuZm9yRWFjaChldmVudFR5cGUgPT4ge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5yZXN1bHRzW2V2ZW50VHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCBpZiB0aGVyZSBhcmUgbm8gaXRlbXNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN1bHRzW2V2ZW50VHlwZV0ubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFt0aGlzLnJlc3VsdHNbZXZlbnRUeXBlXVswXV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucmVzdWx0c1tldmVudFR5cGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnJlc3VsdHNbZXZlbnRUeXBlXVtpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IGZpbHRlcmVkW2ZpbHRlcmVkLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGV2ZW50cyBhcmUgc2VwYXJhdGVkIGVub3VnaCwga2VlcCBib3RoXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LnRpbWUgLSBsYXN0LnRpbWUgPiB0aGlzLnNldHRpbmdzLm1pblRpbWVCZXR3ZWVuRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwga2VlcCB0aGUgc3Ryb25nZXIgb25lXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQudmFsdWUgPiBsYXN0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFtmaWx0ZXJlZC5sZW5ndGggLSAxXSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHNbZXZlbnRUeXBlXSA9IGZpbHRlcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmFseXNpcyByZXN1bHRzXG4gICAgICovXG4gICAgcmVzZXRSZXN1bHRzKCkge1xuICAgICAgICB0aGlzLnJlc3VsdHMgPSB7XG4gICAgICAgICAgICBkcm9wczogW10sXG4gICAgICAgICAgICBiZWF0czogW10sXG4gICAgICAgICAgICBlbmVyZ3lQZWFrczogW10sXG4gICAgICAgICAgICBzcGVjdHJ1bUV2ZW50czogW10sXG4gICAgICAgICAgICByaHl0aG1NYXJrZXJzOiBbXSxcbiAgICAgICAgICAgIGxvd0ZyZXF1ZW5jeUV2ZW50czogW10sXG4gICAgICAgICAgICAvLyBSZXNldCBuZXcgZXZlbnQgdHlwZXNcbiAgICAgICAgICAgIHRyYW5zaWVudHM6IFtdLFxuICAgICAgICAgICAgYmVhdEdyaWQ6IFtdLFxuICAgICAgICAgICAgbWlkUmFuZ2VFdmVudHM6IFtdLFxuICAgICAgICAgICAgaGlnaEZyZXF1ZW5jeUV2ZW50czogW10sXG4gICAgICAgICAgICB0aW1icmVDaGFuZ2VzOiBbXSxcbiAgICAgICAgICAgIGR5bmFtaWNDaGFuZ2VzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZmVhdHVyZUhpc3RvcnkpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZUhpc3Rvcnlba2V5XSA9IFtdO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXNldCBiZWF0IHRyYWNrZXJcbiAgICAgICAgdGhpcy5iZWF0VHJhY2tlciA9IHtcbiAgICAgICAgICAgIGxhc3RCZWF0VGltZTogMCxcbiAgICAgICAgICAgIGJlYXRJbnRlcnZhbHM6IFtdLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogMCxcbiAgICAgICAgICAgIHRlbXBvOiAwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcCBvbmdvaW5nIGFuYWx5c2lzXG4gICAgICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pc0FuYWx5emluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5hdWRpb1NvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5hdWRpb1NvdXJjZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZm9ybWF0dGVkIHJlc3VsdHMgZm9yIGFuaW1hdGlvbiB1c2VcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3JtYXR0ZWQgcmVzdWx0cyB3aXRoIHRpbWVzdGFtcHNcbiAgICAgKi9cbiAgICBnZXRGb3JtYXR0ZWRSZXN1bHRzKCkge1xuICAgICAgICAvLyBDcmVhdGUgYSB0aW1lbGluZSBvZiBhbGwgc2lnbmlmaWNhbnQgZXZlbnRzXG4gICAgICAgIGNvbnN0IHRpbWVsaW5lID0gW107XG5cbiAgICAgICAgLy8gQWRkIGRyb3BzIChtb3N0IGltcG9ydGFudClcbiAgICAgICAgdGhpcy5yZXN1bHRzLmRyb3BzLmZvckVhY2goZHJvcCA9PiB7XG4gICAgICAgICAgICB0aW1lbGluZS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aW1lOiBkcm9wLnRpbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Ryb3AnLFxuICAgICAgICAgICAgICAgIGludGVuc2l0eTogZHJvcC5jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3RlZEFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBzcGVlZDogMS41ICsgKGRyb3AuY29uZmlkZW5jZSAvIDIpLCAvLyBJbmNyZWFzZSBzcGVlZCBiYXNlZCBvbiBpbnRlbnNpdHlcbiAgICAgICAgICAgICAgICAgICAgYm91bmNlRmFjdG9yOiAwLjQsXG4gICAgICAgICAgICAgICAgICAgIGFkZFJvdGF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbkFtb3VudDogTWF0aC5QSSAqIDIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogOFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgdHJhbnNpZW50cyAob25zZXRzKVxuICAgICAgICB0aGlzLnJlc3VsdHMudHJhbnNpZW50cy5mb3JFYWNoKHRyYW5zaWVudCA9PiB7XG4gICAgICAgICAgICAvLyBEaWZmZXJlbnQgYW5pbWF0aW9uIHN1Z2dlc3Rpb25zIGJhc2VkIG9uIGZyZXF1ZW5jeSBiYW5kXG4gICAgICAgICAgICBsZXQgYW5pbVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBzcGVlZDogMS4yICsgKHRyYW5zaWVudC5pbnRlbnNpdHkgLyA0KSxcbiAgICAgICAgICAgICAgICBib3VuY2VGYWN0b3I6IDAuMyxcbiAgICAgICAgICAgICAgICBzZXF1ZW50aWFsOiB0cmFuc2llbnQuZG9taW5hbnRCYW5kICE9PSAnbG93JywgLy8gU2VxdWVudGlhbCBmb3IgbWlkL2hpZ2hcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMgKyAodHJhbnNpZW50LmludGVuc2l0eSksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDdXN0b21pemUgYmFzZWQgb24gZG9taW5hbnQgZnJlcXVlbmN5IGJhbmRcbiAgICAgICAgICAgIHN3aXRjaCAodHJhbnNpZW50LmRvbWluYW50QmFuZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xvdyc6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1QYXJhbXMuYm91bmNlRmFjdG9yID0gMC41ICsgKHRyYW5zaWVudC5pbnRlbnNpdHkgLyA0KTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVBhcmFtcy5oZWlnaHQgPSA0ICsgKHRyYW5zaWVudC5pbnRlbnNpdHkgKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWlkJzpcbiAgICAgICAgICAgICAgICAgICAgYW5pbVBhcmFtcy5hZGRUaWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVBhcmFtcy5zZXF1ZW5jZURlbGF5ID0gMC4wMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaGlnaCc6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1QYXJhbXMuc3BlZWQgPSAxLjU7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1QYXJhbXMuYm91bmNlRmFjdG9yID0gMC4xNTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVBhcmFtcy5zZXF1ZW5jZURlbGF5ID0gMC4wMjtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVBhcmFtcy5oZWlnaHQgPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRyYW5zaWVudCBvYmplY3Qgd2l0aCBhbGwgb3JpZ2luYWwgcHJvcGVydGllcyBwbHVzIGFuaW1hdGlvbiBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgY29uc3QgdHJhbnNpZW50RXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgLi4udHJhbnNpZW50LCAvLyBJbmNsdWRlIEFMTCBvcmlnaW5hbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zaWVudCcsXG4gICAgICAgICAgICAgICAgc3VidHlwZTogdHJhbnNpZW50LmRvbWluYW50QmFuZCxcbiAgICAgICAgICAgICAgICBzdWdnZXN0ZWRBbmltYXRpb246IGFuaW1QYXJhbXNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRpbWVsaW5lLnB1c2godHJhbnNpZW50RXZlbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgYmVhdCBncmlkIGV2ZW50c1xuICAgICAgICB0aGlzLnJlc3VsdHMuYmVhdEdyaWQuZm9yRWFjaChiZWF0ID0+IHtcbiAgICAgICAgICAgIC8vIERpZmZlcmVudCBhbmltYXRpb24gZm9yIGRvd25iZWF0cyAoZmlyc3QgYmVhdCBvZiBiYXIpIHZzIHJlZ3VsYXIgYmVhdHNcbiAgICAgICAgICAgIGNvbnN0IGlzRG93bmJlYXQgPSBiZWF0LmJlYXQgPT09IDA7XG5cbiAgICAgICAgICAgIHRpbWVsaW5lLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IGJlYXQudGltZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZ3JpZF9iZWF0JyxcbiAgICAgICAgICAgICAgICBzdWJ0eXBlOiBpc0Rvd25iZWF0ID8gJ2Rvd25iZWF0JyA6ICdiZWF0JyxcbiAgICAgICAgICAgICAgICBpbnRlbnNpdHk6IGJlYXQuaW50ZW5zaXR5LFxuICAgICAgICAgICAgICAgIGJlYXQ6IGJlYXQuYmVhdCxcbiAgICAgICAgICAgICAgICBiYXI6IGJlYXQuYmFyLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3RlZEFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBzcGVlZDogaXNEb3duYmVhdCA/IDEuMyA6IDEuMSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmNlRmFjdG9yOiBpc0Rvd25iZWF0ID8gMC4zIDogMC4yLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGlzRG93bmJlYXQgPyA0IDogMi41LFxuICAgICAgICAgICAgICAgICAgICBzZXF1ZW50aWFsOiAhaXNEb3duYmVhdCxcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VEZWxheTogMC4wNSxcbiAgICAgICAgICAgICAgICAgICAgYWRkUm90YXRpb246IGlzRG93bmJlYXQsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uQW1vdW50OiBpc0Rvd25iZWF0ID8gTWF0aC5QSSAvIDQgOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBkeW5hbWljIGNoYW5nZXNcbiAgICAgICAgdGhpcy5yZXN1bHRzLmR5bmFtaWNDaGFuZ2VzLmZvckVhY2goY2hhbmdlID0+IHtcbiAgICAgICAgICAgIGxldCBhbmltUGFyYW1zID0ge307XG5cbiAgICAgICAgICAgIC8vIERpZmZlcmVudCBzZXR0aW5ncyBiYXNlZCBvbiBpbnRlbnNpdHkgY2F0ZWdvcnlcbiAgICAgICAgICAgIHN3aXRjaCAoY2hhbmdlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZHJhbWF0aWMnOlxuICAgICAgICAgICAgICAgICAgICBhbmltUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDEuOCArIChjaGFuZ2UuaW50ZW5zaXR5IC8gMyksXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuY2VGYWN0b3I6IDAuNDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRSb3RhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uQW1vdW50OiBNYXRoLlBJLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA3XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnc2lnbmlmaWNhbnQnOlxuICAgICAgICAgICAgICAgICAgICBhbmltUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDEuNSArIChjaGFuZ2UuaW50ZW5zaXR5IC8gNCksXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuY2VGYWN0b3I6IDAuMzUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUaWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9kZXJhdGUnOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFuaW1QYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVlZDogMS4yICsgKGNoYW5nZS5pbnRlbnNpdHkgLyA1KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5jZUZhY3RvcjogMC4yNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbnRpYWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZURlbGF5OiAwLjA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aW1lbGluZS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aW1lOiBjaGFuZ2UudGltZSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZHluYW1pY18nICsgY2hhbmdlLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGludGVuc2l0eTogY2hhbmdlLmludGVuc2l0eSxcbiAgICAgICAgICAgICAgICBzdWdnZXN0ZWRBbmltYXRpb246IGFuaW1QYXJhbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgdGltYnJlIGNoYW5nZXNcbiAgICAgICAgdGhpcy5yZXN1bHRzLnRpbWJyZUNoYW5nZXMuZm9yRWFjaCh0aW1icmUgPT4ge1xuICAgICAgICAgICAgdGltZWxpbmUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogdGltYnJlLnRpbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RpbWJyZScsXG4gICAgICAgICAgICAgICAgaW50ZW5zaXR5OiB0aW1icmUuaW50ZW5zaXR5LFxuICAgICAgICAgICAgICAgIHN1Z2dlc3RlZEFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRSb3RhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb25BbW91bnQ6IE1hdGguUEkgLyAyICogdGltYnJlLmludGVuc2l0eSxcbiAgICAgICAgICAgICAgICAgICAgY2luZW1hdGljUm90YXRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNpbmVtYXRpY1JvdGF0aW9uU3BlZWQ6IDAuMyAqIHRpbWJyZS5pbnRlbnNpdHksXG4gICAgICAgICAgICAgICAgICAgIHJhbmRvbWl6ZU9yZGVyOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBtaWQtcmFuZ2UgZXZlbnRzXG4gICAgICAgIHRoaXMucmVzdWx0cy5taWRSYW5nZUV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRpbWVsaW5lLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IGV2ZW50LnRpbWUsXG4gICAgICAgICAgICAgICAgdHlwZTogJ21pZF9yYW5nZScsXG4gICAgICAgICAgICAgICAgaW50ZW5zaXR5OiBldmVudC5jaGFuZ2UsXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGVkQW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiAxLjEgKyAoZXZlbnQuY2hhbmdlIC8gNCksXG4gICAgICAgICAgICAgICAgICAgIGJvdW5jZUZhY3RvcjogMC4yLFxuICAgICAgICAgICAgICAgICAgICBzZXF1ZW50aWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhZGRUaWx0OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBoaWdoLWZyZXF1ZW5jeSBldmVudHNcbiAgICAgICAgdGhpcy5yZXN1bHRzLmhpZ2hGcmVxdWVuY3lFdmVudHMuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICAgICAgICB0aW1lbGluZS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aW1lOiBldmVudC50aW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdoaWdoX2ZyZXEnLFxuICAgICAgICAgICAgICAgIGludGVuc2l0eTogZXZlbnQuY2hhbmdlLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3RlZEFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBzcGVlZDogMS4zICsgKGV2ZW50LmNoYW5nZSAvIDMpLFxuICAgICAgICAgICAgICAgICAgICBib3VuY2VGYWN0b3I6IDAuMSxcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVudGlhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VEZWxheTogMC4wMixcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZURyb3BPcmRlcjogTWF0aC5yYW5kb20oKSA+IDAuNSAvLyBSYW5kb20gcmV2ZXJzZSBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWxzbyBpbmNsdWRlIG9yaWdpbmFsIGV2ZW50IHR5cGVzXG4gICAgICAgIHRoaXMucmVzdWx0cy5iZWF0cy5mb3JFYWNoKGJlYXQgPT4ge1xuICAgICAgICAgICAgdGltZWxpbmUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZTogYmVhdC50aW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdiZWF0JyxcbiAgICAgICAgICAgICAgICBpbnRlbnNpdHk6IGJlYXQuY2hhbmdlLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3RlZEFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBzcGVlZDogMS4wICsgKGJlYXQuY2hhbmdlIC8gNCksXG4gICAgICAgICAgICAgICAgICAgIGJvdW5jZUZhY3RvcjogMC4yLFxuICAgICAgICAgICAgICAgICAgICBzZXF1ZW50aWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZURlbGF5OiAwLjA1XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVzdWx0cy5sb3dGcmVxdWVuY3lFdmVudHMuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICAgICAgICB0aW1lbGluZS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aW1lOiBldmVudC50aW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdiYXNzJyxcbiAgICAgICAgICAgICAgICBpbnRlbnNpdHk6IGV2ZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3RlZEFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBib3VuY2VGYWN0b3I6IDAuMyArIChldmVudC52YWx1ZSAvIDMpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUgKyAoZXZlbnQudmFsdWUgKiAyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTb3J0IGJ5IHRpbWVzdGFtcFxuICAgICAgICB0aW1lbGluZS5zb3J0KChhLCBiKSA9PiBhLnRpbWUgLSBiLnRpbWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lbGluZSxcbiAgICAgICAgICAgIHRlbXBvOiB0aGlzLnJlc3VsdHMudGVtcG8sXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3kubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3lbdGhpcy5mZWF0dXJlSGlzdG9yeS5lbmVyZ3kubGVuZ3RoIC0gMV0udGltZVxuICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgIC8vIEluY2x1ZGUgcmF3IGF1ZGlvIHNhbXBsZXMgZm9yIHdhdmVmb3JtIGRpc3BsYXlcbiAgICAgICAgICAgIGF1ZGlvRGF0YTogdGhpcy5hdWRpb0RhdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IHdhdmVmb3JtIGRhdGEgZnJvbSBhdWRpbyBidWZmZXIgZm9yIHZpc3VhbGl6YXRpb25cbiAgICAgKiBAcGFyYW0ge0F1ZGlvQnVmZmVyfSBhdWRpb0J1ZmZlciAtIFRoZSBhdWRpbyBidWZmZXJcbiAgICAgKi9cbiAgICBleHRyYWN0V2F2ZWZvcm1EYXRhKGF1ZGlvQnVmZmVyKSB7XG4gICAgICAgIC8vIERvd25zYW1wbGUgdGhlIGF1ZGlvIGRhdGEgdG8gYSByZWFzb25hYmxlIHNpemUgZm9yIHZpc3VhbGl6YXRpb25cbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGFubmVsLmxlbmd0aDtcblxuICAgICAgICAvLyBBaW0gZm9yIGFib3V0IDIwMDAtMzAwMCBwb2ludHMgZm9yIHZpc3VhbGl6YXRpb25cbiAgICAgICAgY29uc3Qgc2FtcGxlU2l6ZSA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobGVuZ3RoIC8gMjAwMCkpO1xuXG4gICAgICAgIGNvbnN0IHNhbXBsZXMgPSBbXTtcbiAgICAgICAgbGV0IG1heFNhbXBsZSA9IDA7XG5cbiAgICAgICAgLy8gR2V0IHBlYWtzIGZvciBkcmF3aW5nIHRoZSB3YXZlZm9ybVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSBzYW1wbGVTaXplKSB7XG4gICAgICAgICAgICBsZXQgbWF4ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2FtcGxlU2l6ZSAmJiBpICsgaiA8IGxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWJzID0gTWF0aC5hYnMoY2hhbm5lbFtpICsgal0pO1xuICAgICAgICAgICAgICAgIGlmIChhYnMgPiBtYXgpIG1heCA9IGFicztcbiAgICAgICAgICAgICAgICBpZiAoYWJzID4gbWF4U2FtcGxlKSBtYXhTYW1wbGUgPSBhYnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYW1wbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWU6IGkgLyBhdWRpb0J1ZmZlci5zYW1wbGVSYXRlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSB2YWx1ZXNcbiAgICAgICAgaWYgKG1heFNhbXBsZSA+IDApIHtcbiAgICAgICAgICAgIHNhbXBsZXMuZm9yRWFjaChzYW1wbGUgPT4ge1xuICAgICAgICAgICAgICAgIHNhbXBsZS52YWx1ZSA9IHNhbXBsZS52YWx1ZSAvIG1heFNhbXBsZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdWRpb0RhdGEgPSB7XG4gICAgICAgICAgICBzYW1wbGVzLFxuICAgICAgICAgICAgZHVyYXRpb246IGF1ZGlvQnVmZmVyLmR1cmF0aW9uLFxuICAgICAgICAgICAgc2FtcGxlUmF0ZTogYXVkaW9CdWZmZXIuc2FtcGxlUmF0ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIE1leWRhIGFuYWx5c2lzIGZhaWxzLCBmYWxsIGJhY2sgdG8gc2ltcGxlIGFuYWx5c2lzXG4gICAgICovXG4gICAgYXN5bmMgYW5hbHl6ZVdpdGhGYWxsYmFjayhhdWRpb0ZpbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUmVzZXQgcmVzdWx0c1xuICAgICAgICAgICAgdGhpcy5yZXNldFJlc3VsdHMoKTtcblxuICAgICAgICAgICAgLy8gTG9hZCBhdWRpbyBmaWxlXG4gICAgICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IGF3YWl0IHRoaXMubG9hZEF1ZGlvRmlsZShhdWRpb0ZpbGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExvYWRlZCBhdWRpbyBmaWxlOiAke2F1ZGlvQnVmZmVyLmR1cmF0aW9uLnRvRml4ZWQoMil9IHNlY29uZHNgKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUcnkgdGhlIHJlZ3VsYXIgYW5hbHlzaXMgZmlyc3RcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJ1bk9mZmxpbmVBbmFseXNpcyhhdWRpb0J1ZmZlcik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUmVndWxhciBhbmFseXNpcyBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBzaW1wbGUgYW5hbHlzaXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBzaW1wbGUgYW5hbHlzaXNcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJ1blNpbXBsZUFuYWx5c2lzKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgY29sbGVjdGVkIGRhdGFcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0FuYWx5c2lzUmVzdWx0cygpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYW5hbHl6aW5nIGF1ZGlvIGZpbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFuYWx5emUgd2l0aCBuZXcgdGhyZXNob2xkIHNldHRpbmdzIHVzaW5nIGNhY2hlZCBkYXRhXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG5ld1NldHRpbmdzIC0gTmV3IHRocmVzaG9sZCBzZXR0aW5nc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFJlc29sdmVzIHdpdGggdXBkYXRlZCBhbmFseXNpcyByZXN1bHRzXG4gICAgICovXG4gICAgYXN5bmMgcmVhbmFseXplV2l0aE5ld1RocmVzaG9sZHMobmV3U2V0dGluZ3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlYW5hbHl6aW5nIHdpdGggbmV3IHRocmVzaG9sZHM6JywgbmV3U2V0dGluZ3MpO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZWREYXRhLmF1ZGlvQnVmZmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNhY2hlZCBhdWRpbyBkYXRhIGF2YWlsYWJsZSBmb3IgcmVhbmFseXNpcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHNldHRpbmdzIHdpdGggbmV3IHRocmVzaG9sZHNcbiAgICAgICAgaWYgKG5ld1NldHRpbmdzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhuZXdTZXR0aW5ncykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1trZXldID0gbmV3U2V0dGluZ3Nba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IGNlcnRhaW4gcmVzdWx0cyBidXQga2VlcCBjYWNoZWQgZGF0YVxuICAgICAgICB0aGlzLnJlc3VsdHMudHJhbnNpZW50cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlZERhdGEucmF3VHJhbnNpZW50cyAmJiB0aGlzLmNhY2hlZERhdGEucmF3VHJhbnNpZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGYXN0IHBhdGg6IEp1c3QgcmUtZmlsdGVyIHRoZSBhbHJlYWR5IGRldGVjdGVkIHRyYW5zaWVudHMgd2l0aCBuZXcgdGhyZXNob2xkc1xuICAgICAgICAgICAgdGhpcy5yZWZpbHRlclRyYW5zaWVudHMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNsb3cgcGF0aDogUmVydW4gdGhlIGZ1bGwgYW5hbHlzaXNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucnVuT2ZmbGluZUFuYWx5c2lzKHRoaXMuY2FjaGVkRGF0YS5hdWRpb0J1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcm9jZXNzIHRoZSByZXN1bHRzIGFnYWluXG4gICAgICAgIHRoaXMucHJvY2Vzc0FuYWx5c2lzUmVzdWx0cygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmUtZmlsdGVyIHRyYW5zaWVudHMgd2l0aCB0aGUgdXBkYXRlZCB0aHJlc2hvbGRzXG4gICAgICogTXVjaCBmYXN0ZXIgdGhhbiBmdWxsIHJlLWFuYWx5c2lzXG4gICAgICovXG4gICAgcmVmaWx0ZXJUcmFuc2llbnRzKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnUmUtZmlsdGVyaW5nIHRyYW5zaWVudHMgd2l0aCBuZXcgdGhyZXNob2xkcycpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHdpdGggYWxsIHJhdyBkZXRlY3RlZCB0cmFuc2llbnRzXG4gICAgICAgIGNvbnN0IGFsbFBvdGVudGlhbFRyYW5zaWVudHMgPSB0aGlzLmNhY2hlZERhdGEucmF3VHJhbnNpZW50cztcblxuICAgICAgICAvLyBBcHBseSB0aGUgbmV3IHRocmVzaG9sZHNcbiAgICAgICAgYWxsUG90ZW50aWFsVHJhbnNpZW50cy5mb3JFYWNoKHRyYW5zaWVudCA9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHRyYW5zaWVudCBwYXNzZXMgdGhlIGN1cnJlbnQgdGhyZXNob2xkXG4gICAgICAgICAgICBsZXQgZXhjZWVkc0ZhY3RvciA9IDA7XG4gICAgICAgICAgICBsZXQgdGhyZXNob2xkID0gMS4wO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRyYW5zaWVudC5kb21pbmFudEJhbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdsb3cnOlxuICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLmxvd0ZyZXFPbnNldFRocmVzaG9sZDtcbiAgICAgICAgICAgICAgICAgICAgZXhjZWVkc0ZhY3RvciA9IHRyYW5zaWVudC52YWx1ZSAvIHRocmVzaG9sZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWlkJzpcbiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkID0gdGhpcy5zZXR0aW5ncy5taWRGcmVxT25zZXRUaHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2VlZHNGYWN0b3IgPSB0cmFuc2llbnQudmFsdWUgLyB0aHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hpZ2gnOlxuICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLmhpZ2hGcmVxT25zZXRUaHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2VlZHNGYWN0b3IgPSB0cmFuc2llbnQudmFsdWUgLyB0aHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCA9IHRoaXMuc2V0dGluZ3Mub25zZXRUaHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2VlZHNGYWN0b3IgPSB0cmFuc2llbnQudmFsdWUgLyB0aHJlc2hvbGQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRyYW5zaWVudCBleGNlZWRzIHRoZSBuZXcgdGhyZXNob2xkLCBhZGQgaXQgdG8gcmVzdWx0c1xuICAgICAgICAgICAgaWYgKGV4Y2VlZHNGYWN0b3IgPiAxLjApIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGludGVuc2l0eSB0byByZWZsZWN0IHRoZSBuZXcgdGhyZXNob2xkXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4udHJhbnNpZW50LCBpbnRlbnNpdHk6IGV4Y2VlZHNGYWN0b3IgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHMudHJhbnNpZW50cy5wdXNoKHVwZGF0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgQWZ0ZXIgcmUtZmlsdGVyaW5nLCBrZXB0ICR7dGhpcy5yZXN1bHRzLnRyYW5zaWVudHMubGVuZ3RofSBvdXQgb2YgJHthbGxQb3RlbnRpYWxUcmFuc2llbnRzLmxlbmd0aH0gdHJhbnNpZW50c2ApO1xuICAgIH1cbn1cblxuLy8gQ3JlYXRlIGEgc2hhcmVkIGFuYWx5emVyIGluc3RhbmNlIGZvciByZXVzZVxubGV0IHNoYXJlZEFuYWx5emVyID0gbnVsbDtcblxuLyoqXG4gKiBDcmVhdGUgYSBzaW1wbGUgYW5hbHl6ZXIgZm9yIHF1aWNrIHVzZVxuICogQHBhcmFtIHtTdHJpbmd8RmlsZX0gYXVkaW9GaWxlIC0gQXVkaW8gZmlsZSB0byBhbmFseXplXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbmFsIGFuYWx5c2lzIHNldHRpbmdzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBBbmFseXNpcyByZXN1bHRzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplQXVkaW9GaWxlKGF1ZGlvRmlsZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gQ3JlYXRlIGFuYWx5emVyIG9yIHJldXNlIGV4aXN0aW5nIG9uZVxuICAgIGlmICghc2hhcmVkQW5hbHl6ZXIpIHtcbiAgICAgICAgc2hhcmVkQW5hbHl6ZXIgPSBuZXcgQXVkaW9BbmFseXplcigpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSByZWFuYWx5c2lzIHdpdGggbmV3IHRocmVzaG9sZHNcbiAgICBjb25zdCBpc1JlYW5hbHlzaXMgPSAhYXVkaW9GaWxlICYmIG9wdGlvbnMgJiYgT2JqZWN0LmtleXMob3B0aW9ucykubGVuZ3RoID4gMDtcblxuICAgIC8vIEFwcGx5IGFueSBjdXN0b20gdGhyZXNob2xkIHNldHRpbmdzXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaWYgKHNoYXJlZEFuYWx5emVyLnNldHRpbmdzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWRBbmFseXplci5zZXR0aW5nc1trZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBpZiAoaXNSZWFuYWx5c2lzKSB7XG4gICAgICAgICAgICAvLyBKdXN0IHVwZGF0ZSB0aHJlc2hvbGRzIGFuZCByZWZpbHRlciB3aXRob3V0IGxvYWRpbmcgZmlsZSBhZ2FpblxuICAgICAgICAgICAgYXdhaXQgc2hhcmVkQW5hbHl6ZXIucmVhbmFseXplV2l0aE5ld1RocmVzaG9sZHMob3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBbmFseXplIGEgbmV3IGZpbGVcbiAgICAgICAgICAgIGF3YWl0IHNoYXJlZEFuYWx5emVyLmFuYWx5emVGaWxlKGF1ZGlvRmlsZSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJTdGFuZGFyZCBhbmFseXNpcyBmYWlsZWQsIHRyeWluZyBmYWxsYmFjayBtZXRob2Q6XCIsIGVycm9yKTtcbiAgICAgICAgLy8gSWYgdGhhdCBmYWlscywgdHJ5IHRoZSBmYWxsYmFjayBhcHByb2FjaFxuICAgICAgICBpZiAoIWlzUmVhbmFseXNpcykge1xuICAgICAgICAgICAgYXdhaXQgc2hhcmVkQW5hbHl6ZXIuYW5hbHl6ZVdpdGhGYWxsYmFjayhhdWRpb0ZpbGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaGFyZWRBbmFseXplci5nZXRGb3JtYXR0ZWRSZXN1bHRzKCk7XG59ICJdLCJuYW1lcyI6WyJNZXlkYSIsIkF1ZGlvQW5hbHl6ZXIiLCJjb25zdHJ1Y3RvciIsImF1ZGlvQ29udGV4dCIsImFuYWx5c2VyIiwiYXVkaW9Tb3VyY2UiLCJtZXlkYUFuYWx5emVyIiwiaXNBbmFseXppbmciLCJyZXN1bHRzIiwiZHJvcHMiLCJiZWF0cyIsImVuZXJneVBlYWtzIiwic3BlY3RydW1FdmVudHMiLCJyaHl0aG1NYXJrZXJzIiwibG93RnJlcXVlbmN5RXZlbnRzIiwidHJhbnNpZW50cyIsImJlYXRHcmlkIiwibWlkUmFuZ2VFdmVudHMiLCJoaWdoRnJlcXVlbmN5RXZlbnRzIiwidGltYnJlQ2hhbmdlcyIsImR5bmFtaWNDaGFuZ2VzIiwiY2FjaGVkRGF0YSIsImF1ZGlvQnVmZmVyIiwiZmVhdHVyZUhpc3RvcnkiLCJyYXdUcmFuc2llbnRzIiwic2V0dGluZ3MiLCJmZnRTaXplIiwiYnVmZmVyU2l6ZSIsImhvcFNpemUiLCJlbmVyZ3lUaHJlc2hvbGQiLCJzcGVjdHJhbEZsdXhUaHJlc2hvbGQiLCJsb3dGcmVxdWVuY3lUaHJlc2hvbGQiLCJiZWF0U2Vuc2l0aXZpdHkiLCJhbmFseXNpc1dpbmRvd1NpemUiLCJtaW5UaW1lQmV0d2VlbkV2ZW50cyIsIm9uc2V0VGhyZXNob2xkIiwib25zZXRNaW5JbnRlcnZhbCIsImxvd0ZyZXFPbnNldFRocmVzaG9sZCIsIm1pZEZyZXFPbnNldFRocmVzaG9sZCIsImhpZ2hGcmVxT25zZXRUaHJlc2hvbGQiLCJsb3dCYW5kUmFuZ2UiLCJtaWRCYW5kUmFuZ2UiLCJoaWdoQmFuZFJhbmdlIiwibW9kZXJhdGVDaGFuZ2VUaHJlc2hvbGQiLCJzaWduaWZpY2FudENoYW5nZVRocmVzaG9sZCIsImRyYW1hdGljQ2hhbmdlVGhyZXNob2xkIiwidGltYnJlQ2hhbmdlVGhyZXNob2xkIiwiZW5lcmd5Iiwic3BlY3RyYWxGbHV4IiwibG91ZG5lc3MiLCJwZXJjZXB0dWFsU3ByZWFkIiwic3BlY3RyYWxGbGF0bmVzcyIsInJtcyIsInpjciIsImxvd0JhbmRFbmVyZ3kiLCJtaWRCYW5kRW5lcmd5IiwiaGlnaEJhbmRFbmVyZ3kiLCJwcmV2aW91c0lucHV0RGF0YSIsImJlYXRUcmFja2VyIiwibGFzdEJlYXRUaW1lIiwiYmVhdEludGVydmFscyIsImNvbmZpZGVuY2UiLCJ0ZW1wbyIsImluaXQiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJjcmVhdGVBbmFseXNlciIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJhbmFseXplRmlsZSIsImF1ZGlvRmlsZSIsInJlc2V0UmVzdWx0cyIsImxvYWRBdWRpb0ZpbGUiLCJkdXJhdGlvbiIsInRvRml4ZWQiLCJleHRyYWN0V2F2ZWZvcm1EYXRhIiwicnVuT2ZmbGluZUFuYWx5c2lzIiwicHJvY2Vzc0FuYWx5c2lzUmVzdWx0cyIsImVycm9yIiwiYXVkaW9EYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsImFycmF5QnVmZmVyIiwiRmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNBcnJheUJ1ZmZlciIsIkVycm9yIiwiZGVjb2RlQXVkaW9EYXRhIiwib2ZmbGluZUNvbnRleHQiLCJPZmZsaW5lQXVkaW9Db250ZXh0IiwibnVtYmVyT2ZDaGFubmVscyIsImxlbmd0aCIsInNhbXBsZVJhdGUiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJtZXlkYUZlYXR1cmVzIiwidG90YWxTYW1wbGVzIiwiY3VycmVudFNhbXBsZSIsInN0YXJ0IiwicHJldmlvdXNTcGVjdHJ1bSIsImN1cnJlbnRUaW1lIiwiZ2V0QXVkaW9EYXRhQXRUaW1lIiwiZmVhdHVyZXMiLCJleHRyYWN0IiwidGVtcE9mZmxpbmVDb250ZXh0IiwidGVtcEFuYWx5c2VyIiwidGVtcFNvdXJjZSIsInRlbXBCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJjaGFubmVsRGF0YSIsImdldENoYW5uZWxEYXRhIiwiaSIsImZyZXF1ZW5jeURhdGEiLCJGbG9hdDMyQXJyYXkiLCJmcmVxdWVuY3lCaW5Db3VudCIsInN0YXJ0UmVuZGVyaW5nIiwidGhlbiIsImdldEZsb2F0RnJlcXVlbmN5RGF0YSIsImZsdXgiLCJwcmV2RGF0YSIsImRpZmYiLCJNYXRoIiwibWF4IiwiYWJzIiwic3FydCIsInNwZWNpZmljIiwibG93TWluIiwibG93TWF4IiwibWlkTWluIiwibWlkTWF4IiwiaGlnaE1pbiIsImhpZ2hNYXgiLCJtYXhJbmRleCIsInNsaWNlIiwibWluIiwicmVkdWNlIiwic3VtIiwidmFsIiwic3RvcmVFbmhhbmNlZEZlYXR1cmVzIiwid2FybiIsInNldFRpbWVvdXQiLCJwcm9ncmVzcyIsImZsb29yIiwic3RhcnRTYW1wbGUiLCJkYXRhIiwicmVtYWluaW5nU2FtcGxlcyIsImZpbGwiLCJ0aW1lc3RhbXAiLCJwdXNoIiwidmFsdWUiLCJ0aW1lIiwidG90YWwiLCJtYXhIaXN0b3J5IiwidHJpbUhpc3RvcnkiLCJkZXRlY3RFbmhhbmNlZEV2ZW50cyIsIm1heEl0ZW1zIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJmZWF0dXJlIiwiaGlzdG9yeSIsIndpbmRvd1NpemUiLCJyZWNlbnRFbmVyZ3kiLCJyZWNlbnRGbHV4IiwicmVjZW50TG91ZG5lc3MiLCJyZWNlbnRSTVMiLCJyZWNlbnRMb3dCYW5kIiwicmVjZW50TWlkQmFuZCIsInJlY2VudEhpZ2hCYW5kIiwicmVjZW50RmxhdG5lc3MiLCJhdmdFbmVyZ3kiLCJpdGVtIiwiYXZnRmx1eCIsImF2Z1JNUyIsImF2Z0xvd0JhbmQiLCJhdmdNaWRCYW5kIiwiYXZnSGlnaEJhbmQiLCJhdmdGbGF0bmVzcyIsImN1cnJlbnRFbmVyZ3kiLCJjdXJyZW50Rmx1eCIsImN1cnJlbnRMb3VkbmVzcyIsImN1cnJlbnRSTVMiLCJjdXJyZW50TG93QmFuZCIsImN1cnJlbnRNaWRCYW5kIiwiY3VycmVudEhpZ2hCYW5kIiwiY3VycmVudEZsYXRuZXNzIiwiZW5lcmd5Q2hhbmdlIiwiZmx1eENoYW5nZSIsInJtc0NoYW5nZSIsImxvd0JhbmRDaGFuZ2UiLCJtaWRCYW5kQ2hhbmdlIiwiaGlnaEJhbmRDaGFuZ2UiLCJmbGF0bmVzc0NoYW5nZSIsImxvd0V4Y2VlZHNGYWN0b3IiLCJtaWRFeGNlZWRzRmFjdG9yIiwiaGlnaEV4Y2VlZHNGYWN0b3IiLCJsb3dCYW5kRXhjZWVkc1RocmVzaG9sZCIsIm1pZEJhbmRFeGNlZWRzVGhyZXNob2xkIiwiaGlnaEJhbmRFeGNlZWRzVGhyZXNob2xkIiwibG93IiwibWlkIiwiaGlnaCIsImNhbkFkZFRyYW5zaWVudCIsImJhbmRzRGV0ZWN0ZWQiLCJvZmZzZXRUaW1lIiwiaW50ZW5zaXR5IiwiZG9taW5hbnRCYW5kIiwiZG9taW5hbnRWYWx1ZSIsImNhbkFkZEV2ZW50IiwiY2F0ZWdvcnkiLCJjaGFuZ2UiLCJmbGF0bmVzcyIsInNwcmVhZCIsImNlbnRyb2lkIiwic3BlY3RyYWxDZW50cm9pZCIsInByZXZGbGF0bmVzcyIsIm1pblRpbWUiLCJsYXN0RXZlbnQiLCJldmVudFR5cGUiLCJBcnJheSIsImlzQXJyYXkiLCJzb3J0IiwiYSIsImIiLCJkZXRlY3REcm9wcyIsImZpbmFsaXplUmh5dGhtQW5hbHlzaXMiLCJjbGVhbnVwUmVzdWx0cyIsImJlYXRJbnRlcnZhbCIsImJlYXRUaW1lIiwiYmVhdENvdW50IiwiYmVhdCIsImJhciIsImJwbSIsImRldGVjdFJoeXRobU1hcmtlcnMiLCJ0cmFuc2llbnRUaW1lcyIsIm1hcCIsInQiLCJkZXRlY3RUZW1wb0Zyb21UaW1lc3RhbXBzIiwidGltZXN0YW1wcyIsImludGVydmFscyIsInRlbXBvTWFwIiwiaW50ZXJ2YWwiLCJyb3VuZGVkSW50ZXJ2YWwiLCJyb3VuZCIsImRvbWluYW50VGVtcG8iLCJtYXhDb3VudCIsImVudHJpZXMiLCJjb3VudCIsInBhcnNlRmxvYXQiLCJkcm9wQ2FuZGlkYXRlcyIsImVuZXJneVBlYWsiLCJuZWFyYnlCYXNzIiwiZmluZCIsImJhc3NFdmVudCIsImJhc3NFbmVyZ3kiLCJzaWduaWZpY2FudERyb3BzIiwiZHJvcCIsInNvbWUiLCJleGlzdGluZ0Ryb3AiLCJiZWF0VGltZXMiLCJjdXJyZW50QmVhdCIsInR5cGUiLCJiZWF0TnVtYmVyIiwiZmlsdGVyZWQiLCJjdXJyZW50IiwibGFzdCIsImtleSIsInN0b3AiLCJkaXNjb25uZWN0IiwiZ2V0Rm9ybWF0dGVkUmVzdWx0cyIsInRpbWVsaW5lIiwic3VnZ2VzdGVkQW5pbWF0aW9uIiwic3BlZWQiLCJib3VuY2VGYWN0b3IiLCJhZGRSb3RhdGlvbiIsInJvdGF0aW9uQW1vdW50IiwiUEkiLCJoZWlnaHQiLCJ0cmFuc2llbnQiLCJhbmltUGFyYW1zIiwic2VxdWVudGlhbCIsImFkZFRpbHQiLCJzZXF1ZW5jZURlbGF5IiwidHJhbnNpZW50RXZlbnQiLCJzdWJ0eXBlIiwiaXNEb3duYmVhdCIsInRpbWJyZSIsImNpbmVtYXRpY1JvdGF0aW9uIiwiY2luZW1hdGljUm90YXRpb25TcGVlZCIsInJhbmRvbWl6ZU9yZGVyIiwiZXZlbnQiLCJyZXZlcnNlRHJvcE9yZGVyIiwicmFuZG9tIiwiY2hhbm5lbCIsInNhbXBsZVNpemUiLCJzYW1wbGVzIiwibWF4U2FtcGxlIiwiaiIsInNhbXBsZSIsImFuYWx5emVXaXRoRmFsbGJhY2siLCJydW5TaW1wbGVBbmFseXNpcyIsInJlYW5hbHl6ZVdpdGhOZXdUaHJlc2hvbGRzIiwibmV3U2V0dGluZ3MiLCJoYXNPd25Qcm9wZXJ0eSIsInJlZmlsdGVyVHJhbnNpZW50cyIsImFsbFBvdGVudGlhbFRyYW5zaWVudHMiLCJleGNlZWRzRmFjdG9yIiwidGhyZXNob2xkIiwidXBkYXRlZCIsInNoYXJlZEFuYWx5emVyIiwiYW5hbHl6ZUF1ZGlvRmlsZSIsIm9wdGlvbnMiLCJpc1JlYW5hbHlzaXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/audio/audioAnalyzer.js\n");

/***/ }),

/***/ "./utils/shaders/ColorfulCircles.js":
/*!******************************************!*\
  !*** ./utils/shaders/ColorfulCircles.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst colorfulCirclesShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\n// Additional uniform for offset (replaces 'm')\nuniform vec2 uOffset;\n\n// Output color\nout vec4 fragColor;\n\n// Smooth step function for transitions (from retro tunnel shader)\nfloat smootherstep(float edge0, float edge1, float x) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n}\n\nvoid main() {\n    // Normalize fragment coordinates\n    vec2 normalizedCoord = (gl_FragCoord.xy * 2.0 - uResolution) / min(uResolution.x, uResolution.y);\n    \n    // Apply audio-reactive offset\n    vec2 audioOffset = uOffset;\n    // Subtle horizontal shift with low frequencies\n    audioOffset.x += sin(uTime * 0.3) * 0.01 * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.05);\n    // Subtle vertical shift with high frequencies\n    audioOffset.y += cos(uTime * 0.4) * 0.005 * uHighEnergy * uEnergyCameraEffect * 0.05;\n    // Transient-driven micro-shifts\n    audioOffset += uTransients * uTransientIntensity * uTransientCameraEffect * 0.005;\n    \n    vec2 p = normalizedCoord - audioOffset;\n    \n    // Main loop\n    for (int i = 0; i < 8; ++i) {\n        // Compute scalar with breathing effect\n        float breathingPhase = sin(uTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * 0.01 * (1.0 + breathingPhase); // Very subtle\n        float scalar = dot(p, p) * breathingFactor;\n        // Add transient-driven expansion\n        scalar *= 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005;\n        \n        p = abs(p) / scalar;\n        \n        // Dynamic offset with audio reactivity\n        float offsetBase = 0.9 + cos(uTime * 0.2) * 0.4;\n        float offsetAudio = offsetBase * (1.0 + uEnergy * uEnergyCameraEffect * 0.01 + \n                                         uTransients * uTransientIntensity * uTransientCameraEffect * 0.005);\n        p -= vec2(offsetAudio, offsetAudio);\n    }\n    \n    // Color calculation\n    vec3 baseColor;\n    // Blend colors based on p.x and p.y\n    float colorMix = smootherstep(-1.0, 1.0, p.x + p.y);\n    if (colorMix < 0.33) {\n        baseColor = uColor1;\n    } else if (colorMix < 0.66) {\n        baseColor = uColor2;\n    } else {\n        baseColor = uColor3;\n    }\n    \n    // Subtle audio-reactive color shifts\n    if (uTransients * uTransientIntensity * uTransientColorEffect > 0.1) {\n        baseColor *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05; // Faint brightness\n    }\n    if (uLowEnergy * uEnergyColorEffect > 0.3) {\n        baseColor.r *= 1.0 + uLowEnergy * uEnergyColorEffect * 0.02; // Faint warmth\n    }\n    if (uHighEnergy * uEnergyColorEffect > 0.3) {\n        baseColor.b *= 1.0 + uHighEnergy * uEnergyColorEffect * 0.02; // Faint coolness\n    }\n    \n    // Retro post-processing\n    vec3 col = baseColor;\n    // Subtle vignette\n    vec2 q = gl_FragCoord.xy / uResolution;\n    float vignetteStrength = 0.6 + uEnergy * uEnergyColorEffect * 0.05;\n    // col *= pow(16.0 * q.x * q.y * (1.0 - q.x) * (1.0 - q.y), 0.1) * vignetteStrength + 0.4; // Disabled for subtlety\n    \n    // Subtle scanlines\n    float scanlineIntensity = 0.05 * (1.0 + uHighEnergy * uEnergyColorEffect * 0.1);\n    float scanlineStrength = 0.95 + scanlineIntensity * sin(gl_FragCoord.y * 0.5 + uTime * 0.2);\n    // col *= scanlineStrength; // Disabled for subtlety\n    \n    // Subtle glow\n    vec3 audioReactiveGlow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.1 + \n                                          uLowEnergy * uEnergyColorEffect * 0.05 + \n                                          uHighEnergy * uEnergyColorEffect * 0.05);\n    col += audioReactiveGlow * 0.2; // Very faint glow\n    \n    // Final output\n    fragColor = vec4(col * (1.0 + uEnergy * uEnergyColorEffect * 0.01), 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (colorfulCirclesShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0NvbG9yZnVsQ2lyY2xlcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsOEJBQThCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBdUhwQyxDQUFDO0FBRUYsaUVBQWVBLDJCQUEyQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9Db2xvcmZ1bENpcmNsZXMuanM/MTA3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb2xvcmZ1bENpcmNsZXNTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbi8vIFN0YW5kYXJkIHVuaWZvcm1zXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVUaW1lO1xuXG4vLyBBdWRpbyBhbmFseXNpcyB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50czsgICAvLyBCZWF0IGRldGVjdGlvblxudW5pZm9ybSBmbG9hdCB1RW5lcmd5OyAgICAgICAvLyBPdmVyYWxsIGF1ZGlvIGVuZXJneVxudW5pZm9ybSBmbG9hdCB1TG93RW5lcmd5OyAgICAvLyBMb3cgZnJlcXVlbmN5IGVuZXJneVxudW5pZm9ybSBmbG9hdCB1SGlnaEVuZXJneTsgICAvLyBIaWdoIGZyZXF1ZW5jeSBlbmVyZ3lcblxuLy8gRWZmZWN0IGludGVuc2l0eSB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50SW50ZW5zaXR5OyAgICAvLyBPdmVyYWxsIGludGVuc2l0eSBvZiB0cmFuc2llbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q2FtZXJhRWZmZWN0OyAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNvbG9yRWZmZWN0OyAgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY29sb3JzXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDYW1lcmFFZmZlY3Q7IC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7ICAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjb2xvcnNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ1JhdGU7ICAgICAgICAgLy8gQ29udHJvbHMgaG93IGZhc3QgdGhlIHR1bm5lbCBicmVhdGhlc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAgICAgICAvLyBDb250cm9scyBob3cgbXVjaCB0aGUgdHVubmVsIGV4cGFuZHMvY29udHJhY3RzXG5cbi8vIENvbG9yIHVuaWZvcm1zXG51bmlmb3JtIHZlYzMgdUNvbG9yMTtcbnVuaWZvcm0gdmVjMyB1Q29sb3IyO1xudW5pZm9ybSB2ZWMzIHVDb2xvcjM7XG51bmlmb3JtIHZlYzMgdUZvZ0NvbG9yO1xudW5pZm9ybSB2ZWMzIHVHbG93Q29sb3I7XG5cbi8vIEFkZGl0aW9uYWwgdW5pZm9ybSBmb3Igb2Zmc2V0IChyZXBsYWNlcyAnbScpXG51bmlmb3JtIHZlYzIgdU9mZnNldDtcblxuLy8gT3V0cHV0IGNvbG9yXG5vdXQgdmVjNCBmcmFnQ29sb3I7XG5cbi8vIFNtb290aCBzdGVwIGZ1bmN0aW9uIGZvciB0cmFuc2l0aW9ucyAoZnJvbSByZXRybyB0dW5uZWwgc2hhZGVyKVxuZmxvYXQgc21vb3RoZXJzdGVwKGZsb2F0IGVkZ2UwLCBmbG9hdCBlZGdlMSwgZmxvYXQgeCkge1xuICAgIHggPSBjbGFtcCgoeCAtIGVkZ2UwKSAvIChlZGdlMSAtIGVkZ2UwKSwgMC4wLCAxLjApO1xuICAgIHJldHVybiB4ICogeCAqIHggKiAoeCAqICh4ICogNi4wIC0gMTUuMCkgKyAxMC4wKTtcbn1cblxudm9pZCBtYWluKCkge1xuICAgIC8vIE5vcm1hbGl6ZSBmcmFnbWVudCBjb29yZGluYXRlc1xuICAgIHZlYzIgbm9ybWFsaXplZENvb3JkID0gKGdsX0ZyYWdDb29yZC54eSAqIDIuMCAtIHVSZXNvbHV0aW9uKSAvIG1pbih1UmVzb2x1dGlvbi54LCB1UmVzb2x1dGlvbi55KTtcbiAgICBcbiAgICAvLyBBcHBseSBhdWRpby1yZWFjdGl2ZSBvZmZzZXRcbiAgICB2ZWMyIGF1ZGlvT2Zmc2V0ID0gdU9mZnNldDtcbiAgICAvLyBTdWJ0bGUgaG9yaXpvbnRhbCBzaGlmdCB3aXRoIGxvdyBmcmVxdWVuY2llc1xuICAgIGF1ZGlvT2Zmc2V0LnggKz0gc2luKHVUaW1lICogMC4zKSAqIDAuMDEgKiAoMS4wICsgdUxvd0VuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjA1KTtcbiAgICAvLyBTdWJ0bGUgdmVydGljYWwgc2hpZnQgd2l0aCBoaWdoIGZyZXF1ZW5jaWVzXG4gICAgYXVkaW9PZmZzZXQueSArPSBjb3ModVRpbWUgKiAwLjQpICogMC4wMDUgKiB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjA1O1xuICAgIC8vIFRyYW5zaWVudC1kcml2ZW4gbWljcm8tc2hpZnRzXG4gICAgYXVkaW9PZmZzZXQgKz0gdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgIFxuICAgIHZlYzIgcCA9IG5vcm1hbGl6ZWRDb29yZCAtIGF1ZGlvT2Zmc2V0O1xuICAgIFxuICAgIC8vIE1haW4gbG9vcFxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgIC8vIENvbXB1dGUgc2NhbGFyIHdpdGggYnJlYXRoaW5nIGVmZmVjdFxuICAgICAgICBmbG9hdCBicmVhdGhpbmdQaGFzZSA9IHNpbih1VGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICAgICAgZmxvYXQgYnJlYXRoaW5nRmFjdG9yID0gMS4wICsgdUJyZWF0aGluZ0Ftb3VudCAqIDAuMDEgKiAoMS4wICsgYnJlYXRoaW5nUGhhc2UpOyAvLyBWZXJ5IHN1YnRsZVxuICAgICAgICBmbG9hdCBzY2FsYXIgPSBkb3QocCwgcCkgKiBicmVhdGhpbmdGYWN0b3I7XG4gICAgICAgIC8vIEFkZCB0cmFuc2llbnQtZHJpdmVuIGV4cGFuc2lvblxuICAgICAgICBzY2FsYXIgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgICAgICBcbiAgICAgICAgcCA9IGFicyhwKSAvIHNjYWxhcjtcbiAgICAgICAgXG4gICAgICAgIC8vIER5bmFtaWMgb2Zmc2V0IHdpdGggYXVkaW8gcmVhY3Rpdml0eVxuICAgICAgICBmbG9hdCBvZmZzZXRCYXNlID0gMC45ICsgY29zKHVUaW1lICogMC4yKSAqIDAuNDtcbiAgICAgICAgZmxvYXQgb2Zmc2V0QXVkaW8gPSBvZmZzZXRCYXNlICogKDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMSArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0ICogMC4wMDUpO1xuICAgICAgICBwIC09IHZlYzIob2Zmc2V0QXVkaW8sIG9mZnNldEF1ZGlvKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ29sb3IgY2FsY3VsYXRpb25cbiAgICB2ZWMzIGJhc2VDb2xvcjtcbiAgICAvLyBCbGVuZCBjb2xvcnMgYmFzZWQgb24gcC54IGFuZCBwLnlcbiAgICBmbG9hdCBjb2xvck1peCA9IHNtb290aGVyc3RlcCgtMS4wLCAxLjAsIHAueCArIHAueSk7XG4gICAgaWYgKGNvbG9yTWl4IDwgMC4zMykge1xuICAgICAgICBiYXNlQ29sb3IgPSB1Q29sb3IxO1xuICAgIH0gZWxzZSBpZiAoY29sb3JNaXggPCAwLjY2KSB7XG4gICAgICAgIGJhc2VDb2xvciA9IHVDb2xvcjI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUNvbG9yID0gdUNvbG9yMztcbiAgICB9XG4gICAgXG4gICAgLy8gU3VidGxlIGF1ZGlvLXJlYWN0aXZlIGNvbG9yIHNoaWZ0c1xuICAgIGlmICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgPiAwLjEpIHtcbiAgICAgICAgYmFzZUNvbG9yICo9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDU7IC8vIEZhaW50IGJyaWdodG5lc3NcbiAgICB9XG4gICAgaWYgKHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgPiAwLjMpIHtcbiAgICAgICAgYmFzZUNvbG9yLnIgKj0gMS4wICsgdUxvd0VuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDI7IC8vIEZhaW50IHdhcm10aFxuICAgIH1cbiAgICBpZiAodUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgPiAwLjMpIHtcbiAgICAgICAgYmFzZUNvbG9yLmIgKj0gMS4wICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyOyAvLyBGYWludCBjb29sbmVzc1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXRybyBwb3N0LXByb2Nlc3NpbmdcbiAgICB2ZWMzIGNvbCA9IGJhc2VDb2xvcjtcbiAgICAvLyBTdWJ0bGUgdmlnbmV0dGVcbiAgICB2ZWMyIHEgPSBnbF9GcmFnQ29vcmQueHkgLyB1UmVzb2x1dGlvbjtcbiAgICBmbG9hdCB2aWduZXR0ZVN0cmVuZ3RoID0gMC42ICsgdUVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDU7XG4gICAgLy8gY29sICo9IHBvdygxNi4wICogcS54ICogcS55ICogKDEuMCAtIHEueCkgKiAoMS4wIC0gcS55KSwgMC4xKSAqIHZpZ25ldHRlU3RyZW5ndGggKyAwLjQ7IC8vIERpc2FibGVkIGZvciBzdWJ0bGV0eVxuICAgIFxuICAgIC8vIFN1YnRsZSBzY2FubGluZXNcbiAgICBmbG9hdCBzY2FubGluZUludGVuc2l0eSA9IDAuMDUgKiAoMS4wICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjEpO1xuICAgIGZsb2F0IHNjYW5saW5lU3RyZW5ndGggPSAwLjk1ICsgc2NhbmxpbmVJbnRlbnNpdHkgKiBzaW4oZ2xfRnJhZ0Nvb3JkLnkgKiAwLjUgKyB1VGltZSAqIDAuMik7XG4gICAgLy8gY29sICo9IHNjYW5saW5lU3RyZW5ndGg7IC8vIERpc2FibGVkIGZvciBzdWJ0bGV0eVxuICAgIFxuICAgIC8vIFN1YnRsZSBnbG93XG4gICAgdmVjMyBhdWRpb1JlYWN0aXZlR2xvdyA9IHVHbG93Q29sb3IgKiAodVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4xICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1TG93RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wNSArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjA1KTtcbiAgICBjb2wgKz0gYXVkaW9SZWFjdGl2ZUdsb3cgKiAwLjI7IC8vIFZlcnkgZmFpbnQgZ2xvd1xuICAgIFxuICAgIC8vIEZpbmFsIG91dHB1dFxuICAgIGZyYWdDb2xvciA9IHZlYzQoY29sICogKDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAxKSwgMS4wKTtcbn1gO1xuXG5leHBvcnQgZGVmYXVsdCBjb2xvcmZ1bENpcmNsZXNTaGFkZXJTb3VyY2U7XG4iXSwibmFtZXMiOlsiY29sb3JmdWxDaXJjbGVzU2hhZGVyU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/ColorfulCircles.js\n");

/***/ }),

/***/ "./utils/shaders/ColorfulSidewaysCity.js":
/*!***********************************************!*\
  !*** ./utils/shaders/ColorfulSidewaysCity.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst colorfulSidewaysCityShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Camera speed uniform\nuniform float uCameraSpeed;           // Controls movement speed through tunnel\n\n// Color uniforms\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    // Subtle camera modulation based on audio\n    float timeScale = 1.0 + uEnergy * uEnergyCameraEffect * 0.01; // Extremely subtle speed variation\n    float audioTime = uTime * uCameraSpeed * timeScale;\n\n    // Breathing effect for subtle tunnel scaling\n    float breathingPhase = sin(audioTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * breathingPhase * 0.01; // Very subtle scaling\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Main loop\n    for (float i = 1.0; i <= 100.0; i++) {\n        // Calculate position 'p'\n        vec3 p = z * rayDirection;\n\n        // Subtle audio-reactive displacement\n        float lowFreqShift = uLowEnergy * uEnergyCameraEffect * 0.005; // Tiny positional shift\n        p.z += 9.0 + lowFreqShift;\n\n        // Transform 'p' with subtle audio influence\n        float l = length(p);\n        float transientShift = uTransients * uTransientIntensity * uTransientCameraEffect * 0.005; // Minimal transient effect\n        p = vec3(\n            atan(p.z, p.x) - audioTime * 0.1 + transientShift,\n            log(l) - audioTime * 0.2 * breathingFactor,\n            asin(p.y / l)\n        ) / 0.1;\n\n        // Compute 'v' with subtle high-frequency influence\n        float highFreqMod = 1.0 + uHighEnergy * uEnergyCameraEffect * 0.005; // Tiny pattern variation\n        vec3 v = cos(p + sin(p / 0.24 + audioTime) * highFreqMod);\n\n        // Compute distance step 'd'\n        float d = (l / 60.0) * length(max(v, v.yzx * 0.1));\n\n        // Update 'z'\n        z += d;\n\n        // Accumulate color with audio-reactive color selection\n        vec3 baseColor = uColor1; // Default color\n        if (p.y > 0.5) baseColor = uColor2; // Second color zone\n        if (p.y > 1.0) baseColor = uColor3; // Third color zone\n\n        // Subtle color modulation\n        float colorPulse = 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.01; // Tiny brightness pulse\n        vec4 color_contribution = (sin(p.y + vec4(6.0, 1.0, 3.0, 3.0)) + 1.0) / d;\n        color_contribution.rgb *= baseColor * colorPulse;\n\n        // Subtle fog effect\n        float fogStrength = 0.05 + uHighEnergy * uEnergyColorEffect * 0.005; // Minimal fog variation\n        vec4 fog = vec4(uFogColor, 1.0) * exp(-z * fogStrength);\n        color_contribution += fog * 0.02; // Very subtle fog contribution\n\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 20000.0);\n\n    // Subtle glow effect\n    vec3 glow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.05 + uEnergy * uEnergyColorEffect * 0.02);\n    totalColor.rgb += glow;\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (colorfulSidewaysCityShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0NvbG9yZnVsU2lkZXdheXNDaXR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxtQ0FBbUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1IMUMsQ0FBQztBQUVELGlFQUFlQSxnQ0FBZ0NBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8uL3V0aWxzL3NoYWRlcnMvQ29sb3JmdWxTaWRld2F5c0NpdHkuanM/NGJjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb2xvcmZ1bFNpZGV3YXlzQ2l0eVNoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuLy8gU3RhbmRhcmQgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRJbnRlbnNpdHk7ICAgIC8vIE92ZXJhbGwgaW50ZW5zaXR5IG9mIHRyYW5zaWVudCBlZmZlY3RzXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDYW1lcmFFZmZlY3Q7ICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q29sb3JFZmZlY3Q7ICAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjb2xvcnNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENhbWVyYUVmZmVjdDsgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDb2xvckVmZmVjdDsgIC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNvbG9yc1xuXG4vLyBUdW5uZWwgYnJlYXRoaW5nIGVmZmVjdCB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nUmF0ZTsgICAgICAgICAvLyBDb250cm9scyBob3cgZmFzdCB0aGUgdHVubmVsIGJyZWF0aGVzXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdBbW91bnQ7ICAgICAgIC8vIENvbnRyb2xzIGhvdyBtdWNoIHRoZSB0dW5uZWwgZXhwYW5kcy9jb250cmFjdHNcblxuLy8gQ2FtZXJhIHNwZWVkIHVuaWZvcm1cbnVuaWZvcm0gZmxvYXQgdUNhbWVyYVNwZWVkOyAgICAgICAgICAgLy8gQ29udHJvbHMgbW92ZW1lbnQgc3BlZWQgdGhyb3VnaCB0dW5uZWxcblxuLy8gQ29sb3IgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMyB1Q29sb3IxO1xudW5pZm9ybSB2ZWMzIHVDb2xvcjI7XG51bmlmb3JtIHZlYzMgdUNvbG9yMztcbnVuaWZvcm0gdmVjMyB1Rm9nQ29sb3I7XG51bmlmb3JtIHZlYzMgdUdsb3dDb2xvcjtcblxuLy8gT3V0cHV0IGNvbG9yXG5vdXQgdmVjNCBmcmFnQ29sb3I7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiBmb3Igcm90YXRpb25cbm1hdDIgcm90KGZsb2F0IGFuZ2xlKSB7XG4gICAgZmxvYXQgcyA9IHNpbihhbmdsZSk7XG4gICAgZmxvYXQgYyA9IGNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIG1hdDIoYywgcywgLXMsIGMpO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gZnJhZ21lbnQgY29vcmRpbmF0ZXNcbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKGdsX0ZyYWdDb29yZC54eSAqIDIuMCAtIHVSZXNvbHV0aW9uLnh5LCAtdVJlc29sdXRpb24ueSkpO1xuXG4gICAgLy8gU3VidGxlIGNhbWVyYSBtb2R1bGF0aW9uIGJhc2VkIG9uIGF1ZGlvXG4gICAgZmxvYXQgdGltZVNjYWxlID0gMS4wICsgdUVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAxOyAvLyBFeHRyZW1lbHkgc3VidGxlIHNwZWVkIHZhcmlhdGlvblxuICAgIGZsb2F0IGF1ZGlvVGltZSA9IHVUaW1lICogdUNhbWVyYVNwZWVkICogdGltZVNjYWxlO1xuXG4gICAgLy8gQnJlYXRoaW5nIGVmZmVjdCBmb3Igc3VidGxlIHR1bm5lbCBzY2FsaW5nXG4gICAgZmxvYXQgYnJlYXRoaW5nUGhhc2UgPSBzaW4oYXVkaW9UaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiBicmVhdGhpbmdQaGFzZSAqIDAuMDE7IC8vIFZlcnkgc3VidGxlIHNjYWxpbmdcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIHRoZSBjb2xvclxuICAgIGZsb2F0IHogPSAwLjA7IC8vIEFjY3VtdWxhdG9yIGZvciBkaXN0YW5jZS9kZXB0aCBwYXJhbWV0ZXJcblxuICAgIC8vIE1haW4gbG9vcFxuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSAxMDAuMDsgaSsrKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiAncCdcbiAgICAgICAgdmVjMyBwID0geiAqIHJheURpcmVjdGlvbjtcblxuICAgICAgICAvLyBTdWJ0bGUgYXVkaW8tcmVhY3RpdmUgZGlzcGxhY2VtZW50XG4gICAgICAgIGZsb2F0IGxvd0ZyZXFTaGlmdCA9IHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDU7IC8vIFRpbnkgcG9zaXRpb25hbCBzaGlmdFxuICAgICAgICBwLnogKz0gOS4wICsgbG93RnJlcVNoaWZ0O1xuXG4gICAgICAgIC8vIFRyYW5zZm9ybSAncCcgd2l0aCBzdWJ0bGUgYXVkaW8gaW5mbHVlbmNlXG4gICAgICAgIGZsb2F0IGwgPSBsZW5ndGgocCk7XG4gICAgICAgIGZsb2F0IHRyYW5zaWVudFNoaWZ0ID0gdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1OyAvLyBNaW5pbWFsIHRyYW5zaWVudCBlZmZlY3RcbiAgICAgICAgcCA9IHZlYzMoXG4gICAgICAgICAgICBhdGFuKHAueiwgcC54KSAtIGF1ZGlvVGltZSAqIDAuMSArIHRyYW5zaWVudFNoaWZ0LFxuICAgICAgICAgICAgbG9nKGwpIC0gYXVkaW9UaW1lICogMC4yICogYnJlYXRoaW5nRmFjdG9yLFxuICAgICAgICAgICAgYXNpbihwLnkgLyBsKVxuICAgICAgICApIC8gMC4xO1xuXG4gICAgICAgIC8vIENvbXB1dGUgJ3YnIHdpdGggc3VidGxlIGhpZ2gtZnJlcXVlbmN5IGluZmx1ZW5jZVxuICAgICAgICBmbG9hdCBoaWdoRnJlcU1vZCA9IDEuMCArIHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1OyAvLyBUaW55IHBhdHRlcm4gdmFyaWF0aW9uXG4gICAgICAgIHZlYzMgdiA9IGNvcyhwICsgc2luKHAgLyAwLjI0ICsgYXVkaW9UaW1lKSAqIGhpZ2hGcmVxTW9kKTtcblxuICAgICAgICAvLyBDb21wdXRlIGRpc3RhbmNlIHN0ZXAgJ2QnXG4gICAgICAgIGZsb2F0IGQgPSAobCAvIDYwLjApICogbGVuZ3RoKG1heCh2LCB2Lnl6eCAqIDAuMSkpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSAneidcbiAgICAgICAgeiArPSBkO1xuXG4gICAgICAgIC8vIEFjY3VtdWxhdGUgY29sb3Igd2l0aCBhdWRpby1yZWFjdGl2ZSBjb2xvciBzZWxlY3Rpb25cbiAgICAgICAgdmVjMyBiYXNlQ29sb3IgPSB1Q29sb3IxOyAvLyBEZWZhdWx0IGNvbG9yXG4gICAgICAgIGlmIChwLnkgPiAwLjUpIGJhc2VDb2xvciA9IHVDb2xvcjI7IC8vIFNlY29uZCBjb2xvciB6b25lXG4gICAgICAgIGlmIChwLnkgPiAxLjApIGJhc2VDb2xvciA9IHVDb2xvcjM7IC8vIFRoaXJkIGNvbG9yIHpvbmVcblxuICAgICAgICAvLyBTdWJ0bGUgY29sb3IgbW9kdWxhdGlvblxuICAgICAgICBmbG9hdCBjb2xvclB1bHNlID0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMTsgLy8gVGlueSBicmlnaHRuZXNzIHB1bHNlXG4gICAgICAgIHZlYzQgY29sb3JfY29udHJpYnV0aW9uID0gKHNpbihwLnkgKyB2ZWM0KDYuMCwgMS4wLCAzLjAsIDMuMCkpICsgMS4wKSAvIGQ7XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKj0gYmFzZUNvbG9yICogY29sb3JQdWxzZTtcblxuICAgICAgICAvLyBTdWJ0bGUgZm9nIGVmZmVjdFxuICAgICAgICBmbG9hdCBmb2dTdHJlbmd0aCA9IDAuMDUgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDA1OyAvLyBNaW5pbWFsIGZvZyB2YXJpYXRpb25cbiAgICAgICAgdmVjNCBmb2cgPSB2ZWM0KHVGb2dDb2xvciwgMS4wKSAqIGV4cCgteiAqIGZvZ1N0cmVuZ3RoKTtcbiAgICAgICAgY29sb3JfY29udHJpYnV0aW9uICs9IGZvZyAqIDAuMDI7IC8vIFZlcnkgc3VidGxlIGZvZyBjb250cmlidXRpb25cblxuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yX2NvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyAyMDAwMC4wKTtcblxuICAgIC8vIFN1YnRsZSBnbG93IGVmZmVjdFxuICAgIHZlYzMgZ2xvdyA9IHVHbG93Q29sb3IgKiAodVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wNSArIHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyKTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBnbG93O1xuXG4gICAgLy8gU2V0IGZpbmFsIGZyYWdtZW50IGNvbG9yXG4gICAgZnJhZ0NvbG9yID0gdmVjNCh0b3RhbENvbG9yLnJnYiwgMS4wKTtcbn1cbmA7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbG9yZnVsU2lkZXdheXNDaXR5U2hhZGVyU291cmNlO1xuIl0sIm5hbWVzIjpbImNvbG9yZnVsU2lkZXdheXNDaXR5U2hhZGVyU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/ColorfulSidewaysCity.js\n");

/***/ }),

/***/ "./utils/shaders/ColorfulSwirls.js":
/*!*****************************************!*\
  !*** ./utils/shaders/ColorfulSwirls.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst colorfulSwirlsShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity and specific audio component effects\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\n// Smooth step function for transitions\nfloat smootherstep(float edge0, float edge1, float x) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n}\n\nvoid main() {\n    // Normalize fragment coordinates to [-1, 1] with aspect ratio correction\n    vec2 uv = (gl_FragCoord.xy * 2.0 - uResolution.xy) / uResolution.y;\n    vec3 rayDirection = normalize(vec3(uv, -1.0));\n\n    // Subtle camera offset based on audio (extremely small effect)\n    vec2 cameraOffset = vec2(0.0);\n    cameraOffset.x += uLowEnergy * uEnergyCameraEffect * 0.01; // Low freq subtle horizontal shift\n    cameraOffset.y += uHighEnergy * uEnergyCameraEffect * 0.005; // High freq subtle vertical shift\n    cameraOffset += uTransients * uTransientIntensity * uTransientCameraEffect * 0.005; // Transient micro-shake\n    rayDirection.xy += cameraOffset;\n\n    vec4 totalColor = vec4(0.0);\n    float z = 0.0;\n\n    // Subtle breathing effect for distance scaling\n    float breathingPhase = sin(uTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * (0.01 + 0.01 * breathingPhase) * (1.0 + uEnergy * uEnergyCameraEffect * 0.01);\n\n    // Main raymarching loop\n    for (float i = 1.0; i <= 100.0; i++) {\n        vec3 p = z * rayDirection;\n        p.z -= uTime * uCameraSpeed; // Apply camera speed\n\n        // Inner fractal/deformation loop\n        float inner_step;\n        for (inner_step = 1.0; inner_step < 9.0; inner_step /= 0.7) {\n            // Subtle audio-driven deformation\n            float deformScale = 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005;\n            p += cos(p.yzx * inner_step + z * 0.2 - uTime * 0.1) / inner_step * deformScale;\n        }\n\n        // Distance step with subtle breathing effect\n        float dist_step = 0.02 + 0.1 * abs(p.y + 1.0);\n        dist_step *= breathingFactor; // Apply breathing\n        z += dist_step;\n\n        // Color contribution with custom palette\n        float colorPhase = z + uTime;\n        vec3 baseColor = mix(uColor1, uColor2, smootherstep(0.0, 1.0, sin(colorPhase * 0.5)));\n        baseColor = mix(baseColor, uColor3, smootherstep(0.0, 1.0, sin(colorPhase * 0.3 + 1.0)));\n\n        // Subtle audio color modulation\n        baseColor += uLowEnergy * uEnergyColorEffect * 0.01 * vec3(0.2, 0.0, 0.0); // Warm tint for bass\n        baseColor += uHighEnergy * uEnergyColorEffect * 0.01 * vec3(0.0, 0.0, 0.2); // Cool tint for highs\n        baseColor *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.02; // Transient brightness\n\n        vec4 color_contribution = vec4(baseColor, 1.0) / dist_step;\n        totalColor += color_contribution;\n    }\n\n    // Tonemapping\n    totalColor = tanh(totalColor / 2000.0);\n\n    // Subtle fog effect\n    float fogStrength = 0.01 + uEnergy * uEnergyCameraEffect * 0.005;\n    float fogAmount = exp(-z * fogStrength);\n    vec3 finalColor = mix(uFogColor, totalColor.rgb, fogAmount);\n\n    // Subtle glow effect\n    finalColor += uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.02 +\n                               uEnergy * uEnergyColorEffect * 0.01);\n\n    fragColor = vec4(finalColor, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (colorfulSwirlsShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0NvbG9yZnVsU3dpcmxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSw2QkFBNkIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpSHBDLENBQUM7QUFFRCxpRUFBZUEsMEJBQTBCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0NvbG9yZnVsU3dpcmxzLmpzPzUxZmEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29sb3JmdWxTd2lybHNTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbi8vIFN0YW5kYXJkIHVuaWZvcm1zXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVUaW1lO1xudW5pZm9ybSBmbG9hdCB1Q2FtZXJhU3BlZWQ7IC8vIENvbnRyb2xzIG1vdmVtZW50IHNwZWVkIHRocm91Z2ggdHVubmVsXG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IGFuZCBzcGVjaWZpYyBhdWRpbyBjb21wb25lbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50SW50ZW5zaXR5OyAgICAvLyBPdmVyYWxsIGludGVuc2l0eSBvZiB0cmFuc2llbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q2FtZXJhRWZmZWN0OyAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNvbG9yRWZmZWN0OyAgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY29sb3JzXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDYW1lcmFFZmZlY3Q7IC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7ICAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjb2xvcnNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ1JhdGU7ICAgICAgICAgLy8gQ29udHJvbHMgaG93IGZhc3QgdGhlIHR1bm5lbCBicmVhdGhlc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAgICAgICAvLyBDb250cm9scyBob3cgbXVjaCB0aGUgdHVubmVsIGV4cGFuZHMvY29udHJhY3RzXG5cbi8vIENvbG9yIHVuaWZvcm1zXG51bmlmb3JtIHZlYzMgdUNvbG9yMTtcbnVuaWZvcm0gdmVjMyB1Q29sb3IyO1xudW5pZm9ybSB2ZWMzIHVDb2xvcjM7XG51bmlmb3JtIHZlYzMgdUZvZ0NvbG9yO1xudW5pZm9ybSB2ZWMzIHVHbG93Q29sb3I7XG5cbi8vIE91dHB1dCBjb2xvclxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gZm9yIHJvdGF0aW9uXG5tYXQyIHJvdChmbG9hdCBhbmdsZSkge1xuICAgIGZsb2F0IHMgPSBzaW4oYW5nbGUpO1xuICAgIGZsb2F0IGMgPSBjb3MoYW5nbGUpO1xuICAgIHJldHVybiBtYXQyKGMsIHMsIC1zLCBjKTtcbn1cblxuLy8gU21vb3RoIHN0ZXAgZnVuY3Rpb24gZm9yIHRyYW5zaXRpb25zXG5mbG9hdCBzbW9vdGhlcnN0ZXAoZmxvYXQgZWRnZTAsIGZsb2F0IGVkZ2UxLCBmbG9hdCB4KSB7XG4gICAgeCA9IGNsYW1wKCh4IC0gZWRnZTApIC8gKGVkZ2UxIC0gZWRnZTApLCAwLjAsIDEuMCk7XG4gICAgcmV0dXJuIHggKiB4ICogeCAqICh4ICogKHggKiA2LjAgLSAxNS4wKSArIDEwLjApO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gTm9ybWFsaXplIGZyYWdtZW50IGNvb3JkaW5hdGVzIHRvIFstMSwgMV0gd2l0aCBhc3BlY3QgcmF0aW8gY29ycmVjdGlvblxuICAgIHZlYzIgdXYgPSAoZ2xfRnJhZ0Nvb3JkLnh5ICogMi4wIC0gdVJlc29sdXRpb24ueHkpIC8gdVJlc29sdXRpb24ueTtcbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKHV2LCAtMS4wKSk7XG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBhdWRpbyAoZXh0cmVtZWx5IHNtYWxsIGVmZmVjdClcbiAgICB2ZWMyIGNhbWVyYU9mZnNldCA9IHZlYzIoMC4wKTtcbiAgICBjYW1lcmFPZmZzZXQueCArPSB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDE7IC8vIExvdyBmcmVxIHN1YnRsZSBob3Jpem9udGFsIHNoaWZ0XG4gICAgY2FtZXJhT2Zmc2V0LnkgKz0gdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDU7IC8vIEhpZ2ggZnJlcSBzdWJ0bGUgdmVydGljYWwgc2hpZnRcbiAgICBjYW1lcmFPZmZzZXQgKz0gdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1OyAvLyBUcmFuc2llbnQgbWljcm8tc2hha2VcbiAgICByYXlEaXJlY3Rpb24ueHkgKz0gY2FtZXJhT2Zmc2V0O1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApO1xuICAgIGZsb2F0IHogPSAwLjA7XG5cbiAgICAvLyBTdWJ0bGUgYnJlYXRoaW5nIGVmZmVjdCBmb3IgZGlzdGFuY2Ugc2NhbGluZ1xuICAgIGZsb2F0IGJyZWF0aGluZ1BoYXNlID0gc2luKHVUaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiAoMC4wMSArIDAuMDEgKiBicmVhdGhpbmdQaGFzZSkgKiAoMS4wICsgdUVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAxKTtcblxuICAgIC8vIE1haW4gcmF5bWFyY2hpbmcgbG9vcFxuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSAxMDAuMDsgaSsrKSB7XG4gICAgICAgIHZlYzMgcCA9IHogKiByYXlEaXJlY3Rpb247XG4gICAgICAgIHAueiAtPSB1VGltZSAqIHVDYW1lcmFTcGVlZDsgLy8gQXBwbHkgY2FtZXJhIHNwZWVkXG5cbiAgICAgICAgLy8gSW5uZXIgZnJhY3RhbC9kZWZvcm1hdGlvbiBsb29wXG4gICAgICAgIGZsb2F0IGlubmVyX3N0ZXA7XG4gICAgICAgIGZvciAoaW5uZXJfc3RlcCA9IDEuMDsgaW5uZXJfc3RlcCA8IDkuMDsgaW5uZXJfc3RlcCAvPSAwLjcpIHtcbiAgICAgICAgICAgIC8vIFN1YnRsZSBhdWRpby1kcml2ZW4gZGVmb3JtYXRpb25cbiAgICAgICAgICAgIGZsb2F0IGRlZm9ybVNjYWxlID0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgICAgICAgICAgcCArPSBjb3MocC55enggKiBpbm5lcl9zdGVwICsgeiAqIDAuMiAtIHVUaW1lICogMC4xKSAvIGlubmVyX3N0ZXAgKiBkZWZvcm1TY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc3RhbmNlIHN0ZXAgd2l0aCBzdWJ0bGUgYnJlYXRoaW5nIGVmZmVjdFxuICAgICAgICBmbG9hdCBkaXN0X3N0ZXAgPSAwLjAyICsgMC4xICogYWJzKHAueSArIDEuMCk7XG4gICAgICAgIGRpc3Rfc3RlcCAqPSBicmVhdGhpbmdGYWN0b3I7IC8vIEFwcGx5IGJyZWF0aGluZ1xuICAgICAgICB6ICs9IGRpc3Rfc3RlcDtcblxuICAgICAgICAvLyBDb2xvciBjb250cmlidXRpb24gd2l0aCBjdXN0b20gcGFsZXR0ZVxuICAgICAgICBmbG9hdCBjb2xvclBoYXNlID0geiArIHVUaW1lO1xuICAgICAgICB2ZWMzIGJhc2VDb2xvciA9IG1peCh1Q29sb3IxLCB1Q29sb3IyLCBzbW9vdGhlcnN0ZXAoMC4wLCAxLjAsIHNpbihjb2xvclBoYXNlICogMC41KSkpO1xuICAgICAgICBiYXNlQ29sb3IgPSBtaXgoYmFzZUNvbG9yLCB1Q29sb3IzLCBzbW9vdGhlcnN0ZXAoMC4wLCAxLjAsIHNpbihjb2xvclBoYXNlICogMC4zICsgMS4wKSkpO1xuXG4gICAgICAgIC8vIFN1YnRsZSBhdWRpbyBjb2xvciBtb2R1bGF0aW9uXG4gICAgICAgIGJhc2VDb2xvciArPSB1TG93RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMSAqIHZlYzMoMC4yLCAwLjAsIDAuMCk7IC8vIFdhcm0gdGludCBmb3IgYmFzc1xuICAgICAgICBiYXNlQ29sb3IgKz0gdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAxICogdmVjMygwLjAsIDAuMCwgMC4yKTsgLy8gQ29vbCB0aW50IGZvciBoaWdoc1xuICAgICAgICBiYXNlQ29sb3IgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMjsgLy8gVHJhbnNpZW50IGJyaWdodG5lc3NcblxuICAgICAgICB2ZWM0IGNvbG9yX2NvbnRyaWJ1dGlvbiA9IHZlYzQoYmFzZUNvbG9yLCAxLjApIC8gZGlzdF9zdGVwO1xuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yX2NvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBUb25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyAyMDAwLjApO1xuXG4gICAgLy8gU3VidGxlIGZvZyBlZmZlY3RcbiAgICBmbG9hdCBmb2dTdHJlbmd0aCA9IDAuMDEgKyB1RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgIGZsb2F0IGZvZ0Ftb3VudCA9IGV4cCgteiAqIGZvZ1N0cmVuZ3RoKTtcbiAgICB2ZWMzIGZpbmFsQ29sb3IgPSBtaXgodUZvZ0NvbG9yLCB0b3RhbENvbG9yLnJnYiwgZm9nQW1vdW50KTtcblxuICAgIC8vIFN1YnRsZSBnbG93IGVmZmVjdFxuICAgIGZpbmFsQ29sb3IgKz0gdUdsb3dDb2xvciAqICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjAyICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMSk7XG5cbiAgICBmcmFnQ29sb3IgPSB2ZWM0KGZpbmFsQ29sb3IsIDEuMCk7XG59XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBjb2xvcmZ1bFN3aXJsc1NoYWRlclNvdXJjZTtcbiJdLCJuYW1lcyI6WyJjb2xvcmZ1bFN3aXJsc1NoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/ColorfulSwirls.js\n");

/***/ }),

/***/ "./utils/shaders/ColorfulWorld.js":
/*!****************************************!*\
  !*** ./utils/shaders/ColorfulWorld.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst colorWorldShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity and specific audio component effects\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction with aspect ratio correction\n    vec2 uv = gl_FragCoord.xy / uResolution.xy;\n    vec2 p = (uv * 2.0 - 1.0);\n    p.x *= uResolution.x / uResolution.y;\n    vec3 rayDirection = normalize(vec3(p, -1.0));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Subtle audio-driven camera offset\n    float time = uTime * uCameraSpeed;\n    vec3 cameraOffset = vec3(\n        uLowEnergy * uEnergyCameraEffect * 0.01, // Tiny horizontal shift\n        uHighEnergy * uEnergyCameraEffect * 0.01, // Tiny vertical shift\n        0.0\n    );\n\n    // Breathing effect for subtle tunnel scaling\n    float breathingPhase = sin(time * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * 0.01 * breathingPhase; // Very subtle\n\n    // Main loop\n    for (float i = 1.0; i <= 80.0; i++) {\n        // Calculate position with audio offset\n        vec3 pos = z * rayDirection + cameraOffset * 0.01; // Extremely subtle offset\n\n        // Apply breathing effect to position scaling\n        pos *= breathingFactor;\n\n        // Shift z slightly with time and transients\n        pos.z += 0.1 + uTransients * uTransientCameraEffect * 0.005; // Very subtle\n\n        // Calculate l and scale pos\n        float l = dot(pos, pos);\n        pos /= l;\n\n        // Calculate distance step with subtle transient influence\n        float d = sqrt(l) / 80.0 * length(cos(pos + cos(pos / 0.27 + time)) + 0.8);\n        d *= 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005; // Subtle scaling\n        z += d;\n\n        // Color contribution with subtle audio modulation\n        vec3 baseColor = cos(log(l) * 3.0 - time + vec3(0.0, 1.0, 2.0)) + 1.0;\n        \n        // Blend between uColor1, uColor2, uColor3 based on position and audio\n        float colorMix = clamp(log(l) * 0.5 + uEnergy * uEnergyColorEffect * 0.01, 0.0, 1.0);\n        vec3 mixedColor = mix(\n            mix(uColor1, uColor2, colorMix),\n            uColor3,\n            uHighEnergy * uEnergyColorEffect * 0.01\n        );\n        \n        // Apply subtle transient brightness boost\n        mixedColor *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.01;\n        \n        // Combine base color with mixed color\n        vec4 colorContribution = vec4(mixedColor * baseColor, 1.0) / d;\n        totalColor += colorContribution;\n    }\n\n    // Apply subtle fog and glow\n    vec3 fog = uFogColor * (0.05 + uEnergy * uEnergyColorEffect * 0.005);\n    vec3 glow = uGlowColor * uTransients * uTransientIntensity * uTransientColorEffect * 0.01;\n    totalColor.rgb += fog + glow;\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 200000.0);\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (colorWorldShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0NvbG9yZnVsV29ybGQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLHlCQUF5QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrSGhDLENBQUM7QUFFRCxpRUFBZUEsc0JBQXNCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0NvbG9yZnVsV29ybGQuanM/Mzc3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb2xvcldvcmxkU2hhZGVyU291cmNlID0gYCN2ZXJzaW9uIDMwMCBlc1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4vLyBTdGFuZGFyZCB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xudW5pZm9ybSBmbG9hdCB1VGltZTtcbnVuaWZvcm0gZmxvYXQgdUNhbWVyYVNwZWVkOyAvLyBDb250cm9scyBtb3ZlbWVudCBzcGVlZCB0aHJvdWdoIHR1bm5lbFxuXG4vLyBBdWRpbyBhbmFseXNpcyB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50czsgICAvLyBCZWF0IGRldGVjdGlvblxudW5pZm9ybSBmbG9hdCB1RW5lcmd5OyAgICAgICAvLyBPdmVyYWxsIGF1ZGlvIGVuZXJneVxudW5pZm9ybSBmbG9hdCB1TG93RW5lcmd5OyAgICAvLyBMb3cgZnJlcXVlbmN5IGVuZXJneVxudW5pZm9ybSBmbG9hdCB1SGlnaEVuZXJneTsgICAvLyBIaWdoIGZyZXF1ZW5jeSBlbmVyZ3lcblxuLy8gRWZmZWN0IGludGVuc2l0eSBhbmQgc3BlY2lmaWMgYXVkaW8gY29tcG9uZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gT3ZlcmFsbCBpbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIENvbnRyb2xzIGhvdyBmYXN0IHRoZSB0dW5uZWwgYnJlYXRoZXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQ29udHJvbHMgaG93IG11Y2ggdGhlIHR1bm5lbCBleHBhbmRzL2NvbnRyYWN0c1xuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7XG51bmlmb3JtIHZlYzMgdUNvbG9yMjtcbnVuaWZvcm0gdmVjMyB1Q29sb3IzO1xudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjtcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yO1xuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciByb3RhdGlvblxubWF0MiByb3QoZmxvYXQgYW5nbGUpIHtcbiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKTtcbiAgICBmbG9hdCBjID0gY29zKGFuZ2xlKTtcbiAgICByZXR1cm4gbWF0MihjLCBzLCAtcywgYyk7XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgICAvLyBDYWxjdWxhdGUgcmF5IGRpcmVjdGlvbiB3aXRoIGFzcGVjdCByYXRpbyBjb3JyZWN0aW9uXG4gICAgdmVjMiB1diA9IGdsX0ZyYWdDb29yZC54eSAvIHVSZXNvbHV0aW9uLnh5O1xuICAgIHZlYzIgcCA9ICh1diAqIDIuMCAtIDEuMCk7XG4gICAgcC54ICo9IHVSZXNvbHV0aW9uLnggLyB1UmVzb2x1dGlvbi55O1xuICAgIHZlYzMgcmF5RGlyZWN0aW9uID0gbm9ybWFsaXplKHZlYzMocCwgLTEuMCkpO1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApOyAvLyBBY2N1bXVsYXRvciBmb3IgdGhlIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRpc3RhbmNlL2RlcHRoIHBhcmFtZXRlclxuXG4gICAgLy8gU3VidGxlIGF1ZGlvLWRyaXZlbiBjYW1lcmEgb2Zmc2V0XG4gICAgZmxvYXQgdGltZSA9IHVUaW1lICogdUNhbWVyYVNwZWVkO1xuICAgIHZlYzMgY2FtZXJhT2Zmc2V0ID0gdmVjMyhcbiAgICAgICAgdUxvd0VuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAxLCAvLyBUaW55IGhvcml6b250YWwgc2hpZnRcbiAgICAgICAgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMSwgLy8gVGlueSB2ZXJ0aWNhbCBzaGlmdFxuICAgICAgICAwLjBcbiAgICApO1xuXG4gICAgLy8gQnJlYXRoaW5nIGVmZmVjdCBmb3Igc3VidGxlIHR1bm5lbCBzY2FsaW5nXG4gICAgZmxvYXQgYnJlYXRoaW5nUGhhc2UgPSBzaW4odGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICBmbG9hdCBicmVhdGhpbmdGYWN0b3IgPSAxLjAgKyB1QnJlYXRoaW5nQW1vdW50ICogMC4wMSAqIGJyZWF0aGluZ1BoYXNlOyAvLyBWZXJ5IHN1YnRsZVxuXG4gICAgLy8gTWFpbiBsb29wXG4gICAgZm9yIChmbG9hdCBpID0gMS4wOyBpIDw9IDgwLjA7IGkrKykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb24gd2l0aCBhdWRpbyBvZmZzZXRcbiAgICAgICAgdmVjMyBwb3MgPSB6ICogcmF5RGlyZWN0aW9uICsgY2FtZXJhT2Zmc2V0ICogMC4wMTsgLy8gRXh0cmVtZWx5IHN1YnRsZSBvZmZzZXRcblxuICAgICAgICAvLyBBcHBseSBicmVhdGhpbmcgZWZmZWN0IHRvIHBvc2l0aW9uIHNjYWxpbmdcbiAgICAgICAgcG9zICo9IGJyZWF0aGluZ0ZhY3RvcjtcblxuICAgICAgICAvLyBTaGlmdCB6IHNsaWdodGx5IHdpdGggdGltZSBhbmQgdHJhbnNpZW50c1xuICAgICAgICBwb3MueiArPSAwLjEgKyB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAwNTsgLy8gVmVyeSBzdWJ0bGVcblxuICAgICAgICAvLyBDYWxjdWxhdGUgbCBhbmQgc2NhbGUgcG9zXG4gICAgICAgIGZsb2F0IGwgPSBkb3QocG9zLCBwb3MpO1xuICAgICAgICBwb3MgLz0gbDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgZGlzdGFuY2Ugc3RlcCB3aXRoIHN1YnRsZSB0cmFuc2llbnQgaW5mbHVlbmNlXG4gICAgICAgIGZsb2F0IGQgPSBzcXJ0KGwpIC8gODAuMCAqIGxlbmd0aChjb3MocG9zICsgY29zKHBvcyAvIDAuMjcgKyB0aW1lKSkgKyAwLjgpO1xuICAgICAgICBkICo9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAwNTsgLy8gU3VidGxlIHNjYWxpbmdcbiAgICAgICAgeiArPSBkO1xuXG4gICAgICAgIC8vIENvbG9yIGNvbnRyaWJ1dGlvbiB3aXRoIHN1YnRsZSBhdWRpbyBtb2R1bGF0aW9uXG4gICAgICAgIHZlYzMgYmFzZUNvbG9yID0gY29zKGxvZyhsKSAqIDMuMCAtIHRpbWUgKyB2ZWMzKDAuMCwgMS4wLCAyLjApKSArIDEuMDtcbiAgICAgICAgXG4gICAgICAgIC8vIEJsZW5kIGJldHdlZW4gdUNvbG9yMSwgdUNvbG9yMiwgdUNvbG9yMyBiYXNlZCBvbiBwb3NpdGlvbiBhbmQgYXVkaW9cbiAgICAgICAgZmxvYXQgY29sb3JNaXggPSBjbGFtcChsb2cobCkgKiAwLjUgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMSwgMC4wLCAxLjApO1xuICAgICAgICB2ZWMzIG1peGVkQ29sb3IgPSBtaXgoXG4gICAgICAgICAgICBtaXgodUNvbG9yMSwgdUNvbG9yMiwgY29sb3JNaXgpLFxuICAgICAgICAgICAgdUNvbG9yMyxcbiAgICAgICAgICAgIHVIaWdoRW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gQXBwbHkgc3VidGxlIHRyYW5zaWVudCBicmlnaHRuZXNzIGJvb3N0XG4gICAgICAgIG1peGVkQ29sb3IgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbWJpbmUgYmFzZSBjb2xvciB3aXRoIG1peGVkIGNvbG9yXG4gICAgICAgIHZlYzQgY29sb3JDb250cmlidXRpb24gPSB2ZWM0KG1peGVkQ29sb3IgKiBiYXNlQ29sb3IsIDEuMCkgLyBkO1xuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yQ29udHJpYnV0aW9uO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IHN1YnRsZSBmb2cgYW5kIGdsb3dcbiAgICB2ZWMzIGZvZyA9IHVGb2dDb2xvciAqICgwLjA1ICsgdUVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDA1KTtcbiAgICB2ZWMzIGdsb3cgPSB1R2xvd0NvbG9yICogdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBmb2cgKyBnbG93O1xuXG4gICAgLy8gRmluYWwgdG9uZW1hcHBpbmdcbiAgICB0b3RhbENvbG9yID0gdGFuaCh0b3RhbENvbG9yIC8gMjAwMDAwLjApO1xuXG4gICAgLy8gU2V0IGZpbmFsIGZyYWdtZW50IGNvbG9yXG4gICAgZnJhZ0NvbG9yID0gdmVjNCh0b3RhbENvbG9yLnJnYiwgMS4wKTtcbn1cbmA7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbG9yV29ybGRTaGFkZXJTb3VyY2U7Il0sIm5hbWVzIjpbImNvbG9yV29ybGRTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/ColorfulWorld.js\n");

/***/ }),

/***/ "./utils/shaders/ConvertedAbstractSpiralShader.js":
/*!********************************************************!*\
  !*** ./utils/shaders/ConvertedAbstractSpiralShader.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * ConvertedAbstractSpiralShader.js\n * Exports a converted shader, originally in a compact format.\n * This version uses standard GLSL structure and uniforms.\n */ const convertedAbstractSpiralShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\nuniform float uTransients;   // Beat detection\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Intensity of transient effects\nuniform float uEnergyCameraEffect;    // Energy effect on camera\nuniform float uEnergyColorEffect;     // Energy effect on colors\nuniform float uTransientCameraEffect; // Transients effect on camera\nuniform float uTransientColorEffect;  // Transients effect on colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Speed of tunnel breathing\nuniform float uBreathingAmount;       // Amount of tunnel expansion/contraction\n\n// Color uniforms\nuniform vec3 uColor1;    // Primary color\nuniform vec3 uColor2;    // Secondary color\nuniform vec3 uColor3;    // Tertiary color\nuniform vec3 uFogColor;  // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction with aspect ratio correction\n    vec2 p = (gl_FragCoord.xy * 2.0 - uResolution.xy) / uResolution.y;\n    vec3 rayDirection = normalize(vec3(p, -1.0));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for color\n    float z = 0.0; // Accumulator for distance/depth\n\n    // Subtle camera offset based on audio\n    vec3 cameraOffset = vec3(0.0);\n    cameraOffset.x += sin(uTime * 0.3) * uLowEnergy * uEnergyCameraEffect * 0.02; // Low freq horizontal shift\n    cameraOffset.y += cos(uTime * 0.4) * uHighEnergy * uEnergyCameraEffect * 0.01; // High freq vertical shift\n    cameraOffset.z += uTransients * uTransientIntensity * uTransientCameraEffect * 0.01; // Transient forward pulse\n\n    // Main loop (60 iterations as per original)\n    for (float i = 1.0; i <= 60.0; i++) {\n        // Calculate position with camera offset\n        vec3 pos = (z * rayDirection) + cameraOffset;\n\n        // Shift z forward (as in original)\n        pos.z += 6.0;\n\n        // Apply rotation based on pos.z\n        float angle = pos.z * 0.4;\n        // Subtle rotation speed increase with high frequencies\n        angle *= 1.0 + uHighEnergy * uEnergyCameraEffect * 0.01;\n        pos.xy *= rot(angle);\n\n        // Inner fractal/deformation loop\n        float inner_step;\n        for (inner_step = 2.0; inner_step < 15.0; inner_step /= 0.6) {\n            pos += cos((pos.yzx + uTime * 3.0) * inner_step) / inner_step;\n        }\n\n        // Breathing effect: modulate tunnel size with time and low frequencies\n        float breathingPhase = sin(uTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * (0.05 + 0.05 * breathingPhase);\n        breathingFactor *= 1.0 + uLowEnergy * uEnergyCameraEffect * 0.02; // Bass enhances breathing\n\n        // Calculate distance step with breathing effect\n        float dist = min(length(pos.xy) - 3.0, 4.0 - length(pos));\n        dist *= breathingFactor; // Apply breathing to tunnel geometry\n        float dist_step = 0.02 + abs(dist) / 8.0;\n        z += dist_step;\n\n        // Color contribution with audio-reactive modulation\n        vec3 baseColor = uColor1; // Default to primary color\n        if (length(pos.xy) > 3.5) baseColor = uColor2; // Secondary color for outer regions\n        if (length(pos) > 4.0) baseColor = uColor3; // Tertiary color for far regions\n\n        // Subtle color modulation\n        baseColor *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05; // Transient brightness\n        baseColor.r *= 1.0 + uLowEnergy * uEnergyColorEffect * 0.02; // Bass boosts red\n        baseColor.b *= 1.0 + uHighEnergy * uEnergyColorEffect * 0.02; // High freq boosts blue\n\n        // Accumulate color\n        vec4 color_contribution = (sin(z * 0.5 + vec4(6.0, 1.0, 2.0, 0.0)) + 1.1) / dist_step;\n        color_contribution.rgb *= baseColor; // Apply modulated color\n        totalColor += color_contribution;\n    }\n\n    // Apply tonemapping\n    totalColor = tanh(totalColor / 1500.0);\n\n    // Subtle fog effect\n    float fogStrength = 0.01 + uHighEnergy * uEnergyCameraEffect * 0.005; // High freq enhances fog\n    float fogAmount = exp(-z * fogStrength);\n    vec3 foggedColor = mix(uFogColor, totalColor.rgb, fogAmount);\n\n    // Subtle glow effect\n    vec3 glow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.1 +\n                             uEnergy * uEnergyColorEffect * 0.05);\n    foggedColor += glow;\n\n    // Final color output\n    fragColor = vec4(foggedColor, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (convertedAbstractSpiralShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0NvbnZlcnRlZEFic3RyYWN0U3BpcmFsU2hhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztDQUlDLEdBRUQsTUFBTUEsc0NBQXNDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzSDdDLENBQUM7QUFFRCxpRUFBZUEsbUNBQW1DQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0NvbnZlcnRlZEFic3RyYWN0U3BpcmFsU2hhZGVyLmpzP2VkMzYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0ZWRBYnN0cmFjdFNwaXJhbFNoYWRlci5qc1xuICogRXhwb3J0cyBhIGNvbnZlcnRlZCBzaGFkZXIsIG9yaWdpbmFsbHkgaW4gYSBjb21wYWN0IGZvcm1hdC5cbiAqIFRoaXMgdmVyc2lvbiB1c2VzIHN0YW5kYXJkIEdMU0wgc3RydWN0dXJlIGFuZCB1bmlmb3Jtcy5cbiAqL1xuXG5jb25zdCBjb252ZXJ0ZWRBYnN0cmFjdFNwaXJhbFNoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuLy8gU3RhbmRhcmQgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50czsgICAvLyBCZWF0IGRldGVjdGlvblxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRJbnRlbnNpdHk7ICAgIC8vIEludGVuc2l0eSBvZiB0cmFuc2llbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q2FtZXJhRWZmZWN0OyAgICAvLyBFbmVyZ3kgZWZmZWN0IG9uIGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q29sb3JFZmZlY3Q7ICAgICAvLyBFbmVyZ3kgZWZmZWN0IG9uIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBUcmFuc2llbnRzIGVmZmVjdCBvbiBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gVHJhbnNpZW50cyBlZmZlY3Qgb24gY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIFNwZWVkIG9mIHR1bm5lbCBicmVhdGhpbmdcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQW1vdW50IG9mIHR1bm5lbCBleHBhbnNpb24vY29udHJhY3Rpb25cblxuLy8gQ29sb3IgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMyB1Q29sb3IxOyAgICAvLyBQcmltYXJ5IGNvbG9yXG51bmlmb3JtIHZlYzMgdUNvbG9yMjsgICAgLy8gU2Vjb25kYXJ5IGNvbG9yXG51bmlmb3JtIHZlYzMgdUNvbG9yMzsgICAgLy8gVGVydGlhcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Rm9nQ29sb3I7ICAvLyBGb2cgY29sb3JcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yOyAvLyBHbG93IGNvbG9yXG5cbi8vIE91dHB1dCBjb2xvclxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gZm9yIHJvdGF0aW9uXG5tYXQyIHJvdChmbG9hdCBhbmdsZSkge1xuICAgIGZsb2F0IHMgPSBzaW4oYW5nbGUpO1xuICAgIGZsb2F0IGMgPSBjb3MoYW5nbGUpO1xuICAgIHJldHVybiBtYXQyKGMsIHMsIC1zLCBjKTtcbn1cblxudm9pZCBtYWluKCkge1xuICAgIC8vIENhbGN1bGF0ZSByYXkgZGlyZWN0aW9uIHdpdGggYXNwZWN0IHJhdGlvIGNvcnJlY3Rpb25cbiAgICB2ZWMyIHAgPSAoZ2xfRnJhZ0Nvb3JkLnh5ICogMi4wIC0gdVJlc29sdXRpb24ueHkpIC8gdVJlc29sdXRpb24ueTtcbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKHAsIC0xLjApKTtcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRpc3RhbmNlL2RlcHRoXG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBhdWRpb1xuICAgIHZlYzMgY2FtZXJhT2Zmc2V0ID0gdmVjMygwLjApO1xuICAgIGNhbWVyYU9mZnNldC54ICs9IHNpbih1VGltZSAqIDAuMykgKiB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDI7IC8vIExvdyBmcmVxIGhvcml6b250YWwgc2hpZnRcbiAgICBjYW1lcmFPZmZzZXQueSArPSBjb3ModVRpbWUgKiAwLjQpICogdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMTsgLy8gSGlnaCBmcmVxIHZlcnRpY2FsIHNoaWZ0XG4gICAgY2FtZXJhT2Zmc2V0LnogKz0gdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDE7IC8vIFRyYW5zaWVudCBmb3J3YXJkIHB1bHNlXG5cbiAgICAvLyBNYWluIGxvb3AgKDYwIGl0ZXJhdGlvbnMgYXMgcGVyIG9yaWdpbmFsKVxuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSA2MC4wOyBpKyspIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIHdpdGggY2FtZXJhIG9mZnNldFxuICAgICAgICB2ZWMzIHBvcyA9ICh6ICogcmF5RGlyZWN0aW9uKSArIGNhbWVyYU9mZnNldDtcblxuICAgICAgICAvLyBTaGlmdCB6IGZvcndhcmQgKGFzIGluIG9yaWdpbmFsKVxuICAgICAgICBwb3MueiArPSA2LjA7XG5cbiAgICAgICAgLy8gQXBwbHkgcm90YXRpb24gYmFzZWQgb24gcG9zLnpcbiAgICAgICAgZmxvYXQgYW5nbGUgPSBwb3MueiAqIDAuNDtcbiAgICAgICAgLy8gU3VidGxlIHJvdGF0aW9uIHNwZWVkIGluY3JlYXNlIHdpdGggaGlnaCBmcmVxdWVuY2llc1xuICAgICAgICBhbmdsZSAqPSAxLjAgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAxO1xuICAgICAgICBwb3MueHkgKj0gcm90KGFuZ2xlKTtcblxuICAgICAgICAvLyBJbm5lciBmcmFjdGFsL2RlZm9ybWF0aW9uIGxvb3BcbiAgICAgICAgZmxvYXQgaW5uZXJfc3RlcDtcbiAgICAgICAgZm9yIChpbm5lcl9zdGVwID0gMi4wOyBpbm5lcl9zdGVwIDwgMTUuMDsgaW5uZXJfc3RlcCAvPSAwLjYpIHtcbiAgICAgICAgICAgIHBvcyArPSBjb3MoKHBvcy55enggKyB1VGltZSAqIDMuMCkgKiBpbm5lcl9zdGVwKSAvIGlubmVyX3N0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCcmVhdGhpbmcgZWZmZWN0OiBtb2R1bGF0ZSB0dW5uZWwgc2l6ZSB3aXRoIHRpbWUgYW5kIGxvdyBmcmVxdWVuY2llc1xuICAgICAgICBmbG9hdCBicmVhdGhpbmdQaGFzZSA9IHNpbih1VGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICAgICAgZmxvYXQgYnJlYXRoaW5nRmFjdG9yID0gMS4wICsgdUJyZWF0aGluZ0Ftb3VudCAqICgwLjA1ICsgMC4wNSAqIGJyZWF0aGluZ1BoYXNlKTtcbiAgICAgICAgYnJlYXRoaW5nRmFjdG9yICo9IDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMjsgLy8gQmFzcyBlbmhhbmNlcyBicmVhdGhpbmdcblxuICAgICAgICAvLyBDYWxjdWxhdGUgZGlzdGFuY2Ugc3RlcCB3aXRoIGJyZWF0aGluZyBlZmZlY3RcbiAgICAgICAgZmxvYXQgZGlzdCA9IG1pbihsZW5ndGgocG9zLnh5KSAtIDMuMCwgNC4wIC0gbGVuZ3RoKHBvcykpO1xuICAgICAgICBkaXN0ICo9IGJyZWF0aGluZ0ZhY3RvcjsgLy8gQXBwbHkgYnJlYXRoaW5nIHRvIHR1bm5lbCBnZW9tZXRyeVxuICAgICAgICBmbG9hdCBkaXN0X3N0ZXAgPSAwLjAyICsgYWJzKGRpc3QpIC8gOC4wO1xuICAgICAgICB6ICs9IGRpc3Rfc3RlcDtcblxuICAgICAgICAvLyBDb2xvciBjb250cmlidXRpb24gd2l0aCBhdWRpby1yZWFjdGl2ZSBtb2R1bGF0aW9uXG4gICAgICAgIHZlYzMgYmFzZUNvbG9yID0gdUNvbG9yMTsgLy8gRGVmYXVsdCB0byBwcmltYXJ5IGNvbG9yXG4gICAgICAgIGlmIChsZW5ndGgocG9zLnh5KSA+IDMuNSkgYmFzZUNvbG9yID0gdUNvbG9yMjsgLy8gU2Vjb25kYXJ5IGNvbG9yIGZvciBvdXRlciByZWdpb25zXG4gICAgICAgIGlmIChsZW5ndGgocG9zKSA+IDQuMCkgYmFzZUNvbG9yID0gdUNvbG9yMzsgLy8gVGVydGlhcnkgY29sb3IgZm9yIGZhciByZWdpb25zXG5cbiAgICAgICAgLy8gU3VidGxlIGNvbG9yIG1vZHVsYXRpb25cbiAgICAgICAgYmFzZUNvbG9yICo9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDU7IC8vIFRyYW5zaWVudCBicmlnaHRuZXNzXG4gICAgICAgIGJhc2VDb2xvci5yICo9IDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyOyAvLyBCYXNzIGJvb3N0cyByZWRcbiAgICAgICAgYmFzZUNvbG9yLmIgKj0gMS4wICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyOyAvLyBIaWdoIGZyZXEgYm9vc3RzIGJsdWVcblxuICAgICAgICAvLyBBY2N1bXVsYXRlIGNvbG9yXG4gICAgICAgIHZlYzQgY29sb3JfY29udHJpYnV0aW9uID0gKHNpbih6ICogMC41ICsgdmVjNCg2LjAsIDEuMCwgMi4wLCAwLjApKSArIDEuMSkgLyBkaXN0X3N0ZXA7XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKj0gYmFzZUNvbG9yOyAvLyBBcHBseSBtb2R1bGF0ZWQgY29sb3JcbiAgICAgICAgdG90YWxDb2xvciArPSBjb2xvcl9jb250cmlidXRpb247XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgdG9uZW1hcHBpbmdcbiAgICB0b3RhbENvbG9yID0gdGFuaCh0b3RhbENvbG9yIC8gMTUwMC4wKTtcblxuICAgIC8vIFN1YnRsZSBmb2cgZWZmZWN0XG4gICAgZmxvYXQgZm9nU3RyZW5ndGggPSAwLjAxICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDU7IC8vIEhpZ2ggZnJlcSBlbmhhbmNlcyBmb2dcbiAgICBmbG9hdCBmb2dBbW91bnQgPSBleHAoLXogKiBmb2dTdHJlbmd0aCk7XG4gICAgdmVjMyBmb2dnZWRDb2xvciA9IG1peCh1Rm9nQ29sb3IsIHRvdGFsQ29sb3IucmdiLCBmb2dBbW91bnQpO1xuXG4gICAgLy8gU3VidGxlIGdsb3cgZWZmZWN0XG4gICAgdmVjMyBnbG93ID0gdUdsb3dDb2xvciAqICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjEgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wNSk7XG4gICAgZm9nZ2VkQ29sb3IgKz0gZ2xvdztcblxuICAgIC8vIEZpbmFsIGNvbG9yIG91dHB1dFxuICAgIGZyYWdDb2xvciA9IHZlYzQoZm9nZ2VkQ29sb3IsIDEuMCk7XG59XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBjb252ZXJ0ZWRBYnN0cmFjdFNwaXJhbFNoYWRlclNvdXJjZTsgIl0sIm5hbWVzIjpbImNvbnZlcnRlZEFic3RyYWN0U3BpcmFsU2hhZGVyU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/ConvertedAbstractSpiralShader.js\n");

/***/ }),

/***/ "./utils/shaders/DreamyCubes.js":
/*!**************************************!*\
  !*** ./utils/shaders/DreamyCubes.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst dreamyCubesShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\nuniform float uTransients;   // Beat detection\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;     // Primary color\nuniform vec3 uColor2;     // Secondary color\nuniform vec3 uColor3;     // Tertiary color\nuniform vec3 uFogColor;   // Fog color\nuniform vec3 uGlowColor;  // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.x));\n\n    // Subtle camera shift based on low and high frequencies\n    vec2 cameraOffset = vec2(0.0);\n    cameraOffset.x += uLowEnergy * uEnergyCameraEffect * 0.02;  // Extremely subtle horizontal shift with bass\n    cameraOffset.y += uHighEnergy * uEnergyCameraEffect * 0.01; // Extremely subtle vertical shift with treble\n    rayDirection.xy += cameraOffset;\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Subtle breathing effect for depth scaling\n    float breathingPhase = sin(uTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * (0.01 + 0.01 * breathingPhase); // Very subtle expansion\n\n    // Subtle transient-based time modulation\n    float timeScale = 1.0 + uTransients * uTransientCameraEffect * 0.005; // Extremely subtle speed-up on beats\n    float effectiveTime = uTime * timeScale;\n\n    // Main loop\n    for (float i = 1.0; i <= 80.0; i++) {\n        // Calculate position\n        vec3 p = z * rayDirection * breathingFactor; // Apply breathing to depth\n\n        // Apply time-based offset with subtle transient influence\n        p.xz -= effectiveTime;\n\n        // Subtle y-position modulation with low energy\n        float yMod = 1.0 + uLowEnergy * uEnergyCameraEffect * 0.01; // Subtle height adjustment\n        p.y = (4.0 - abs(p.y)) * yMod;\n\n        // Inner loop\n        float inner_step;\n        for (inner_step = 0.7; inner_step < 20.0; inner_step /= 0.5) {\n            // Subtle high-frequency distortion\n            float distortion = 1.0 + uHighEnergy * uEnergyCameraEffect * 0.005;\n            p += cos(round(p.yzx * inner_step * distortion) - 0.2 * effectiveTime) / inner_step;\n        }\n\n        // Calculate distance step with subtle transient influence\n        float dist_step = 0.01 + abs(p.y) / 15.0;\n        dist_step *= 1.0 + uTransients * uTransientCameraEffect * 0.002; // Very subtle step size increase on beats\n        z += dist_step;\n\n        // Base color contribution\n        vec4 color_contribution = (cos(vec4(0.0, 1.0, 2.0, 0.0) - p.y * 2.0) + 1.1) / (z * dist_step);\n\n        // Subtle color modulation based on audio\n        vec3 baseColor = mix(uColor1, uColor2, clamp(p.y * 0.1, 0.0, 1.0));\n        baseColor = mix(baseColor, uColor3, uHighEnergy * uEnergyColorEffect * 0.05); // Subtle color shift with treble\n        baseColor *= 1.0 + uTransients * uTransientColorEffect * 0.02; // Subtle brightness boost on beats\n        color_contribution.rgb *= baseColor;\n\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 700.0);\n\n    // Subtle fog effect\n    float fogStrength = 0.02 + uHighEnergy * uEnergyColorEffect * 0.005; // Subtle fog increase with treble\n    float fogAmount = exp(-z * fogStrength);\n    totalColor.rgb = mix(uFogColor, totalColor.rgb, fogAmount);\n\n    // Subtle glow effect\n    vec3 glow = uGlowColor * (uTransients * uTransientColorEffect * 0.05 + uEnergy * uEnergyColorEffect * 0.02);\n    totalColor.rgb += glow;\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dreamyCubesShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0RyZWFteUN1YmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSwwQkFBMEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FpSGhDLENBQUM7QUFFRixpRUFBZUEsdUJBQXVCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0RyZWFteUN1YmVzLmpzPzEyNTMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZHJlYW15Q3ViZXNTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbi8vIFN0YW5kYXJkIHVuaWZvcm1zXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVUaW1lO1xuXG4vLyBBdWRpbyBhbmFseXNpcyB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5OyAgICAgICAvLyBPdmVyYWxsIGF1ZGlvIGVuZXJneVxudW5pZm9ybSBmbG9hdCB1TG93RW5lcmd5OyAgICAvLyBMb3cgZnJlcXVlbmN5IGVuZXJneVxudW5pZm9ybSBmbG9hdCB1SGlnaEVuZXJneTsgICAvLyBIaWdoIGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7ICAgLy8gQmVhdCBkZXRlY3Rpb25cblxuLy8gRWZmZWN0IGludGVuc2l0eSB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50SW50ZW5zaXR5OyAgICAvLyBPdmVyYWxsIGludGVuc2l0eSBvZiB0cmFuc2llbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q2FtZXJhRWZmZWN0OyAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNvbG9yRWZmZWN0OyAgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY29sb3JzXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDYW1lcmFFZmZlY3Q7IC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7ICAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjb2xvcnNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ1JhdGU7ICAgICAgICAgLy8gQ29udHJvbHMgaG93IGZhc3QgdGhlIHR1bm5lbCBicmVhdGhlc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAgICAgICAvLyBDb250cm9scyBob3cgbXVjaCB0aGUgdHVubmVsIGV4cGFuZHMvY29udHJhY3RzXG5cbi8vIENvbG9yIHVuaWZvcm1zXG51bmlmb3JtIHZlYzMgdUNvbG9yMTsgICAgIC8vIFByaW1hcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IyOyAgICAgLy8gU2Vjb25kYXJ5IGNvbG9yXG51bmlmb3JtIHZlYzMgdUNvbG9yMzsgICAgIC8vIFRlcnRpYXJ5IGNvbG9yXG51bmlmb3JtIHZlYzMgdUZvZ0NvbG9yOyAgIC8vIEZvZyBjb2xvclxudW5pZm9ybSB2ZWMzIHVHbG93Q29sb3I7ICAvLyBHbG93IGNvbG9yXG5cbi8vIE91dHB1dCBjb2xvclxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gZm9yIHJvdGF0aW9uXG5tYXQyIHJvdChmbG9hdCBhbmdsZSkge1xuICAgIGZsb2F0IHMgPSBzaW4oYW5nbGUpO1xuICAgIGZsb2F0IGMgPSBjb3MoYW5nbGUpO1xuICAgIHJldHVybiBtYXQyKGMsIHMsIC1zLCBjKTtcbn1cblxudm9pZCBtYWluKCkge1xuICAgIC8vIENhbGN1bGF0ZSByYXkgZGlyZWN0aW9uIGJhc2VkIG9uIGZyYWdtZW50IGNvb3JkaW5hdGVzXG4gICAgdmVjMyByYXlEaXJlY3Rpb24gPSBub3JtYWxpemUodmVjMyhnbF9GcmFnQ29vcmQueHkgKiAyLjAgLSB1UmVzb2x1dGlvbi54eSwgLXVSZXNvbHV0aW9uLngpKTtcblxuICAgIC8vIFN1YnRsZSBjYW1lcmEgc2hpZnQgYmFzZWQgb24gbG93IGFuZCBoaWdoIGZyZXF1ZW5jaWVzXG4gICAgdmVjMiBjYW1lcmFPZmZzZXQgPSB2ZWMyKDAuMCk7XG4gICAgY2FtZXJhT2Zmc2V0LnggKz0gdUxvd0VuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAyOyAgLy8gRXh0cmVtZWx5IHN1YnRsZSBob3Jpem9udGFsIHNoaWZ0IHdpdGggYmFzc1xuICAgIGNhbWVyYU9mZnNldC55ICs9IHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDE7IC8vIEV4dHJlbWVseSBzdWJ0bGUgdmVydGljYWwgc2hpZnQgd2l0aCB0cmVibGVcbiAgICByYXlEaXJlY3Rpb24ueHkgKz0gY2FtZXJhT2Zmc2V0O1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApOyAvLyBBY2N1bXVsYXRvciBmb3IgdGhlIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRpc3RhbmNlL2RlcHRoIHBhcmFtZXRlclxuXG4gICAgLy8gU3VidGxlIGJyZWF0aGluZyBlZmZlY3QgZm9yIGRlcHRoIHNjYWxpbmdcbiAgICBmbG9hdCBicmVhdGhpbmdQaGFzZSA9IHNpbih1VGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICBmbG9hdCBicmVhdGhpbmdGYWN0b3IgPSAxLjAgKyB1QnJlYXRoaW5nQW1vdW50ICogKDAuMDEgKyAwLjAxICogYnJlYXRoaW5nUGhhc2UpOyAvLyBWZXJ5IHN1YnRsZSBleHBhbnNpb25cblxuICAgIC8vIFN1YnRsZSB0cmFuc2llbnQtYmFzZWQgdGltZSBtb2R1bGF0aW9uXG4gICAgZmxvYXQgdGltZVNjYWxlID0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0ICogMC4wMDU7IC8vIEV4dHJlbWVseSBzdWJ0bGUgc3BlZWQtdXAgb24gYmVhdHNcbiAgICBmbG9hdCBlZmZlY3RpdmVUaW1lID0gdVRpbWUgKiB0aW1lU2NhbGU7XG5cbiAgICAvLyBNYWluIGxvb3BcbiAgICBmb3IgKGZsb2F0IGkgPSAxLjA7IGkgPD0gODAuMDsgaSsrKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvblxuICAgICAgICB2ZWMzIHAgPSB6ICogcmF5RGlyZWN0aW9uICogYnJlYXRoaW5nRmFjdG9yOyAvLyBBcHBseSBicmVhdGhpbmcgdG8gZGVwdGhcblxuICAgICAgICAvLyBBcHBseSB0aW1lLWJhc2VkIG9mZnNldCB3aXRoIHN1YnRsZSB0cmFuc2llbnQgaW5mbHVlbmNlXG4gICAgICAgIHAueHogLT0gZWZmZWN0aXZlVGltZTtcblxuICAgICAgICAvLyBTdWJ0bGUgeS1wb3NpdGlvbiBtb2R1bGF0aW9uIHdpdGggbG93IGVuZXJneVxuICAgICAgICBmbG9hdCB5TW9kID0gMS4wICsgdUxvd0VuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAxOyAvLyBTdWJ0bGUgaGVpZ2h0IGFkanVzdG1lbnRcbiAgICAgICAgcC55ID0gKDQuMCAtIGFicyhwLnkpKSAqIHlNb2Q7XG5cbiAgICAgICAgLy8gSW5uZXIgbG9vcFxuICAgICAgICBmbG9hdCBpbm5lcl9zdGVwO1xuICAgICAgICBmb3IgKGlubmVyX3N0ZXAgPSAwLjc7IGlubmVyX3N0ZXAgPCAyMC4wOyBpbm5lcl9zdGVwIC89IDAuNSkge1xuICAgICAgICAgICAgLy8gU3VidGxlIGhpZ2gtZnJlcXVlbmN5IGRpc3RvcnRpb25cbiAgICAgICAgICAgIGZsb2F0IGRpc3RvcnRpb24gPSAxLjAgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAwNTtcbiAgICAgICAgICAgIHAgKz0gY29zKHJvdW5kKHAueXp4ICogaW5uZXJfc3RlcCAqIGRpc3RvcnRpb24pIC0gMC4yICogZWZmZWN0aXZlVGltZSkgLyBpbm5lcl9zdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHN0ZXAgd2l0aCBzdWJ0bGUgdHJhbnNpZW50IGluZmx1ZW5jZVxuICAgICAgICBmbG9hdCBkaXN0X3N0ZXAgPSAwLjAxICsgYWJzKHAueSkgLyAxNS4wO1xuICAgICAgICBkaXN0X3N0ZXAgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0ICogMC4wMDI7IC8vIFZlcnkgc3VidGxlIHN0ZXAgc2l6ZSBpbmNyZWFzZSBvbiBiZWF0c1xuICAgICAgICB6ICs9IGRpc3Rfc3RlcDtcblxuICAgICAgICAvLyBCYXNlIGNvbG9yIGNvbnRyaWJ1dGlvblxuICAgICAgICB2ZWM0IGNvbG9yX2NvbnRyaWJ1dGlvbiA9IChjb3ModmVjNCgwLjAsIDEuMCwgMi4wLCAwLjApIC0gcC55ICogMi4wKSArIDEuMSkgLyAoeiAqIGRpc3Rfc3RlcCk7XG5cbiAgICAgICAgLy8gU3VidGxlIGNvbG9yIG1vZHVsYXRpb24gYmFzZWQgb24gYXVkaW9cbiAgICAgICAgdmVjMyBiYXNlQ29sb3IgPSBtaXgodUNvbG9yMSwgdUNvbG9yMiwgY2xhbXAocC55ICogMC4xLCAwLjAsIDEuMCkpO1xuICAgICAgICBiYXNlQ29sb3IgPSBtaXgoYmFzZUNvbG9yLCB1Q29sb3IzLCB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDUpOyAvLyBTdWJ0bGUgY29sb3Igc2hpZnQgd2l0aCB0cmVibGVcbiAgICAgICAgYmFzZUNvbG9yICo9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMjsgLy8gU3VidGxlIGJyaWdodG5lc3MgYm9vc3Qgb24gYmVhdHNcbiAgICAgICAgY29sb3JfY29udHJpYnV0aW9uLnJnYiAqPSBiYXNlQ29sb3I7XG5cbiAgICAgICAgdG90YWxDb2xvciArPSBjb2xvcl9jb250cmlidXRpb247XG4gICAgfVxuXG4gICAgLy8gRmluYWwgdG9uZW1hcHBpbmdcbiAgICB0b3RhbENvbG9yID0gdGFuaCh0b3RhbENvbG9yIC8gNzAwLjApO1xuXG4gICAgLy8gU3VidGxlIGZvZyBlZmZlY3RcbiAgICBmbG9hdCBmb2dTdHJlbmd0aCA9IDAuMDIgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDA1OyAvLyBTdWJ0bGUgZm9nIGluY3JlYXNlIHdpdGggdHJlYmxlXG4gICAgZmxvYXQgZm9nQW1vdW50ID0gZXhwKC16ICogZm9nU3RyZW5ndGgpO1xuICAgIHRvdGFsQ29sb3IucmdiID0gbWl4KHVGb2dDb2xvciwgdG90YWxDb2xvci5yZ2IsIGZvZ0Ftb3VudCk7XG5cbiAgICAvLyBTdWJ0bGUgZ2xvdyBlZmZlY3RcbiAgICB2ZWMzIGdsb3cgPSB1R2xvd0NvbG9yICogKHVUcmFuc2llbnRzICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wNSArIHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyKTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBnbG93O1xuXG4gICAgLy8gU2V0IGZpbmFsIGZyYWdtZW50IGNvbG9yXG4gICAgZnJhZ0NvbG9yID0gdmVjNCh0b3RhbENvbG9yLnJnYiwgMS4wKTtcbn1gO1xuXG5leHBvcnQgZGVmYXVsdCBkcmVhbXlDdWJlc1NoYWRlclNvdXJjZTtcbiJdLCJuYW1lcyI6WyJkcmVhbXlDdWJlc1NoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/DreamyCubes.js\n");

/***/ }),

/***/ "./utils/shaders/EmergingAbstractShapes.js":
/*!*************************************************!*\
  !*** ./utils/shaders/EmergingAbstractShapes.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst emergingAbstractShapesShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;  // Primary color\nuniform vec3 uColor2;  // Secondary color\nuniform vec3 uColor3;  // Tertiary color\nuniform vec3 uFogColor; // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n    vec3 p, v; // Position and auxiliary vector\n\n    // Subtle audio-reactive time scale (affects movement speed)\n    float timeScale = 1.0 + uEnergy * uEnergyCameraEffect * 0.01 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005;\n    float audioTime = uTime * timeScale;\n\n    // Subtle camera displacement based on low and high frequencies\n    vec2 cameraOffset = vec2(\n        sin(audioTime * 0.1) * uLowEnergy * uEnergyCameraEffect * 0.01,\n        cos(audioTime * 0.1) * uHighEnergy * uEnergyCameraEffect * 0.01\n    );\n\n    // Main loop\n    for (float i = 1.0; i <= 100.0; i++) {\n        // Calculate position\n        p = z * rayDirection;\n        p.z -= audioTime; // Apply audio-reactive time\n        p.xy += cameraOffset; // Apply subtle camera offset\n\n        // Subtle breathing effect\n        float breathingPhase = sin(audioTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * breathingPhase * 0.01; // Very subtle scaling\n        p.xy *= breathingFactor;\n\n        // Apply rotation with subtle audio influence\n        float angle = p.z * 0.1 * (1.0 + uHighEnergy * uEnergyCameraEffect * 0.005);\n        p.xy *= rot(angle);\n\n        // Calculate v with subtle low-frequency modulation\n        float audioMod = 1.0 + uLowEnergy * uEnergyCameraEffect * 0.005;\n        v = cos(p + sin(p.yzx / (0.3 * audioMod)));\n        v = max(v, v.zxy * 0.1);\n\n        // Calculate distance step with subtle transient influence\n        float transientMod = 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005;\n        float dist_step = length(v) / (6.0 * transientMod);\n        z += dist_step;\n\n        // Accumulate color with audio-reactive color modulation\n        vec3 baseColor = mix(uColor1, uColor2, sin(p.z * 0.1) * 0.5 + 0.5);\n        baseColor = mix(baseColor, uColor3, uHighEnergy * uEnergyColorEffect * 0.1);\n        \n        // Subtle color pulsing with transients\n        float pulse = 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05;\n        vec4 color_contribution = vec4(baseColor * pulse, 1.0) * (cos(p.z + vec4(0.0, 1.0, 2.0, 3.0)) + 1.0) / dist_step;\n        \n        // Subtle glow effect\n        color_contribution.rgb += uGlowColor * uTransients * uTransientIntensity * uTransientColorEffect * 0.02;\n        \n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 5000.0);\n\n    // Subtle fog effect\n    float fogStrength = 0.01 + uHighEnergy * uEnergyCameraEffect * 0.005;\n    vec3 foggedColor = mix(totalColor.rgb, uFogColor, 1.0 - exp(-z * fogStrength));\n\n    // Final fragment color with subtle energy-based saturation boost\n    vec3 finalColor = foggedColor * (1.0 + uEnergy * uEnergyColorEffect * 0.01);\n    fragColor = vec4(finalColor, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (emergingAbstractShapesShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0VtZXJnaW5nQWJzdHJhY3RTaGFwZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLHFDQUFxQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBNkczQyxDQUFDO0FBRUYsaUVBQWVBLGtDQUFrQ0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9FbWVyZ2luZ0Fic3RyYWN0U2hhcGVzLmpzP2UyMjciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZW1lcmdpbmdBYnN0cmFjdFNoYXBlc1NoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuLy8gU3RhbmRhcmQgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRJbnRlbnNpdHk7ICAgIC8vIE92ZXJhbGwgaW50ZW5zaXR5IG9mIHRyYW5zaWVudCBlZmZlY3RzXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDYW1lcmFFZmZlY3Q7ICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q29sb3JFZmZlY3Q7ICAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjb2xvcnNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENhbWVyYUVmZmVjdDsgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDb2xvckVmZmVjdDsgIC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNvbG9yc1xuXG4vLyBUdW5uZWwgYnJlYXRoaW5nIGVmZmVjdCB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nUmF0ZTsgICAgICAgICAvLyBDb250cm9scyBob3cgZmFzdCB0aGUgdHVubmVsIGJyZWF0aGVzXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdBbW91bnQ7ICAgICAgIC8vIENvbnRyb2xzIGhvdyBtdWNoIHRoZSB0dW5uZWwgZXhwYW5kcy9jb250cmFjdHNcblxuLy8gQ29sb3IgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMyB1Q29sb3IxOyAgLy8gUHJpbWFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVDb2xvcjI7ICAvLyBTZWNvbmRhcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IzOyAgLy8gVGVydGlhcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Rm9nQ29sb3I7IC8vIEZvZyBjb2xvclxudW5pZm9ybSB2ZWMzIHVHbG93Q29sb3I7IC8vIEdsb3cgY29sb3JcblxuLy8gT3V0cHV0IGNvbG9yXG5vdXQgdmVjNCBmcmFnQ29sb3I7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiBmb3Igcm90YXRpb25cbm1hdDIgcm90KGZsb2F0IGFuZ2xlKSB7XG4gICAgZmxvYXQgcyA9IHNpbihhbmdsZSk7XG4gICAgZmxvYXQgYyA9IGNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIG1hdDIoYywgcywgLXMsIGMpO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gZnJhZ21lbnQgY29vcmRpbmF0ZXNcbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKGdsX0ZyYWdDb29yZC54eSAqIDIuMCAtIHVSZXNvbHV0aW9uLnh5LCAtdVJlc29sdXRpb24ueSkpO1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApOyAvLyBBY2N1bXVsYXRvciBmb3IgdGhlIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRpc3RhbmNlL2RlcHRoIHBhcmFtZXRlclxuICAgIHZlYzMgcCwgdjsgLy8gUG9zaXRpb24gYW5kIGF1eGlsaWFyeSB2ZWN0b3JcblxuICAgIC8vIFN1YnRsZSBhdWRpby1yZWFjdGl2ZSB0aW1lIHNjYWxlIChhZmZlY3RzIG1vdmVtZW50IHNwZWVkKVxuICAgIGZsb2F0IHRpbWVTY2FsZSA9IDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMSArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAwNTtcbiAgICBmbG9hdCBhdWRpb1RpbWUgPSB1VGltZSAqIHRpbWVTY2FsZTtcblxuICAgIC8vIFN1YnRsZSBjYW1lcmEgZGlzcGxhY2VtZW50IGJhc2VkIG9uIGxvdyBhbmQgaGlnaCBmcmVxdWVuY2llc1xuICAgIHZlYzIgY2FtZXJhT2Zmc2V0ID0gdmVjMihcbiAgICAgICAgc2luKGF1ZGlvVGltZSAqIDAuMSkgKiB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDEsXG4gICAgICAgIGNvcyhhdWRpb1RpbWUgKiAwLjEpICogdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMVxuICAgICk7XG5cbiAgICAvLyBNYWluIGxvb3BcbiAgICBmb3IgKGZsb2F0IGkgPSAxLjA7IGkgPD0gMTAwLjA7IGkrKykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb25cbiAgICAgICAgcCA9IHogKiByYXlEaXJlY3Rpb247XG4gICAgICAgIHAueiAtPSBhdWRpb1RpbWU7IC8vIEFwcGx5IGF1ZGlvLXJlYWN0aXZlIHRpbWVcbiAgICAgICAgcC54eSArPSBjYW1lcmFPZmZzZXQ7IC8vIEFwcGx5IHN1YnRsZSBjYW1lcmEgb2Zmc2V0XG5cbiAgICAgICAgLy8gU3VidGxlIGJyZWF0aGluZyBlZmZlY3RcbiAgICAgICAgZmxvYXQgYnJlYXRoaW5nUGhhc2UgPSBzaW4oYXVkaW9UaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgICAgICBmbG9hdCBicmVhdGhpbmdGYWN0b3IgPSAxLjAgKyB1QnJlYXRoaW5nQW1vdW50ICogYnJlYXRoaW5nUGhhc2UgKiAwLjAxOyAvLyBWZXJ5IHN1YnRsZSBzY2FsaW5nXG4gICAgICAgIHAueHkgKj0gYnJlYXRoaW5nRmFjdG9yO1xuXG4gICAgICAgIC8vIEFwcGx5IHJvdGF0aW9uIHdpdGggc3VidGxlIGF1ZGlvIGluZmx1ZW5jZVxuICAgICAgICBmbG9hdCBhbmdsZSA9IHAueiAqIDAuMSAqICgxLjAgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAwNSk7XG4gICAgICAgIHAueHkgKj0gcm90KGFuZ2xlKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdiB3aXRoIHN1YnRsZSBsb3ctZnJlcXVlbmN5IG1vZHVsYXRpb25cbiAgICAgICAgZmxvYXQgYXVkaW9Nb2QgPSAxLjAgKyB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgICAgICB2ID0gY29zKHAgKyBzaW4ocC55enggLyAoMC4zICogYXVkaW9Nb2QpKSk7XG4gICAgICAgIHYgPSBtYXgodiwgdi56eHkgKiAwLjEpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkaXN0YW5jZSBzdGVwIHdpdGggc3VidGxlIHRyYW5zaWVudCBpbmZsdWVuY2VcbiAgICAgICAgZmxvYXQgdHJhbnNpZW50TW9kID0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgICAgICBmbG9hdCBkaXN0X3N0ZXAgPSBsZW5ndGgodikgLyAoNi4wICogdHJhbnNpZW50TW9kKTtcbiAgICAgICAgeiArPSBkaXN0X3N0ZXA7XG5cbiAgICAgICAgLy8gQWNjdW11bGF0ZSBjb2xvciB3aXRoIGF1ZGlvLXJlYWN0aXZlIGNvbG9yIG1vZHVsYXRpb25cbiAgICAgICAgdmVjMyBiYXNlQ29sb3IgPSBtaXgodUNvbG9yMSwgdUNvbG9yMiwgc2luKHAueiAqIDAuMSkgKiAwLjUgKyAwLjUpO1xuICAgICAgICBiYXNlQ29sb3IgPSBtaXgoYmFzZUNvbG9yLCB1Q29sb3IzLCB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdWJ0bGUgY29sb3IgcHVsc2luZyB3aXRoIHRyYW5zaWVudHNcbiAgICAgICAgZmxvYXQgcHVsc2UgPSAxLjAgKyB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjA1O1xuICAgICAgICB2ZWM0IGNvbG9yX2NvbnRyaWJ1dGlvbiA9IHZlYzQoYmFzZUNvbG9yICogcHVsc2UsIDEuMCkgKiAoY29zKHAueiArIHZlYzQoMC4wLCAxLjAsIDIuMCwgMy4wKSkgKyAxLjApIC8gZGlzdF9zdGVwO1xuICAgICAgICBcbiAgICAgICAgLy8gU3VidGxlIGdsb3cgZWZmZWN0XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKz0gdUdsb3dDb2xvciAqIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDI7XG4gICAgICAgIFxuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yX2NvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyA1MDAwLjApO1xuXG4gICAgLy8gU3VidGxlIGZvZyBlZmZlY3RcbiAgICBmbG9hdCBmb2dTdHJlbmd0aCA9IDAuMDEgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAwNTtcbiAgICB2ZWMzIGZvZ2dlZENvbG9yID0gbWl4KHRvdGFsQ29sb3IucmdiLCB1Rm9nQ29sb3IsIDEuMCAtIGV4cCgteiAqIGZvZ1N0cmVuZ3RoKSk7XG5cbiAgICAvLyBGaW5hbCBmcmFnbWVudCBjb2xvciB3aXRoIHN1YnRsZSBlbmVyZ3ktYmFzZWQgc2F0dXJhdGlvbiBib29zdFxuICAgIHZlYzMgZmluYWxDb2xvciA9IGZvZ2dlZENvbG9yICogKDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAxKTtcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KGZpbmFsQ29sb3IsIDEuMCk7XG59YDtcblxuZXhwb3J0IGRlZmF1bHQgZW1lcmdpbmdBYnN0cmFjdFNoYXBlc1NoYWRlclNvdXJjZTsiXSwibmFtZXMiOlsiZW1lcmdpbmdBYnN0cmFjdFNoYXBlc1NoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/EmergingAbstractShapes.js\n");

/***/ }),

/***/ "./utils/shaders/EmergingCity.js":
/*!***************************************!*\
  !*** ./utils/shaders/EmergingCity.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst emergingCityShaderSource = `#version 300 es\nprecision highp float; // High precision for complex calculations\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1; // Primary color\nuniform vec3 uColor2; // Secondary color\nuniform vec3 uColor3; // Tertiary color\nuniform vec3 uFogColor; // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Smooth step function for subtle transitions\nfloat smootherstep(float edge0, float edge1, float x) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for color\n    float z = 0.0; // Accumulator for depth/distance\n\n    // Subtle camera modulation: Low frequencies cause faint depth oscillation\n    float cameraOffset = uLowEnergy * uEnergyCameraEffect * 0.01; // Extremely subtle\n    z += sin(uTime * 0.1) * cameraOffset;\n\n    // Breathing effect: Subtle modulation of step size\n    float breathingPhase = sin(uTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * breathingPhase * 0.005; // Very subtle expansion\n\n    // Main loop: 100 iterations\n    for (float i = 1.0; i <= 100.0; i++) {\n        // Calculate position\n        vec3 p = z * rayDirection;\n\n        // Update position with subtle audio-reactive displacement\n        p += 0.15;\n        p.xy += vec2(\n            sin(uTime * 0.1) * uTransients * uTransientIntensity * uTransientCameraEffect * 0.005,\n            cos(uTime * 0.1) * uTransients * uTransientIntensity * uTransientCameraEffect * 0.005\n        ); // Subtle transient-driven wobble\n\n        // Calculate vector v\n        vec3 v = vec3(\n            atan(p.x, p.y) - uTime * 0.1,\n            length(p.xy),\n            p.z / 0.2 - uTime\n        );\n\n        // Subtle audio modulation of v: High frequencies affect rotation slightly\n        v.x += uHighEnergy * uEnergyCameraEffect * 0.005; // Minimal rotation tweak\n\n        // Calculate step size\n        vec3 v_temp = sin(v * 7.0 + cos(v / 0.03 - uTime));\n        v = v_temp;\n        vec3 v_compare = v.yzx * 0.1;\n        float dist_step = length(max(v, v_compare)) / 100.0;\n\n        // Apply breathing factor to step size\n        dist_step *= breathingFactor;\n\n        // Update depth\n        z += dist_step;\n\n        // Base color contribution\n        vec4 color_contribution = (sin((p.z - uTime * 0.2) * vec4(3.0, 5.0, 9.0, 4.0)) + 1.0) / dist_step;\n\n        // Subtle color modulation: Use uColor1, uColor2, uColor3 based on depth\n        vec3 baseColor = uColor1;\n        if (z > 10.0) baseColor = uColor2;\n        if (z > 20.0) baseColor = uColor3;\n\n        // Apply faint audio-reactive color boost\n        baseColor *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.01; // Subtle transient brightness\n        baseColor += uHighEnergy * uEnergyColorEffect * uGlowColor * 0.005; // Faint glow from high frequencies\n\n        // Apply color to contribution\n        color_contribution.rgb *= baseColor;\n\n        // Subtle fog effect: Accumulate fog based on depth\n        float fogStrength = 0.01 + uEnergy * uEnergyCameraEffect * 0.002; // Very subtle fog\n        float fogAmount = exp(-z * fogStrength);\n        color_contribution.rgb = mix(uFogColor, color_contribution.rgb, fogAmount);\n\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 100000.0);\n\n    // Subtle post-processing: Add faint glow and vignette\n    vec2 q = gl_FragCoord.xy / uResolution.xy;\n    totalColor.rgb += uGlowColor * uTransients * uTransientIntensity * uTransientColorEffect * 0.01; // Faint glow\n    // totalColor.rgb *= pow(16.0 * q.x * q.y * (1.0 - q.x) * (1.0 - q.y), 0.1) * 0.6 + 0.4; // Optional vignette (commented out)\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (emergingCityShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0VtZXJnaW5nQ2l0eS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsMkJBQTJCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBMEhqQyxDQUFDO0FBRUYsaUVBQWVBLHdCQUF3QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9FbWVyZ2luZ0NpdHkuanM/YTljNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbWVyZ2luZ0NpdHlTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7IC8vIEhpZ2ggcHJlY2lzaW9uIGZvciBjb21wbGV4IGNhbGN1bGF0aW9uc1xuXG4vLyBTdGFuZGFyZCB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xudW5pZm9ybSBmbG9hdCB1VGltZTtcblxuLy8gQXVkaW8gYW5hbHlzaXMgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7ICAgLy8gQmVhdCBkZXRlY3Rpb25cbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUxvd0VuZXJneTsgICAgLy8gTG93IGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG5cbi8vIEVmZmVjdCBpbnRlbnNpdHkgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gT3ZlcmFsbCBpbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIENvbnRyb2xzIGhvdyBmYXN0IHRoZSB0dW5uZWwgYnJlYXRoZXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQ29udHJvbHMgaG93IG11Y2ggdGhlIHR1bm5lbCBleHBhbmRzL2NvbnRyYWN0c1xuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7IC8vIFByaW1hcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IyOyAvLyBTZWNvbmRhcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IzOyAvLyBUZXJ0aWFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjsgLy8gRm9nIGNvbG9yXG51bmlmb3JtIHZlYzMgdUdsb3dDb2xvcjsgLy8gR2xvdyBjb2xvclxuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gU21vb3RoIHN0ZXAgZnVuY3Rpb24gZm9yIHN1YnRsZSB0cmFuc2l0aW9uc1xuZmxvYXQgc21vb3RoZXJzdGVwKGZsb2F0IGVkZ2UwLCBmbG9hdCBlZGdlMSwgZmxvYXQgeCkge1xuICAgIHggPSBjbGFtcCgoeCAtIGVkZ2UwKSAvIChlZGdlMSAtIGVkZ2UwKSwgMC4wLCAxLjApO1xuICAgIHJldHVybiB4ICogeCAqIHggKiAoeCAqICh4ICogNi4wIC0gMTUuMCkgKyAxMC4wKTtcbn1cblxudm9pZCBtYWluKCkge1xuICAgIC8vIENhbGN1bGF0ZSByYXkgZGlyZWN0aW9uIGJhc2VkIG9uIGZyYWdtZW50IGNvb3JkaW5hdGVzXG4gICAgdmVjMyByYXlEaXJlY3Rpb24gPSBub3JtYWxpemUodmVjMyhnbF9GcmFnQ29vcmQueHkgKiAyLjAgLSB1UmVzb2x1dGlvbi54eSwgLXVSZXNvbHV0aW9uLnkpKTtcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRlcHRoL2Rpc3RhbmNlXG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIG1vZHVsYXRpb246IExvdyBmcmVxdWVuY2llcyBjYXVzZSBmYWludCBkZXB0aCBvc2NpbGxhdGlvblxuICAgIGZsb2F0IGNhbWVyYU9mZnNldCA9IHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMTsgLy8gRXh0cmVtZWx5IHN1YnRsZVxuICAgIHogKz0gc2luKHVUaW1lICogMC4xKSAqIGNhbWVyYU9mZnNldDtcblxuICAgIC8vIEJyZWF0aGluZyBlZmZlY3Q6IFN1YnRsZSBtb2R1bGF0aW9uIG9mIHN0ZXAgc2l6ZVxuICAgIGZsb2F0IGJyZWF0aGluZ1BoYXNlID0gc2luKHVUaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiBicmVhdGhpbmdQaGFzZSAqIDAuMDA1OyAvLyBWZXJ5IHN1YnRsZSBleHBhbnNpb25cblxuICAgIC8vIE1haW4gbG9vcDogMTAwIGl0ZXJhdGlvbnNcbiAgICBmb3IgKGZsb2F0IGkgPSAxLjA7IGkgPD0gMTAwLjA7IGkrKykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb25cbiAgICAgICAgdmVjMyBwID0geiAqIHJheURpcmVjdGlvbjtcblxuICAgICAgICAvLyBVcGRhdGUgcG9zaXRpb24gd2l0aCBzdWJ0bGUgYXVkaW8tcmVhY3RpdmUgZGlzcGxhY2VtZW50XG4gICAgICAgIHAgKz0gMC4xNTtcbiAgICAgICAgcC54eSArPSB2ZWMyKFxuICAgICAgICAgICAgc2luKHVUaW1lICogMC4xKSAqIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAwNSxcbiAgICAgICAgICAgIGNvcyh1VGltZSAqIDAuMSkgKiB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0ICogMC4wMDVcbiAgICAgICAgKTsgLy8gU3VidGxlIHRyYW5zaWVudC1kcml2ZW4gd29iYmxlXG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHZlY3RvciB2XG4gICAgICAgIHZlYzMgdiA9IHZlYzMoXG4gICAgICAgICAgICBhdGFuKHAueCwgcC55KSAtIHVUaW1lICogMC4xLFxuICAgICAgICAgICAgbGVuZ3RoKHAueHkpLFxuICAgICAgICAgICAgcC56IC8gMC4yIC0gdVRpbWVcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBTdWJ0bGUgYXVkaW8gbW9kdWxhdGlvbiBvZiB2OiBIaWdoIGZyZXF1ZW5jaWVzIGFmZmVjdCByb3RhdGlvbiBzbGlnaHRseVxuICAgICAgICB2LnggKz0gdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDU7IC8vIE1pbmltYWwgcm90YXRpb24gdHdlYWtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgc3RlcCBzaXplXG4gICAgICAgIHZlYzMgdl90ZW1wID0gc2luKHYgKiA3LjAgKyBjb3ModiAvIDAuMDMgLSB1VGltZSkpO1xuICAgICAgICB2ID0gdl90ZW1wO1xuICAgICAgICB2ZWMzIHZfY29tcGFyZSA9IHYueXp4ICogMC4xO1xuICAgICAgICBmbG9hdCBkaXN0X3N0ZXAgPSBsZW5ndGgobWF4KHYsIHZfY29tcGFyZSkpIC8gMTAwLjA7XG5cbiAgICAgICAgLy8gQXBwbHkgYnJlYXRoaW5nIGZhY3RvciB0byBzdGVwIHNpemVcbiAgICAgICAgZGlzdF9zdGVwICo9IGJyZWF0aGluZ0ZhY3RvcjtcblxuICAgICAgICAvLyBVcGRhdGUgZGVwdGhcbiAgICAgICAgeiArPSBkaXN0X3N0ZXA7XG5cbiAgICAgICAgLy8gQmFzZSBjb2xvciBjb250cmlidXRpb25cbiAgICAgICAgdmVjNCBjb2xvcl9jb250cmlidXRpb24gPSAoc2luKChwLnogLSB1VGltZSAqIDAuMikgKiB2ZWM0KDMuMCwgNS4wLCA5LjAsIDQuMCkpICsgMS4wKSAvIGRpc3Rfc3RlcDtcblxuICAgICAgICAvLyBTdWJ0bGUgY29sb3IgbW9kdWxhdGlvbjogVXNlIHVDb2xvcjEsIHVDb2xvcjIsIHVDb2xvcjMgYmFzZWQgb24gZGVwdGhcbiAgICAgICAgdmVjMyBiYXNlQ29sb3IgPSB1Q29sb3IxO1xuICAgICAgICBpZiAoeiA+IDEwLjApIGJhc2VDb2xvciA9IHVDb2xvcjI7XG4gICAgICAgIGlmICh6ID4gMjAuMCkgYmFzZUNvbG9yID0gdUNvbG9yMztcblxuICAgICAgICAvLyBBcHBseSBmYWludCBhdWRpby1yZWFjdGl2ZSBjb2xvciBib29zdFxuICAgICAgICBiYXNlQ29sb3IgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMTsgLy8gU3VidGxlIHRyYW5zaWVudCBicmlnaHRuZXNzXG4gICAgICAgIGJhc2VDb2xvciArPSB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIHVHbG93Q29sb3IgKiAwLjAwNTsgLy8gRmFpbnQgZ2xvdyBmcm9tIGhpZ2ggZnJlcXVlbmNpZXNcblxuICAgICAgICAvLyBBcHBseSBjb2xvciB0byBjb250cmlidXRpb25cbiAgICAgICAgY29sb3JfY29udHJpYnV0aW9uLnJnYiAqPSBiYXNlQ29sb3I7XG5cbiAgICAgICAgLy8gU3VidGxlIGZvZyBlZmZlY3Q6IEFjY3VtdWxhdGUgZm9nIGJhc2VkIG9uIGRlcHRoXG4gICAgICAgIGZsb2F0IGZvZ1N0cmVuZ3RoID0gMC4wMSArIHVFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDI7IC8vIFZlcnkgc3VidGxlIGZvZ1xuICAgICAgICBmbG9hdCBmb2dBbW91bnQgPSBleHAoLXogKiBmb2dTdHJlbmd0aCk7XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgPSBtaXgodUZvZ0NvbG9yLCBjb2xvcl9jb250cmlidXRpb24ucmdiLCBmb2dBbW91bnQpO1xuXG4gICAgICAgIHRvdGFsQ29sb3IgKz0gY29sb3JfY29udHJpYnV0aW9uO1xuICAgIH1cblxuICAgIC8vIEZpbmFsIHRvbmVtYXBwaW5nXG4gICAgdG90YWxDb2xvciA9IHRhbmgodG90YWxDb2xvciAvIDEwMDAwMC4wKTtcblxuICAgIC8vIFN1YnRsZSBwb3N0LXByb2Nlc3Npbmc6IEFkZCBmYWludCBnbG93IGFuZCB2aWduZXR0ZVxuICAgIHZlYzIgcSA9IGdsX0ZyYWdDb29yZC54eSAvIHVSZXNvbHV0aW9uLnh5O1xuICAgIHRvdGFsQ29sb3IucmdiICs9IHVHbG93Q29sb3IgKiB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjAxOyAvLyBGYWludCBnbG93XG4gICAgLy8gdG90YWxDb2xvci5yZ2IgKj0gcG93KDE2LjAgKiBxLnggKiBxLnkgKiAoMS4wIC0gcS54KSAqICgxLjAgLSBxLnkpLCAwLjEpICogMC42ICsgMC40OyAvLyBPcHRpb25hbCB2aWduZXR0ZSAoY29tbWVudGVkIG91dClcblxuICAgIC8vIFNldCBmaW5hbCBmcmFnbWVudCBjb2xvclxuICAgIGZyYWdDb2xvciA9IHZlYzQodG90YWxDb2xvci5yZ2IsIDEuMCk7XG59YDtcblxuZXhwb3J0IGRlZmF1bHQgZW1lcmdpbmdDaXR5U2hhZGVyU291cmNlOyJdLCJuYW1lcyI6WyJlbWVyZ2luZ0NpdHlTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/EmergingCity.js\n");

/***/ }),

/***/ "./utils/shaders/FireShader.js":
/*!*************************************!*\
  !*** ./utils/shaders/FireShader.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst fireShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\nuniform float uTransients;   // Beat detection\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;        // First color zone\nuniform vec3 uColor2;        // Second color zone\nuniform vec3 uColor3;        // Third color zone\nuniform vec3 uFogColor;      // Fog color\nuniform vec3 uGlowColor;     // Glow color\n\n// Camera speed uniform\nuniform float uCameraSpeed;  // Controls movement speed through tunnel\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Normalized texture coordinates for vignette\n    vec2 q = gl_FragCoord.xy / uResolution.xy;\n    \n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth\n\n    // Main loop: loop from i=1 to i=50\n    for (float i = 1.0; i <= 50.0; i++) {\n        // Calculate position 'p' based on 'z' and ray direction\n        vec3 p = z * rayDirection;\n\n        // Subtle camera movement: low frequencies slightly affect z-position\n        float cameraOffset = 5.0 + cos(uTime * uCameraSpeed);\n        cameraOffset += uLowEnergy * uEnergyCameraEffect * 0.01; // Extremely subtle bass-driven movement\n        p.z += cameraOffset;\n\n        // Apply rotation to p.xz with subtle high-frequency influence\n        float angle = uTime + p.y * 0.5;\n        angle += uHighEnergy * uEnergyCameraEffect * 0.005; // Subtle rotation tweak on high frequencies\n        float scale = max(p.y * 0.1 + 1.0, 0.1);\n        p.xz *= rot(angle) / scale;\n\n        // Inner loop: noise deformation\n        float j;\n        for (j = 2.0; j < 15.0; j /= 0.6) {\n            p += cos((p.yzx - vec3(uTime, 0.0, 0.0) / 0.1) * j + uTime) / j;\n        }\n\n        // Calculate distance step with subtle transient influence\n        float breathingPhase = sin(uTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * breathingPhase * 0.01; // Very subtle breathing\n        float transientShrink = 1.0 - uTransients * uTransientIntensity * uTransientCameraEffect * 0.005; // Subtle contraction on beats\n        float dist_step = (0.01 + abs(length(p.xz) + p.y * 0.3 - 0.5) / 7.0) * transientShrink * breathingFactor;\n        z += dist_step;\n\n        // Color zones based on p.y\n        vec3 baseCol = uColor1; // Default color\n        if (p.y > 0.5) baseCol = uColor2; // Second color zone\n        if (p.y > 1.0) baseCol = uColor3; // Third color zone\n\n        // Subtle color reactivity: transients slightly boost brightness\n        vec4 color_contribution = (sin(z / 3.0 + vec4(7.0, 2.0, 3.0, 0.0)) + 1.1) / dist_step;\n        color_contribution.rgb *= baseCol;\n        color_contribution.rgb *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.01; // Subtle brightness pulse\n\n        // Subtle fog effect, scaled down near edges\n        float fogStrength = 0.05 + uHighEnergy * uEnergyCameraEffect * 0.005; // Minimal fog with high-frequency influence\n        float fogT = exp(z * fogStrength - 2.0);\n        color_contribution.rgb += uFogColor * fogT * 0.02; // Very subtle fog\n\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 1000.0);\n\n    // Add subtle glow effect\n    vec3 audioReactiveGlow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.01);\n    totalColor.rgb += audioReactiveGlow;\n\n    // Apply vignette to ensure black edges\n    float vignette = pow(16.0 * q.x * q.y * (1.0 - q.x) * (1.0 - q.y), 0.3);\n    totalColor.rgb *= vignette; // Darken edges to black\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fireShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0ZpcmVTaGFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLG1CQUFtQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrSHpCLENBQUM7QUFFRixpRUFBZUEsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0ZpcmVTaGFkZXIuanM/MGM2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmaXJlU2hhZGVyU291cmNlID0gYCN2ZXJzaW9uIDMwMCBlc1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4vLyBTdGFuZGFyZCB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xudW5pZm9ybSBmbG9hdCB1VGltZTtcblxuLy8gQXVkaW8gYW5hbHlzaXMgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUxvd0VuZXJneTsgICAgLy8gTG93IGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG5cbi8vIEVmZmVjdCBpbnRlbnNpdHkgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gT3ZlcmFsbCBpbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIENvbnRyb2xzIGhvdyBmYXN0IHRoZSB0dW5uZWwgYnJlYXRoZXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQ29udHJvbHMgaG93IG11Y2ggdGhlIHR1bm5lbCBleHBhbmRzL2NvbnRyYWN0c1xuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7ICAgICAgICAvLyBGaXJzdCBjb2xvciB6b25lXG51bmlmb3JtIHZlYzMgdUNvbG9yMjsgICAgICAgIC8vIFNlY29uZCBjb2xvciB6b25lXG51bmlmb3JtIHZlYzMgdUNvbG9yMzsgICAgICAgIC8vIFRoaXJkIGNvbG9yIHpvbmVcbnVuaWZvcm0gdmVjMyB1Rm9nQ29sb3I7ICAgICAgLy8gRm9nIGNvbG9yXG51bmlmb3JtIHZlYzMgdUdsb3dDb2xvcjsgICAgIC8vIEdsb3cgY29sb3JcblxuLy8gQ2FtZXJhIHNwZWVkIHVuaWZvcm1cbnVuaWZvcm0gZmxvYXQgdUNhbWVyYVNwZWVkOyAgLy8gQ29udHJvbHMgbW92ZW1lbnQgc3BlZWQgdGhyb3VnaCB0dW5uZWxcblxuLy8gT3V0cHV0IGNvbG9yXG5vdXQgdmVjNCBmcmFnQ29sb3I7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiBmb3Igcm90YXRpb25cbm1hdDIgcm90KGZsb2F0IGFuZ2xlKSB7XG4gICAgZmxvYXQgcyA9IHNpbihhbmdsZSk7XG4gICAgZmxvYXQgYyA9IGNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIG1hdDIoYywgcywgLXMsIGMpO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gTm9ybWFsaXplZCB0ZXh0dXJlIGNvb3JkaW5hdGVzIGZvciB2aWduZXR0ZVxuICAgIHZlYzIgcSA9IGdsX0ZyYWdDb29yZC54eSAvIHVSZXNvbHV0aW9uLnh5O1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSByYXkgZGlyZWN0aW9uIGJhc2VkIG9uIGZyYWdtZW50IGNvb3JkaW5hdGVzXG4gICAgdmVjMyByYXlEaXJlY3Rpb24gPSBub3JtYWxpemUodmVjMyhnbF9GcmFnQ29vcmQueHkgKiAyLjAgLSB1UmVzb2x1dGlvbi54eSwgLXVSZXNvbHV0aW9uLnkpKTtcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIHRoZSBjb2xvclxuICAgIGZsb2F0IHogPSAwLjA7IC8vIEFjY3VtdWxhdG9yIGZvciBkaXN0YW5jZS9kZXB0aFxuXG4gICAgLy8gTWFpbiBsb29wOiBsb29wIGZyb20gaT0xIHRvIGk9NTBcbiAgICBmb3IgKGZsb2F0IGkgPSAxLjA7IGkgPD0gNTAuMDsgaSsrKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiAncCcgYmFzZWQgb24gJ3onIGFuZCByYXkgZGlyZWN0aW9uXG4gICAgICAgIHZlYzMgcCA9IHogKiByYXlEaXJlY3Rpb247XG5cbiAgICAgICAgLy8gU3VidGxlIGNhbWVyYSBtb3ZlbWVudDogbG93IGZyZXF1ZW5jaWVzIHNsaWdodGx5IGFmZmVjdCB6LXBvc2l0aW9uXG4gICAgICAgIGZsb2F0IGNhbWVyYU9mZnNldCA9IDUuMCArIGNvcyh1VGltZSAqIHVDYW1lcmFTcGVlZCk7XG4gICAgICAgIGNhbWVyYU9mZnNldCArPSB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDE7IC8vIEV4dHJlbWVseSBzdWJ0bGUgYmFzcy1kcml2ZW4gbW92ZW1lbnRcbiAgICAgICAgcC56ICs9IGNhbWVyYU9mZnNldDtcblxuICAgICAgICAvLyBBcHBseSByb3RhdGlvbiB0byBwLnh6IHdpdGggc3VidGxlIGhpZ2gtZnJlcXVlbmN5IGluZmx1ZW5jZVxuICAgICAgICBmbG9hdCBhbmdsZSA9IHVUaW1lICsgcC55ICogMC41O1xuICAgICAgICBhbmdsZSArPSB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAwNTsgLy8gU3VidGxlIHJvdGF0aW9uIHR3ZWFrIG9uIGhpZ2ggZnJlcXVlbmNpZXNcbiAgICAgICAgZmxvYXQgc2NhbGUgPSBtYXgocC55ICogMC4xICsgMS4wLCAwLjEpO1xuICAgICAgICBwLnh6ICo9IHJvdChhbmdsZSkgLyBzY2FsZTtcblxuICAgICAgICAvLyBJbm5lciBsb29wOiBub2lzZSBkZWZvcm1hdGlvblxuICAgICAgICBmbG9hdCBqO1xuICAgICAgICBmb3IgKGogPSAyLjA7IGogPCAxNS4wOyBqIC89IDAuNikge1xuICAgICAgICAgICAgcCArPSBjb3MoKHAueXp4IC0gdmVjMyh1VGltZSwgMC4wLCAwLjApIC8gMC4xKSAqIGogKyB1VGltZSkgLyBqO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHN0ZXAgd2l0aCBzdWJ0bGUgdHJhbnNpZW50IGluZmx1ZW5jZVxuICAgICAgICBmbG9hdCBicmVhdGhpbmdQaGFzZSA9IHNpbih1VGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICAgICAgZmxvYXQgYnJlYXRoaW5nRmFjdG9yID0gMS4wICsgdUJyZWF0aGluZ0Ftb3VudCAqIGJyZWF0aGluZ1BoYXNlICogMC4wMTsgLy8gVmVyeSBzdWJ0bGUgYnJlYXRoaW5nXG4gICAgICAgIGZsb2F0IHRyYW5zaWVudFNocmluayA9IDEuMCAtIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAwNTsgLy8gU3VidGxlIGNvbnRyYWN0aW9uIG9uIGJlYXRzXG4gICAgICAgIGZsb2F0IGRpc3Rfc3RlcCA9ICgwLjAxICsgYWJzKGxlbmd0aChwLnh6KSArIHAueSAqIDAuMyAtIDAuNSkgLyA3LjApICogdHJhbnNpZW50U2hyaW5rICogYnJlYXRoaW5nRmFjdG9yO1xuICAgICAgICB6ICs9IGRpc3Rfc3RlcDtcblxuICAgICAgICAvLyBDb2xvciB6b25lcyBiYXNlZCBvbiBwLnlcbiAgICAgICAgdmVjMyBiYXNlQ29sID0gdUNvbG9yMTsgLy8gRGVmYXVsdCBjb2xvclxuICAgICAgICBpZiAocC55ID4gMC41KSBiYXNlQ29sID0gdUNvbG9yMjsgLy8gU2Vjb25kIGNvbG9yIHpvbmVcbiAgICAgICAgaWYgKHAueSA+IDEuMCkgYmFzZUNvbCA9IHVDb2xvcjM7IC8vIFRoaXJkIGNvbG9yIHpvbmVcblxuICAgICAgICAvLyBTdWJ0bGUgY29sb3IgcmVhY3Rpdml0eTogdHJhbnNpZW50cyBzbGlnaHRseSBib29zdCBicmlnaHRuZXNzXG4gICAgICAgIHZlYzQgY29sb3JfY29udHJpYnV0aW9uID0gKHNpbih6IC8gMy4wICsgdmVjNCg3LjAsIDIuMCwgMy4wLCAwLjApKSArIDEuMSkgLyBkaXN0X3N0ZXA7XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKj0gYmFzZUNvbDtcbiAgICAgICAgY29sb3JfY29udHJpYnV0aW9uLnJnYiAqPSAxLjAgKyB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjAxOyAvLyBTdWJ0bGUgYnJpZ2h0bmVzcyBwdWxzZVxuXG4gICAgICAgIC8vIFN1YnRsZSBmb2cgZWZmZWN0LCBzY2FsZWQgZG93biBuZWFyIGVkZ2VzXG4gICAgICAgIGZsb2F0IGZvZ1N0cmVuZ3RoID0gMC4wNSArIHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1OyAvLyBNaW5pbWFsIGZvZyB3aXRoIGhpZ2gtZnJlcXVlbmN5IGluZmx1ZW5jZVxuICAgICAgICBmbG9hdCBmb2dUID0gZXhwKHogKiBmb2dTdHJlbmd0aCAtIDIuMCk7XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKz0gdUZvZ0NvbG9yICogZm9nVCAqIDAuMDI7IC8vIFZlcnkgc3VidGxlIGZvZ1xuXG4gICAgICAgIHRvdGFsQ29sb3IgKz0gY29sb3JfY29udHJpYnV0aW9uO1xuICAgIH1cblxuICAgIC8vIEZpbmFsIHRvbmVtYXBwaW5nXG4gICAgdG90YWxDb2xvciA9IHRhbmgodG90YWxDb2xvciAvIDEwMDAuMCk7XG5cbiAgICAvLyBBZGQgc3VidGxlIGdsb3cgZWZmZWN0XG4gICAgdmVjMyBhdWRpb1JlYWN0aXZlR2xvdyA9IHVHbG93Q29sb3IgKiAodVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMSk7XG4gICAgdG90YWxDb2xvci5yZ2IgKz0gYXVkaW9SZWFjdGl2ZUdsb3c7XG5cbiAgICAvLyBBcHBseSB2aWduZXR0ZSB0byBlbnN1cmUgYmxhY2sgZWRnZXNcbiAgICBmbG9hdCB2aWduZXR0ZSA9IHBvdygxNi4wICogcS54ICogcS55ICogKDEuMCAtIHEueCkgKiAoMS4wIC0gcS55KSwgMC4zKTtcbiAgICB0b3RhbENvbG9yLnJnYiAqPSB2aWduZXR0ZTsgLy8gRGFya2VuIGVkZ2VzIHRvIGJsYWNrXG5cbiAgICAvLyBTZXQgZmluYWwgZnJhZ21lbnQgY29sb3JcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KHRvdGFsQ29sb3IucmdiLCAxLjApO1xufWA7XG5cbmV4cG9ydCBkZWZhdWx0IGZpcmVTaGFkZXJTb3VyY2U7Il0sIm5hbWVzIjpbImZpcmVTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/FireShader.js\n");

/***/ }),

/***/ "./utils/shaders/GhostlySpiritsShader.js":
/*!***********************************************!*\
  !*** ./utils/shaders/GhostlySpiritsShader.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// utils/shaders/GhostlySpiritsShader.js\nconst ghostlySpiritsShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    // Subtle camera offset based on audio (similar to bsMo in RetroTunnelShader)\n    vec2 cameraOffset = vec2(0.0);\n    cameraOffset.x += sin(uTime * 0.3) * 0.01 * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.005); // Extremely subtle low-frequency sway\n    cameraOffset.y += cos(uTime * 0.4) * 0.005 * uHighEnergy * uEnergyCameraEffect * 0.005; // Extremely subtle high-frequency sway\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Main loop\n    for (float i = 1.0; i <= 100.0; i++) {\n        // Calculate position 'p' with camera offset\n        vec3 p = z * rayDirection;\n        p.xy += cameraOffset; // Apply subtle audio-reactive camera offset\n\n        // Time-dependent offset adjusted by camera speed\n        p.z -= 5.0 * uTime * uCameraSpeed;\n\n        // Apply rotation with subtle high-frequency variation\n        float angle = z * 0.1 + uTime * 0.1;\n        angle += uHighEnergy * uEnergyCameraEffect * 0.002; // Extremely subtle rotation speed increase\n        p.xy *= rot(angle);\n\n        // Inner fractal loop\n        float inner_step;\n        for (inner_step = 1.0; inner_step < 9.0; inner_step /= 0.7) {\n            p += cos(p.yzx * inner_step + uTime) / inner_step;\n        }\n\n        // Subtle breathing effect for distance step\n        float breathingPhase = sin(uTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * (0.01 + 0.01 * breathingPhase) * (1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005); // Very subtle beat-driven breathing\n        float dist_step = (0.02 + abs(2.0 - dot(cos(p), sin(p.yzx * 0.6))) / 8.0) * breathingFactor;\n        z += dist_step;\n\n        // Accumulate color with subtle audio-reactive tint\n        vec4 color_contribution = vec4(z / 7.0, 2.0, 3.0, 1.0) / dist_step;\n        color_contribution.rgb *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.005; // Extremely subtle brightness pulse on beats\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor * totalColor / 10000000.0);\n\n    // Subtle color modulation with audio-reactive glow\n    vec3 audioReactiveGlow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.01 + uEnergy * uEnergyColorEffect * 0.005);\n    totalColor.rgb += audioReactiveGlow; // Very subtle glow effect\n\n    // Apply color uniforms for base tint (default to original behavior if not set)\n    vec3 finalColor = totalColor.rgb;\n    finalColor = mix(finalColor, uColor1, 0.1 + uEnergy * uEnergyColorEffect * 0.005); // Subtle shift toward uColor1 based on energy\n\n    // Set final fragment color\n    fragColor = vec4(finalColor, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ghostlySpiritsShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0dob3N0bHlTcGlyaXRzU2hhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSx3Q0FBd0M7QUFFeEMsTUFBTUEsNkJBQTZCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvR3BDLENBQUM7QUFFRCxpRUFBZUEsMEJBQTBCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0dob3N0bHlTcGlyaXRzU2hhZGVyLmpzPzIyOGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdXRpbHMvc2hhZGVycy9HaG9zdGx5U3Bpcml0c1NoYWRlci5qc1xuXG5jb25zdCBnaG9zdGx5U3Bpcml0c1NoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuLy8gU3RhbmRhcmQgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG51bmlmb3JtIGZsb2F0IHVDYW1lcmFTcGVlZDsgLy8gQ29udHJvbHMgbW92ZW1lbnQgc3BlZWQgdGhyb3VnaCB0dW5uZWxcblxuLy8gQXVkaW8gYW5hbHlzaXMgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7ICAgLy8gQmVhdCBkZXRlY3Rpb25cbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUxvd0VuZXJneTsgICAgLy8gTG93IGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG5cbi8vIEVmZmVjdCBpbnRlbnNpdHkgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gT3ZlcmFsbCBpbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIENvbnRyb2xzIGhvdyBmYXN0IHRoZSB0dW5uZWwgYnJlYXRoZXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQ29udHJvbHMgaG93IG11Y2ggdGhlIHR1bm5lbCBleHBhbmRzL2NvbnRyYWN0c1xuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7XG51bmlmb3JtIHZlYzMgdUNvbG9yMjtcbnVuaWZvcm0gdmVjMyB1Q29sb3IzO1xudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjtcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yO1xuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciByb3RhdGlvblxubWF0MiByb3QoZmxvYXQgYW5nbGUpIHtcbiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKTtcbiAgICBmbG9hdCBjID0gY29zKGFuZ2xlKTtcbiAgICByZXR1cm4gbWF0MihjLCBzLCAtcywgYyk7XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgICAvLyBDYWxjdWxhdGUgcmF5IGRpcmVjdGlvbiBiYXNlZCBvbiBmcmFnbWVudCBjb29yZGluYXRlc1xuICAgIHZlYzMgcmF5RGlyZWN0aW9uID0gbm9ybWFsaXplKHZlYzMoZ2xfRnJhZ0Nvb3JkLnh5ICogMi4wIC0gdVJlc29sdXRpb24ueHksIC11UmVzb2x1dGlvbi55KSk7XG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIG9mZnNldCBiYXNlZCBvbiBhdWRpbyAoc2ltaWxhciB0byBic01vIGluIFJldHJvVHVubmVsU2hhZGVyKVxuICAgIHZlYzIgY2FtZXJhT2Zmc2V0ID0gdmVjMigwLjApO1xuICAgIGNhbWVyYU9mZnNldC54ICs9IHNpbih1VGltZSAqIDAuMykgKiAwLjAxICogKDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDUpOyAvLyBFeHRyZW1lbHkgc3VidGxlIGxvdy1mcmVxdWVuY3kgc3dheVxuICAgIGNhbWVyYU9mZnNldC55ICs9IGNvcyh1VGltZSAqIDAuNCkgKiAwLjAwNSAqIHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1OyAvLyBFeHRyZW1lbHkgc3VidGxlIGhpZ2gtZnJlcXVlbmN5IHN3YXlcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIHRoZSBjb2xvclxuICAgIGZsb2F0IHogPSAwLjA7IC8vIEFjY3VtdWxhdG9yIGZvciBkaXN0YW5jZS9kZXB0aCBwYXJhbWV0ZXJcblxuICAgIC8vIE1haW4gbG9vcFxuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSAxMDAuMDsgaSsrKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiAncCcgd2l0aCBjYW1lcmEgb2Zmc2V0XG4gICAgICAgIHZlYzMgcCA9IHogKiByYXlEaXJlY3Rpb247XG4gICAgICAgIHAueHkgKz0gY2FtZXJhT2Zmc2V0OyAvLyBBcHBseSBzdWJ0bGUgYXVkaW8tcmVhY3RpdmUgY2FtZXJhIG9mZnNldFxuXG4gICAgICAgIC8vIFRpbWUtZGVwZW5kZW50IG9mZnNldCBhZGp1c3RlZCBieSBjYW1lcmEgc3BlZWRcbiAgICAgICAgcC56IC09IDUuMCAqIHVUaW1lICogdUNhbWVyYVNwZWVkO1xuXG4gICAgICAgIC8vIEFwcGx5IHJvdGF0aW9uIHdpdGggc3VidGxlIGhpZ2gtZnJlcXVlbmN5IHZhcmlhdGlvblxuICAgICAgICBmbG9hdCBhbmdsZSA9IHogKiAwLjEgKyB1VGltZSAqIDAuMTtcbiAgICAgICAgYW5nbGUgKz0gdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDI7IC8vIEV4dHJlbWVseSBzdWJ0bGUgcm90YXRpb24gc3BlZWQgaW5jcmVhc2VcbiAgICAgICAgcC54eSAqPSByb3QoYW5nbGUpO1xuXG4gICAgICAgIC8vIElubmVyIGZyYWN0YWwgbG9vcFxuICAgICAgICBmbG9hdCBpbm5lcl9zdGVwO1xuICAgICAgICBmb3IgKGlubmVyX3N0ZXAgPSAxLjA7IGlubmVyX3N0ZXAgPCA5LjA7IGlubmVyX3N0ZXAgLz0gMC43KSB7XG4gICAgICAgICAgICBwICs9IGNvcyhwLnl6eCAqIGlubmVyX3N0ZXAgKyB1VGltZSkgLyBpbm5lcl9zdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VidGxlIGJyZWF0aGluZyBlZmZlY3QgZm9yIGRpc3RhbmNlIHN0ZXBcbiAgICAgICAgZmxvYXQgYnJlYXRoaW5nUGhhc2UgPSBzaW4odVRpbWUgKiB1QnJlYXRoaW5nUmF0ZSk7XG4gICAgICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiAoMC4wMSArIDAuMDEgKiBicmVhdGhpbmdQaGFzZSkgKiAoMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1KTsgLy8gVmVyeSBzdWJ0bGUgYmVhdC1kcml2ZW4gYnJlYXRoaW5nXG4gICAgICAgIGZsb2F0IGRpc3Rfc3RlcCA9ICgwLjAyICsgYWJzKDIuMCAtIGRvdChjb3MocCksIHNpbihwLnl6eCAqIDAuNikpKSAvIDguMCkgKiBicmVhdGhpbmdGYWN0b3I7XG4gICAgICAgIHogKz0gZGlzdF9zdGVwO1xuXG4gICAgICAgIC8vIEFjY3VtdWxhdGUgY29sb3Igd2l0aCBzdWJ0bGUgYXVkaW8tcmVhY3RpdmUgdGludFxuICAgICAgICB2ZWM0IGNvbG9yX2NvbnRyaWJ1dGlvbiA9IHZlYzQoeiAvIDcuMCwgMi4wLCAzLjAsIDEuMCkgLyBkaXN0X3N0ZXA7XG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMDU7IC8vIEV4dHJlbWVseSBzdWJ0bGUgYnJpZ2h0bmVzcyBwdWxzZSBvbiBiZWF0c1xuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yX2NvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgKiB0b3RhbENvbG9yIC8gMTAwMDAwMDAuMCk7XG5cbiAgICAvLyBTdWJ0bGUgY29sb3IgbW9kdWxhdGlvbiB3aXRoIGF1ZGlvLXJlYWN0aXZlIGdsb3dcbiAgICB2ZWMzIGF1ZGlvUmVhY3RpdmVHbG93ID0gdUdsb3dDb2xvciAqICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjAxICsgdUVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDA1KTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBhdWRpb1JlYWN0aXZlR2xvdzsgLy8gVmVyeSBzdWJ0bGUgZ2xvdyBlZmZlY3RcblxuICAgIC8vIEFwcGx5IGNvbG9yIHVuaWZvcm1zIGZvciBiYXNlIHRpbnQgKGRlZmF1bHQgdG8gb3JpZ2luYWwgYmVoYXZpb3IgaWYgbm90IHNldClcbiAgICB2ZWMzIGZpbmFsQ29sb3IgPSB0b3RhbENvbG9yLnJnYjtcbiAgICBmaW5hbENvbG9yID0gbWl4KGZpbmFsQ29sb3IsIHVDb2xvcjEsIDAuMSArIHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAwNSk7IC8vIFN1YnRsZSBzaGlmdCB0b3dhcmQgdUNvbG9yMSBiYXNlZCBvbiBlbmVyZ3lcblxuICAgIC8vIFNldCBmaW5hbCBmcmFnbWVudCBjb2xvclxuICAgIGZyYWdDb2xvciA9IHZlYzQoZmluYWxDb2xvciwgMS4wKTtcbn1cbmA7XG5cbmV4cG9ydCBkZWZhdWx0IGdob3N0bHlTcGlyaXRzU2hhZGVyU291cmNlOyAiXSwibmFtZXMiOlsiZ2hvc3RseVNwaXJpdHNTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/GhostlySpiritsShader.js\n");

/***/ }),

/***/ "./utils/shaders/GreenFractals.js":
/*!****************************************!*\
  !*** ./utils/shaders/GreenFractals.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst greenFractalsShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Camera speed uniform\nuniform float uCameraSpeed;           // Controls movement speed through tunnel\n\n// Color uniforms\nuniform vec3 uColor1;                 // Primary color\nuniform vec3 uColor2;                 // Secondary color\nuniform vec3 uColor3;                 // Tertiary color\nuniform vec3 uFogColor;               // Fog color\nuniform vec3 uGlowColor;              // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation (kept for consistency, though not used)\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Subtle camera offset influenced by low frequencies and transients\n    float cameraOffset = uLowEnergy * uEnergyCameraEffect * 0.005 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.002;\n    float time = uTime * uCameraSpeed + cameraOffset; // Apply camera speed and subtle audio drift\n\n    // Breathing effect for distance field\n    float breathingPhase = sin(time * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * breathingPhase * 0.01; // Very subtle breathing\n\n    // Main loop: runs 50 iterations\n    for (float i = 1.0; i <= 50.0; i++) {\n        // Calculate position with time offset\n        vec3 p = z * rayDirection;\n        p.z -= time;\n\n        // Inner loop for distance field\n        float d = 1.0; // Distance accumulator\n        for (float f = 1.0; f < 100.0; f += f) {\n            vec3 s = sin(p * f + vec3(f, -f, 0.0));\n            d = min(d, dot(s, s.yzx) / f);\n        }\n\n        // Subtle distance modulation with transients and breathing\n        d = (0.004 + 0.5 * abs(d)) * breathingFactor * (1.0 - uTransients * uTransientIntensity * 0.002);\n\n        // Update z\n        z += d;\n\n        // Color contribution with subtle audio reactivity\n        vec4 colorContribution = exp(-z / vec4(2.0, 9.0, 4.0, 9.0)) / d;\n        // Apply subtle color modulation based on energy and high frequencies\n        vec3 colorMod = uColor1 * (1.0 + uEnergy * uEnergyColorEffect * 0.005 + uHighEnergy * uEnergyColorEffect * 0.003);\n        colorContribution.rgb *= colorMod;\n        // Add faint glow based on transients\n        colorContribution.rgb += uGlowColor * uTransients * uTransientIntensity * uTransientColorEffect * 0.002;\n\n        totalColor += colorContribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 1000.0);\n\n    // Add subtle fog effect influenced by audio\n    vec3 fog = uFogColor * (0.01 + uEnergy * uEnergyColorEffect * 0.002);\n    totalColor.rgb += fog;\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (greenFractalsShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL0dyZWVuRnJhY3RhbHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLDRCQUE0QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtR25DLENBQUM7QUFFRCxpRUFBZUEseUJBQXlCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL0dyZWVuRnJhY3RhbHMuanM/NWViNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBncmVlbkZyYWN0YWxzU2hhZGVyU291cmNlID0gYCN2ZXJzaW9uIDMwMCBlc1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4vLyBTdGFuZGFyZCB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xudW5pZm9ybSBmbG9hdCB1VGltZTtcblxuLy8gQXVkaW8gYW5hbHlzaXMgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7ICAgLy8gQmVhdCBkZXRlY3Rpb25cbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUxvd0VuZXJneTsgICAgLy8gTG93IGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG5cbi8vIEVmZmVjdCBpbnRlbnNpdHkgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gT3ZlcmFsbCBpbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIENvbnRyb2xzIGhvdyBmYXN0IHRoZSB0dW5uZWwgYnJlYXRoZXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQ29udHJvbHMgaG93IG11Y2ggdGhlIHR1bm5lbCBleHBhbmRzL2NvbnRyYWN0c1xuXG4vLyBDYW1lcmEgc3BlZWQgdW5pZm9ybVxudW5pZm9ybSBmbG9hdCB1Q2FtZXJhU3BlZWQ7ICAgICAgICAgICAvLyBDb250cm9scyBtb3ZlbWVudCBzcGVlZCB0aHJvdWdoIHR1bm5lbFxuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7ICAgICAgICAgICAgICAgICAvLyBQcmltYXJ5IGNvbG9yXG51bmlmb3JtIHZlYzMgdUNvbG9yMjsgICAgICAgICAgICAgICAgIC8vIFNlY29uZGFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVDb2xvcjM7ICAgICAgICAgICAgICAgICAvLyBUZXJ0aWFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjsgICAgICAgICAgICAgICAvLyBGb2cgY29sb3JcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yOyAgICAgICAgICAgICAgLy8gR2xvdyBjb2xvclxuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciByb3RhdGlvbiAoa2VwdCBmb3IgY29uc2lzdGVuY3ksIHRob3VnaCBub3QgdXNlZClcbm1hdDIgcm90KGZsb2F0IGFuZ2xlKSB7XG4gICAgZmxvYXQgcyA9IHNpbihhbmdsZSk7XG4gICAgZmxvYXQgYyA9IGNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIG1hdDIoYywgcywgLXMsIGMpO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gZnJhZ21lbnQgY29vcmRpbmF0ZXNcbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKGdsX0ZyYWdDb29yZC54eSAqIDIuMCAtIHVSZXNvbHV0aW9uLnh5LCAtdVJlc29sdXRpb24ueSkpO1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApOyAvLyBBY2N1bXVsYXRvciBmb3IgdGhlIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRpc3RhbmNlL2RlcHRoIHBhcmFtZXRlclxuXG4gICAgLy8gU3VidGxlIGNhbWVyYSBvZmZzZXQgaW5mbHVlbmNlZCBieSBsb3cgZnJlcXVlbmNpZXMgYW5kIHRyYW5zaWVudHNcbiAgICBmbG9hdCBjYW1lcmFPZmZzZXQgPSB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1ICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDAyO1xuICAgIGZsb2F0IHRpbWUgPSB1VGltZSAqIHVDYW1lcmFTcGVlZCArIGNhbWVyYU9mZnNldDsgLy8gQXBwbHkgY2FtZXJhIHNwZWVkIGFuZCBzdWJ0bGUgYXVkaW8gZHJpZnRcblxuICAgIC8vIEJyZWF0aGluZyBlZmZlY3QgZm9yIGRpc3RhbmNlIGZpZWxkXG4gICAgZmxvYXQgYnJlYXRoaW5nUGhhc2UgPSBzaW4odGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICBmbG9hdCBicmVhdGhpbmdGYWN0b3IgPSAxLjAgKyB1QnJlYXRoaW5nQW1vdW50ICogYnJlYXRoaW5nUGhhc2UgKiAwLjAxOyAvLyBWZXJ5IHN1YnRsZSBicmVhdGhpbmdcblxuICAgIC8vIE1haW4gbG9vcDogcnVucyA1MCBpdGVyYXRpb25zXG4gICAgZm9yIChmbG9hdCBpID0gMS4wOyBpIDw9IDUwLjA7IGkrKykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb24gd2l0aCB0aW1lIG9mZnNldFxuICAgICAgICB2ZWMzIHAgPSB6ICogcmF5RGlyZWN0aW9uO1xuICAgICAgICBwLnogLT0gdGltZTtcblxuICAgICAgICAvLyBJbm5lciBsb29wIGZvciBkaXN0YW5jZSBmaWVsZFxuICAgICAgICBmbG9hdCBkID0gMS4wOyAvLyBEaXN0YW5jZSBhY2N1bXVsYXRvclxuICAgICAgICBmb3IgKGZsb2F0IGYgPSAxLjA7IGYgPCAxMDAuMDsgZiArPSBmKSB7XG4gICAgICAgICAgICB2ZWMzIHMgPSBzaW4ocCAqIGYgKyB2ZWMzKGYsIC1mLCAwLjApKTtcbiAgICAgICAgICAgIGQgPSBtaW4oZCwgZG90KHMsIHMueXp4KSAvIGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VidGxlIGRpc3RhbmNlIG1vZHVsYXRpb24gd2l0aCB0cmFuc2llbnRzIGFuZCBicmVhdGhpbmdcbiAgICAgICAgZCA9ICgwLjAwNCArIDAuNSAqIGFicyhkKSkgKiBicmVhdGhpbmdGYWN0b3IgKiAoMS4wIC0gdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogMC4wMDIpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB6XG4gICAgICAgIHogKz0gZDtcblxuICAgICAgICAvLyBDb2xvciBjb250cmlidXRpb24gd2l0aCBzdWJ0bGUgYXVkaW8gcmVhY3Rpdml0eVxuICAgICAgICB2ZWM0IGNvbG9yQ29udHJpYnV0aW9uID0gZXhwKC16IC8gdmVjNCgyLjAsIDkuMCwgNC4wLCA5LjApKSAvIGQ7XG4gICAgICAgIC8vIEFwcGx5IHN1YnRsZSBjb2xvciBtb2R1bGF0aW9uIGJhc2VkIG9uIGVuZXJneSBhbmQgaGlnaCBmcmVxdWVuY2llc1xuICAgICAgICB2ZWMzIGNvbG9yTW9kID0gdUNvbG9yMSAqICgxLjAgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMDUgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDAzKTtcbiAgICAgICAgY29sb3JDb250cmlidXRpb24ucmdiICo9IGNvbG9yTW9kO1xuICAgICAgICAvLyBBZGQgZmFpbnQgZ2xvdyBiYXNlZCBvbiB0cmFuc2llbnRzXG4gICAgICAgIGNvbG9yQ29udHJpYnV0aW9uLnJnYiArPSB1R2xvd0NvbG9yICogdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wMDI7XG5cbiAgICAgICAgdG90YWxDb2xvciArPSBjb2xvckNvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyAxMDAwLjApO1xuXG4gICAgLy8gQWRkIHN1YnRsZSBmb2cgZWZmZWN0IGluZmx1ZW5jZWQgYnkgYXVkaW9cbiAgICB2ZWMzIGZvZyA9IHVGb2dDb2xvciAqICgwLjAxICsgdUVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDAyKTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBmb2c7XG5cbiAgICAvLyBTZXQgZmluYWwgZnJhZ21lbnQgY29sb3JcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KHRvdGFsQ29sb3IucmdiLCAxLjApO1xufVxuYDtcblxuZXhwb3J0IGRlZmF1bHQgZ3JlZW5GcmFjdGFsc1NoYWRlclNvdXJjZTtcbiJdLCJuYW1lcyI6WyJncmVlbkZyYWN0YWxzU2hhZGVyU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/GreenFractals.js\n");

/***/ }),

/***/ "./utils/shaders/MountainWaves.js":
/*!****************************************!*\
  !*** ./utils/shaders/MountainWaves.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mountainWavesShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Intensity of transient effects\nuniform float uEnergyCameraEffect;    // Energy effect on camera\nuniform float uEnergyColorEffect;     // Energy effect on colors\nuniform float uTransientCameraEffect; // Transients effect on camera\nuniform float uTransientColorEffect;  // Transients effect on colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Speed of tunnel breathing\nuniform float uBreathingAmount;       // Amount of tunnel expansion/contraction\n\n// Color uniforms\nuniform vec3 uColor1; // Primary color\nuniform vec3 uColor2; // Secondary color\nuniform vec3 uColor3; // Tertiary color\nuniform vec3 uFogColor; // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction with aspect ratio correction\n    vec2 p = (gl_FragCoord.xy * 2.0 - uResolution.xy) / uResolution.y;\n    vec3 rayDirection = normalize(vec3(p, -1.0));\n\n    // Subtle camera movement influenced by audio\n    vec3 ro = vec3(0.0, 0.0, uTime * uCameraSpeed);\n    // Low frequencies cause slight horizontal drift\n    ro.x += sin(uTime * 0.3) * 0.02 * uLowEnergy * uEnergyCameraEffect;\n    // High frequencies cause slight vertical drift\n    ro.y += cos(uTime * 0.4) * 0.01 * uHighEnergy * uEnergyCameraEffect;\n    // Transients cause minor depth jitter\n    ro.z += uTransients * uTransientIntensity * uTransientCameraEffect * 0.01;\n\n    // Apply subtle rotation to ray direction based on high frequencies\n    float rotAmount = uHighEnergy * uEnergyCameraEffect * 0.02;\n    rayDirection.xy *= rot(rotAmount);\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Fog accumulator for subtle depth effect\n    float fogT = 0.0;\n\n    // Main raymarching loop\n    for (float i = 1.0; i <= 80.0; i++) {\n        // Calculate position along ray\n        vec3 p = ro + z * rayDirection;\n\n        // Modify p.y with subtle breathing effect\n        float breathingPhase = sin(uTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * 0.05 * breathingPhase * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.1);\n        p.y = length(cos(p * 0.2 + z * 0.2)) * 4.0 * breathingFactor - abs(p.y);\n\n        // Inner loop for shape deformation\n        float inner_step;\n        for (inner_step = 1.4; inner_step < 100.0; inner_step /= 0.5) {\n            vec3 offset = vec3(3.0, inner_step * uTime, uTime / 3.0);\n            p += cos(p.yzx * inner_step - offset) / inner_step;\n        }\n\n        // Calculate distance step\n        float dist_step = 0.01 + 0.1 * max(p, -p * 0.3).y;\n        z += dist_step;\n\n        // Base color contribution\n        vec4 color_contribution = (cos(vec4(5.0, 7.0, 9.0, 0.0) - p.y) + 1.1) / (z * dist_step);\n\n        // Subtle color modulation based on audio\n        vec3 col = color_contribution.rgb;\n        // Select color based on position\n        vec3 baseCol = uColor1;\n        if (p.y > 0.5) baseCol = uColor2;\n        if (p.y > 1.0) baseCol = uColor3;\n        col *= baseCol;\n        // Transients boost brightness slightly\n        col *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05;\n        // Energy enhances saturation subtly\n        col *= 1.0 + uEnergy * uEnergyColorEffect * 0.03;\n        // High frequencies boost blue channel\n        col.b *= 1.0 + uHighEnergy * uEnergyColorEffect * 0.02;\n\n        // Subtle fog effect\n        float fogStrength = 0.02 + uHighEnergy * uEnergyCameraEffect * 0.005;\n        float fogC = exp(z * fogStrength - 2.0);\n        vec3 fog = uFogColor * (1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05);\n        col += fog * clamp(fogC - fogT, 0.0, 1.0) * 0.05;\n        fogT = fogC;\n\n        totalColor += vec4(col, color_contribution.a);\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 700.0);\n\n    // Add subtle glow effect\n    vec3 glow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.1 + uEnergy * uEnergyColorEffect * 0.05);\n    totalColor.rgb += glow * 0.2;\n\n    // Apply subtle vignette\n    vec2 q = gl_FragCoord.xy / uResolution.xy;\n    totalColor.rgb *= pow(16.0 * q.x * q.y * (1.0 - q.x) * (1.0 - q.y), 0.1) * (0.5 + uEnergy * uEnergyColorEffect * 0.05);\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mountainWavesShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL01vdW50YWluV2F2ZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLDRCQUE0QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBK0hsQyxDQUFDO0FBRUYsaUVBQWVBLHlCQUF5QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9Nb3VudGFpbldhdmVzLmpzP2RjOTUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW91bnRhaW5XYXZlc1NoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuLy8gU3RhbmRhcmQgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG51bmlmb3JtIGZsb2F0IHVDYW1lcmFTcGVlZDsgLy8gQ29udHJvbHMgbW92ZW1lbnQgc3BlZWQgdGhyb3VnaCB0dW5uZWxcblxuLy8gQXVkaW8gYW5hbHlzaXMgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7ICAgLy8gQmVhdCBkZXRlY3Rpb25cbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUxvd0VuZXJneTsgICAgLy8gTG93IGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG5cbi8vIEVmZmVjdCBpbnRlbnNpdHkgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gSW50ZW5zaXR5IG9mIHRyYW5zaWVudCBlZmZlY3RzXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDYW1lcmFFZmZlY3Q7ICAgIC8vIEVuZXJneSBlZmZlY3Qgb24gY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEVuZXJneSBlZmZlY3Qgb24gY29sb3JzXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDYW1lcmFFZmZlY3Q7IC8vIFRyYW5zaWVudHMgZWZmZWN0IG9uIGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7ICAvLyBUcmFuc2llbnRzIGVmZmVjdCBvbiBjb2xvcnNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ1JhdGU7ICAgICAgICAgLy8gU3BlZWQgb2YgdHVubmVsIGJyZWF0aGluZ1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAgICAgICAvLyBBbW91bnQgb2YgdHVubmVsIGV4cGFuc2lvbi9jb250cmFjdGlvblxuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7IC8vIFByaW1hcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IyOyAvLyBTZWNvbmRhcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IzOyAvLyBUZXJ0aWFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjsgLy8gRm9nIGNvbG9yXG51bmlmb3JtIHZlYzMgdUdsb3dDb2xvcjsgLy8gR2xvdyBjb2xvclxuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciByb3RhdGlvblxubWF0MiByb3QoZmxvYXQgYW5nbGUpIHtcbiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKTtcbiAgICBmbG9hdCBjID0gY29zKGFuZ2xlKTtcbiAgICByZXR1cm4gbWF0MihjLCBzLCAtcywgYyk7XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgICAvLyBDYWxjdWxhdGUgcmF5IGRpcmVjdGlvbiB3aXRoIGFzcGVjdCByYXRpbyBjb3JyZWN0aW9uXG4gICAgdmVjMiBwID0gKGdsX0ZyYWdDb29yZC54eSAqIDIuMCAtIHVSZXNvbHV0aW9uLnh5KSAvIHVSZXNvbHV0aW9uLnk7XG4gICAgdmVjMyByYXlEaXJlY3Rpb24gPSBub3JtYWxpemUodmVjMyhwLCAtMS4wKSk7XG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIG1vdmVtZW50IGluZmx1ZW5jZWQgYnkgYXVkaW9cbiAgICB2ZWMzIHJvID0gdmVjMygwLjAsIDAuMCwgdVRpbWUgKiB1Q2FtZXJhU3BlZWQpO1xuICAgIC8vIExvdyBmcmVxdWVuY2llcyBjYXVzZSBzbGlnaHQgaG9yaXpvbnRhbCBkcmlmdFxuICAgIHJvLnggKz0gc2luKHVUaW1lICogMC4zKSAqIDAuMDIgKiB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdDtcbiAgICAvLyBIaWdoIGZyZXF1ZW5jaWVzIGNhdXNlIHNsaWdodCB2ZXJ0aWNhbCBkcmlmdFxuICAgIHJvLnkgKz0gY29zKHVUaW1lICogMC40KSAqIDAuMDEgKiB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3Q7XG4gICAgLy8gVHJhbnNpZW50cyBjYXVzZSBtaW5vciBkZXB0aCBqaXR0ZXJcbiAgICByby56ICs9IHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAxO1xuXG4gICAgLy8gQXBwbHkgc3VidGxlIHJvdGF0aW9uIHRvIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gaGlnaCBmcmVxdWVuY2llc1xuICAgIGZsb2F0IHJvdEFtb3VudCA9IHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDI7XG4gICAgcmF5RGlyZWN0aW9uLnh5ICo9IHJvdChyb3RBbW91bnQpO1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApOyAvLyBBY2N1bXVsYXRvciBmb3IgdGhlIGNvbG9yXG4gICAgZmxvYXQgeiA9IDAuMDsgLy8gQWNjdW11bGF0b3IgZm9yIGRpc3RhbmNlL2RlcHRoIHBhcmFtZXRlclxuXG4gICAgLy8gRm9nIGFjY3VtdWxhdG9yIGZvciBzdWJ0bGUgZGVwdGggZWZmZWN0XG4gICAgZmxvYXQgZm9nVCA9IDAuMDtcblxuICAgIC8vIE1haW4gcmF5bWFyY2hpbmcgbG9vcFxuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSA4MC4wOyBpKyspIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGFsb25nIHJheVxuICAgICAgICB2ZWMzIHAgPSBybyArIHogKiByYXlEaXJlY3Rpb247XG5cbiAgICAgICAgLy8gTW9kaWZ5IHAueSB3aXRoIHN1YnRsZSBicmVhdGhpbmcgZWZmZWN0XG4gICAgICAgIGZsb2F0IGJyZWF0aGluZ1BoYXNlID0gc2luKHVUaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgICAgICBmbG9hdCBicmVhdGhpbmdGYWN0b3IgPSAxLjAgKyB1QnJlYXRoaW5nQW1vdW50ICogMC4wNSAqIGJyZWF0aGluZ1BoYXNlICogKDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4xKTtcbiAgICAgICAgcC55ID0gbGVuZ3RoKGNvcyhwICogMC4yICsgeiAqIDAuMikpICogNC4wICogYnJlYXRoaW5nRmFjdG9yIC0gYWJzKHAueSk7XG5cbiAgICAgICAgLy8gSW5uZXIgbG9vcCBmb3Igc2hhcGUgZGVmb3JtYXRpb25cbiAgICAgICAgZmxvYXQgaW5uZXJfc3RlcDtcbiAgICAgICAgZm9yIChpbm5lcl9zdGVwID0gMS40OyBpbm5lcl9zdGVwIDwgMTAwLjA7IGlubmVyX3N0ZXAgLz0gMC41KSB7XG4gICAgICAgICAgICB2ZWMzIG9mZnNldCA9IHZlYzMoMy4wLCBpbm5lcl9zdGVwICogdVRpbWUsIHVUaW1lIC8gMy4wKTtcbiAgICAgICAgICAgIHAgKz0gY29zKHAueXp4ICogaW5uZXJfc3RlcCAtIG9mZnNldCkgLyBpbm5lcl9zdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHN0ZXBcbiAgICAgICAgZmxvYXQgZGlzdF9zdGVwID0gMC4wMSArIDAuMSAqIG1heChwLCAtcCAqIDAuMykueTtcbiAgICAgICAgeiArPSBkaXN0X3N0ZXA7XG5cbiAgICAgICAgLy8gQmFzZSBjb2xvciBjb250cmlidXRpb25cbiAgICAgICAgdmVjNCBjb2xvcl9jb250cmlidXRpb24gPSAoY29zKHZlYzQoNS4wLCA3LjAsIDkuMCwgMC4wKSAtIHAueSkgKyAxLjEpIC8gKHogKiBkaXN0X3N0ZXApO1xuXG4gICAgICAgIC8vIFN1YnRsZSBjb2xvciBtb2R1bGF0aW9uIGJhc2VkIG9uIGF1ZGlvXG4gICAgICAgIHZlYzMgY29sID0gY29sb3JfY29udHJpYnV0aW9uLnJnYjtcbiAgICAgICAgLy8gU2VsZWN0IGNvbG9yIGJhc2VkIG9uIHBvc2l0aW9uXG4gICAgICAgIHZlYzMgYmFzZUNvbCA9IHVDb2xvcjE7XG4gICAgICAgIGlmIChwLnkgPiAwLjUpIGJhc2VDb2wgPSB1Q29sb3IyO1xuICAgICAgICBpZiAocC55ID4gMS4wKSBiYXNlQ29sID0gdUNvbG9yMztcbiAgICAgICAgY29sICo9IGJhc2VDb2w7XG4gICAgICAgIC8vIFRyYW5zaWVudHMgYm9vc3QgYnJpZ2h0bmVzcyBzbGlnaHRseVxuICAgICAgICBjb2wgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4wNTtcbiAgICAgICAgLy8gRW5lcmd5IGVuaGFuY2VzIHNhdHVyYXRpb24gc3VidGx5XG4gICAgICAgIGNvbCAqPSAxLjAgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMztcbiAgICAgICAgLy8gSGlnaCBmcmVxdWVuY2llcyBib29zdCBibHVlIGNoYW5uZWxcbiAgICAgICAgY29sLmIgKj0gMS4wICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyO1xuXG4gICAgICAgIC8vIFN1YnRsZSBmb2cgZWZmZWN0XG4gICAgICAgIGZsb2F0IGZvZ1N0cmVuZ3RoID0gMC4wMiArIHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDA1O1xuICAgICAgICBmbG9hdCBmb2dDID0gZXhwKHogKiBmb2dTdHJlbmd0aCAtIDIuMCk7XG4gICAgICAgIHZlYzMgZm9nID0gdUZvZ0NvbG9yICogKDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDUpO1xuICAgICAgICBjb2wgKz0gZm9nICogY2xhbXAoZm9nQyAtIGZvZ1QsIDAuMCwgMS4wKSAqIDAuMDU7XG4gICAgICAgIGZvZ1QgPSBmb2dDO1xuXG4gICAgICAgIHRvdGFsQ29sb3IgKz0gdmVjNChjb2wsIGNvbG9yX2NvbnRyaWJ1dGlvbi5hKTtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyA3MDAuMCk7XG5cbiAgICAvLyBBZGQgc3VidGxlIGdsb3cgZWZmZWN0XG4gICAgdmVjMyBnbG93ID0gdUdsb3dDb2xvciAqICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjEgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wNSk7XG4gICAgdG90YWxDb2xvci5yZ2IgKz0gZ2xvdyAqIDAuMjtcblxuICAgIC8vIEFwcGx5IHN1YnRsZSB2aWduZXR0ZVxuICAgIHZlYzIgcSA9IGdsX0ZyYWdDb29yZC54eSAvIHVSZXNvbHV0aW9uLnh5O1xuICAgIHRvdGFsQ29sb3IucmdiICo9IHBvdygxNi4wICogcS54ICogcS55ICogKDEuMCAtIHEueCkgKiAoMS4wIC0gcS55KSwgMC4xKSAqICgwLjUgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wNSk7XG5cbiAgICAvLyBTZXQgZmluYWwgZnJhZ21lbnQgY29sb3JcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KHRvdGFsQ29sb3IucmdiLCAxLjApO1xufWA7XG5cbmV4cG9ydCBkZWZhdWx0IG1vdW50YWluV2F2ZXNTaGFkZXJTb3VyY2U7Il0sIm5hbWVzIjpbIm1vdW50YWluV2F2ZXNTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/MountainWaves.js\n");

/***/ }),

/***/ "./utils/shaders/NebulousTunnelShader.js":
/*!***********************************************!*\
  !*** ./utils/shaders/NebulousTunnelShader.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * NebulousTunnelShader.js\n * Exports a cosmic nebulous tunnel shader with audio reactivity.\n * Converted from twigl GEEKEST_300 format to standard GLSL.\n */ const nebulousTunnelShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio analysis uniforms\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\nuniform float uTransients;   // Beat detection\n\n// Effect intensity uniforms\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;    // First color for tunnel\nuniform vec3 uColor2;    // Second color for tunnel\nuniform vec3 uColor3;    // Third color for tunnel\nuniform vec3 uFogColor;  // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\n// Smooth step function for transitions (from RetroTunnelShader.js)\nfloat smootherstep(float edge0, float edge1, float x) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n}\n\nvoid main() {\n    // Calculate ray direction based on fragment coordinates\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    // Subtle camera shift based on audio (extremely minimal)\n    vec2 cameraShift = vec2(\n        sin(uTime * 0.3) * 0.01 * uLowEnergy * uEnergyCameraEffect,    // Low freq horizontal shift\n        cos(uTime * 0.4) * 0.005 * uHighEnergy * uEnergyCameraEffect   // High freq vertical shift\n    );\n    rayDirection.xy += cameraShift;\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Main loop: iterate 50 times\n    for (float i = 1.0; i <= 50.0; i++) {\n        // Calculate position\n        vec3 p = z * rayDirection;\n        p.z += 6.0;\n\n        // Apply rotation with subtle transient-driven variation\n        float angle = p.y * 0.5;\n        angle += uTransients * uTransientCameraEffect * 0.005; // Extremely subtle rotation tweak\n        p.xz *= rot(angle);\n\n        // Inner loop for tunnel shape\n        float j;\n        for (j = 1.0; j < 9.0; j /= 0.8) {\n            vec3 timeOffset = uTime * vec3(3.0, 1.0, 0.0);\n            p += cos(ceil(p.yzx - timeOffset) * j) / j;\n        }\n\n        // Breathing effect: subtle tunnel expansion based on time and low frequency\n        float breathingPhase = sin(uTime * uBreathingRate);\n        float breathingFactor = 1.0 + uBreathingAmount * 0.01 * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.1) * breathingPhase;\n\n        // Calculate distance step with breathing effect\n        float dist_step = 0.01 + abs(length(p.xz) - 0.5) / 7.0;\n        dist_step *= breathingFactor; // Apply breathing to tunnel size\n        z += dist_step;\n\n        // Color contribution with subtle audio modulation\n        vec4 color_contribution = (cos(z + vec4(0.0, 1.0, 2.0, 0.0)) + 1.1) / dist_step;\n\n        // Apply color1, color2, color3 based on position (z) for retro tunnel aesthetic\n        float colorMix = smootherstep(0.0, 50.0, z);\n        vec3 baseColor = mix(uColor1, mix(uColor2, uColor3, colorMix), colorMix);\n\n        // Subtle color modulation based on transients and energy\n        baseColor *= 1.0 + uTransients * uTransientColorEffect * 0.02; // Very faint brightness boost\n        baseColor += uEnergy * uEnergyColorEffect * 0.005 * uGlowColor; // Faint glow tint\n\n        color_contribution.rgb *= baseColor;\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 1000.0);\n\n    // Add subtle fog effect influenced by high energy\n    vec3 fog = uFogColor * (0.05 + uHighEnergy * uEnergyColorEffect * 0.01);\n    totalColor.rgb += fog;\n\n    // Add faint glow effect based on transients\n    totalColor.rgb += uGlowColor * uTransients * uTransientColorEffect * 0.02;\n\n    // Set final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (nebulousTunnelShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL05lYnVsb3VzVHVubmVsU2hhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztDQUlDLEdBRUQsTUFBTUEsNkJBQTZCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0hwQyxDQUFDO0FBRUQsaUVBQWVBLDBCQUEwQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9OZWJ1bG91c1R1bm5lbFNoYWRlci5qcz84OTY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTmVidWxvdXNUdW5uZWxTaGFkZXIuanNcbiAqIEV4cG9ydHMgYSBjb3NtaWMgbmVidWxvdXMgdHVubmVsIHNoYWRlciB3aXRoIGF1ZGlvIHJlYWN0aXZpdHkuXG4gKiBDb252ZXJ0ZWQgZnJvbSB0d2lnbCBHRUVLRVNUXzMwMCBmb3JtYXQgdG8gc3RhbmRhcmQgR0xTTC5cbiAqL1xuXG5jb25zdCBuZWJ1bG91c1R1bm5lbFNoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuLy8gU3RhbmRhcmQgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50czsgICAvLyBCZWF0IGRldGVjdGlvblxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRJbnRlbnNpdHk7ICAgIC8vIE92ZXJhbGwgaW50ZW5zaXR5IG9mIHRyYW5zaWVudCBlZmZlY3RzXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDYW1lcmFFZmZlY3Q7ICAgIC8vIEhvdyBtdWNoIGVuZXJneSBhZmZlY3RzIGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q29sb3JFZmZlY3Q7ICAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjb2xvcnNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENhbWVyYUVmZmVjdDsgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDb2xvckVmZmVjdDsgIC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNvbG9yc1xuXG4vLyBUdW5uZWwgYnJlYXRoaW5nIGVmZmVjdCB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nUmF0ZTsgICAgICAgICAvLyBDb250cm9scyBob3cgZmFzdCB0aGUgdHVubmVsIGJyZWF0aGVzXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdBbW91bnQ7ICAgICAgIC8vIENvbnRyb2xzIGhvdyBtdWNoIHRoZSB0dW5uZWwgZXhwYW5kcy9jb250cmFjdHNcblxuLy8gQ29sb3IgdW5pZm9ybXNcbnVuaWZvcm0gdmVjMyB1Q29sb3IxOyAgICAvLyBGaXJzdCBjb2xvciBmb3IgdHVubmVsXG51bmlmb3JtIHZlYzMgdUNvbG9yMjsgICAgLy8gU2Vjb25kIGNvbG9yIGZvciB0dW5uZWxcbnVuaWZvcm0gdmVjMyB1Q29sb3IzOyAgICAvLyBUaGlyZCBjb2xvciBmb3IgdHVubmVsXG51bmlmb3JtIHZlYzMgdUZvZ0NvbG9yOyAgLy8gRm9nIGNvbG9yXG51bmlmb3JtIHZlYzMgdUdsb3dDb2xvcjsgLy8gR2xvdyBjb2xvclxuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciByb3RhdGlvblxubWF0MiByb3QoZmxvYXQgYW5nbGUpIHtcbiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKTtcbiAgICBmbG9hdCBjID0gY29zKGFuZ2xlKTtcbiAgICByZXR1cm4gbWF0MihjLCBzLCAtcywgYyk7XG59XG5cbi8vIFNtb290aCBzdGVwIGZ1bmN0aW9uIGZvciB0cmFuc2l0aW9ucyAoZnJvbSBSZXRyb1R1bm5lbFNoYWRlci5qcylcbmZsb2F0IHNtb290aGVyc3RlcChmbG9hdCBlZGdlMCwgZmxvYXQgZWRnZTEsIGZsb2F0IHgpIHtcbiAgICB4ID0gY2xhbXAoKHggLSBlZGdlMCkgLyAoZWRnZTEgLSBlZGdlMCksIDAuMCwgMS4wKTtcbiAgICByZXR1cm4geCAqIHggKiB4ICogKHggKiAoeCAqIDYuMCAtIDE1LjApICsgMTAuMCk7XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgICAvLyBDYWxjdWxhdGUgcmF5IGRpcmVjdGlvbiBiYXNlZCBvbiBmcmFnbWVudCBjb29yZGluYXRlc1xuICAgIHZlYzMgcmF5RGlyZWN0aW9uID0gbm9ybWFsaXplKHZlYzMoZ2xfRnJhZ0Nvb3JkLnh5ICogMi4wIC0gdVJlc29sdXRpb24ueHksIC11UmVzb2x1dGlvbi55KSk7XG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIHNoaWZ0IGJhc2VkIG9uIGF1ZGlvIChleHRyZW1lbHkgbWluaW1hbClcbiAgICB2ZWMyIGNhbWVyYVNoaWZ0ID0gdmVjMihcbiAgICAgICAgc2luKHVUaW1lICogMC4zKSAqIDAuMDEgKiB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCwgICAgLy8gTG93IGZyZXEgaG9yaXpvbnRhbCBzaGlmdFxuICAgICAgICBjb3ModVRpbWUgKiAwLjQpICogMC4wMDUgKiB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgICAvLyBIaWdoIGZyZXEgdmVydGljYWwgc2hpZnRcbiAgICApO1xuICAgIHJheURpcmVjdGlvbi54eSArPSBjYW1lcmFTaGlmdDtcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIHRoZSBjb2xvclxuICAgIGZsb2F0IHogPSAwLjA7IC8vIEFjY3VtdWxhdG9yIGZvciBkaXN0YW5jZS9kZXB0aCBwYXJhbWV0ZXJcblxuICAgIC8vIE1haW4gbG9vcDogaXRlcmF0ZSA1MCB0aW1lc1xuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSA1MC4wOyBpKyspIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uXG4gICAgICAgIHZlYzMgcCA9IHogKiByYXlEaXJlY3Rpb247XG4gICAgICAgIHAueiArPSA2LjA7XG5cbiAgICAgICAgLy8gQXBwbHkgcm90YXRpb24gd2l0aCBzdWJ0bGUgdHJhbnNpZW50LWRyaXZlbiB2YXJpYXRpb25cbiAgICAgICAgZmxvYXQgYW5nbGUgPSBwLnkgKiAwLjU7XG4gICAgICAgIGFuZ2xlICs9IHVUcmFuc2llbnRzICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1OyAvLyBFeHRyZW1lbHkgc3VidGxlIHJvdGF0aW9uIHR3ZWFrXG4gICAgICAgIHAueHogKj0gcm90KGFuZ2xlKTtcblxuICAgICAgICAvLyBJbm5lciBsb29wIGZvciB0dW5uZWwgc2hhcGVcbiAgICAgICAgZmxvYXQgajtcbiAgICAgICAgZm9yIChqID0gMS4wOyBqIDwgOS4wOyBqIC89IDAuOCkge1xuICAgICAgICAgICAgdmVjMyB0aW1lT2Zmc2V0ID0gdVRpbWUgKiB2ZWMzKDMuMCwgMS4wLCAwLjApO1xuICAgICAgICAgICAgcCArPSBjb3MoY2VpbChwLnl6eCAtIHRpbWVPZmZzZXQpICogaikgLyBqO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnJlYXRoaW5nIGVmZmVjdDogc3VidGxlIHR1bm5lbCBleHBhbnNpb24gYmFzZWQgb24gdGltZSBhbmQgbG93IGZyZXF1ZW5jeVxuICAgICAgICBmbG9hdCBicmVhdGhpbmdQaGFzZSA9IHNpbih1VGltZSAqIHVCcmVhdGhpbmdSYXRlKTtcbiAgICAgICAgZmxvYXQgYnJlYXRoaW5nRmFjdG9yID0gMS4wICsgdUJyZWF0aGluZ0Ftb3VudCAqIDAuMDEgKiAoMS4wICsgdUxvd0VuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjEpICogYnJlYXRoaW5nUGhhc2U7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHN0ZXAgd2l0aCBicmVhdGhpbmcgZWZmZWN0XG4gICAgICAgIGZsb2F0IGRpc3Rfc3RlcCA9IDAuMDEgKyBhYnMobGVuZ3RoKHAueHopIC0gMC41KSAvIDcuMDtcbiAgICAgICAgZGlzdF9zdGVwICo9IGJyZWF0aGluZ0ZhY3RvcjsgLy8gQXBwbHkgYnJlYXRoaW5nIHRvIHR1bm5lbCBzaXplXG4gICAgICAgIHogKz0gZGlzdF9zdGVwO1xuXG4gICAgICAgIC8vIENvbG9yIGNvbnRyaWJ1dGlvbiB3aXRoIHN1YnRsZSBhdWRpbyBtb2R1bGF0aW9uXG4gICAgICAgIHZlYzQgY29sb3JfY29udHJpYnV0aW9uID0gKGNvcyh6ICsgdmVjNCgwLjAsIDEuMCwgMi4wLCAwLjApKSArIDEuMSkgLyBkaXN0X3N0ZXA7XG5cbiAgICAgICAgLy8gQXBwbHkgY29sb3IxLCBjb2xvcjIsIGNvbG9yMyBiYXNlZCBvbiBwb3NpdGlvbiAoeikgZm9yIHJldHJvIHR1bm5lbCBhZXN0aGV0aWNcbiAgICAgICAgZmxvYXQgY29sb3JNaXggPSBzbW9vdGhlcnN0ZXAoMC4wLCA1MC4wLCB6KTtcbiAgICAgICAgdmVjMyBiYXNlQ29sb3IgPSBtaXgodUNvbG9yMSwgbWl4KHVDb2xvcjIsIHVDb2xvcjMsIGNvbG9yTWl4KSwgY29sb3JNaXgpO1xuXG4gICAgICAgIC8vIFN1YnRsZSBjb2xvciBtb2R1bGF0aW9uIGJhc2VkIG9uIHRyYW5zaWVudHMgYW5kIGVuZXJneVxuICAgICAgICBiYXNlQ29sb3IgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjAyOyAvLyBWZXJ5IGZhaW50IGJyaWdodG5lc3MgYm9vc3RcbiAgICAgICAgYmFzZUNvbG9yICs9IHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAwNSAqIHVHbG93Q29sb3I7IC8vIEZhaW50IGdsb3cgdGludFxuXG4gICAgICAgIGNvbG9yX2NvbnRyaWJ1dGlvbi5yZ2IgKj0gYmFzZUNvbG9yO1xuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yX2NvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyAxMDAwLjApO1xuXG4gICAgLy8gQWRkIHN1YnRsZSBmb2cgZWZmZWN0IGluZmx1ZW5jZWQgYnkgaGlnaCBlbmVyZ3lcbiAgICB2ZWMzIGZvZyA9IHVGb2dDb2xvciAqICgwLjA1ICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAxKTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBmb2c7XG5cbiAgICAvLyBBZGQgZmFpbnQgZ2xvdyBlZmZlY3QgYmFzZWQgb24gdHJhbnNpZW50c1xuICAgIHRvdGFsQ29sb3IucmdiICs9IHVHbG93Q29sb3IgKiB1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDI7XG5cbiAgICAvLyBTZXQgZmluYWwgZnJhZ21lbnQgY29sb3JcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KHRvdGFsQ29sb3IucmdiLCAxLjApO1xufVxuYDtcblxuZXhwb3J0IGRlZmF1bHQgbmVidWxvdXNUdW5uZWxTaGFkZXJTb3VyY2U7ICJdLCJuYW1lcyI6WyJuZWJ1bG91c1R1bm5lbFNoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/NebulousTunnelShader.js\n");

/***/ }),

/***/ "./utils/shaders/NeonBarShader.js":
/*!****************************************!*\
  !*** ./utils/shaders/NeonBarShader.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * NeonBarShader.js\n * Exports a neon bar shader adapted from ShaderToy to work with our WebGL setup.\n */ const neonBarShaderSource = `#version 300 es\nprecision highp float;\n\n// Input from vertex shader\nin vec2 vTexCoord;\n\n// Uniforms provided by ShaderVisualizer\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio reactive uniforms\nuniform float uEnergy;\nuniform float uLowEnergy;\nuniform float uHighEnergy;\nuniform float uTransients;\n\n// Output color\nout vec4 fragColor;\n\n// GLSL-compatible tanh approximation\nvec4 tanhApprox(vec4 x) {\n    vec4 x2 = x * x;\n    return clamp(x * (27.0 + x2) / (27.0 + 9.0 * x2), -1.0, 1.0);\n}\n\nvoid main() {\n    // Convert from vTexCoord to ShaderToy-style coordinates\n    vec2 I = vec2(vTexCoord.x * uResolution.x, (1.0 - vTexCoord.y) * uResolution.y);\n    float t = uTime;\n    \n    // Add audio reactivity\n    t *= 0.5 + 0.5 * uHighEnergy; // Speed based on high frequencies\n    float intensity = 1.0 + 3.0 * uEnergy; // Overall intensity\n    float pulseEffect = 1.0 + uTransients * 2.0; // Add pulse effect on transients\n    \n    float i, z = 0.0, d, s;\n    vec4 O = vec4(0.0);\n    \n    // Number of raymarching steps - higher for better quality but might impact performance\n    float steps = 30.0 + 10.0 * uEnergy; // More detail with higher energy\n    \n    for(i = 0.0; i < steps; i++) {\n        // Ray direction calculation adapted for our coordinate system\n        vec3 p = z * normalize(vec3((I / uResolution.y * 2.0 - vec2(1.0, uResolution.x/uResolution.y)) * 2.0, 0.0) - vec3(uResolution.x, uResolution.y, uResolution.x)/uResolution.y);\n        \n        // Camera position adjustment\n        p.z += 2.0; // Camera moved back\n        \n        // Rotation matrix for animation\n        float ct = cos(t), st = sin(t);\n        mat2 rot = mat2(ct, -st, st, ct);\n        p.yz *= rot;\n        \n        // Distance field function - a cosine-based shape\n        s = dot(cos(p), cos(p.yzx / 0.6));\n        \n        // Step along the ray\n        z += d = 0.2 * max(0.2 + abs(s), length(p) - 4.0);\n        \n        // Define neon colors\n        vec3 neonColors[4];\n        neonColors[0] = vec3(1.0, 0.0, 0.7); // Pink\n        neonColors[1] = vec3(0.0, 0.7, 1.0); // Cyan\n        neonColors[2] = vec3(0.0, 1.0, 0.2); // Green\n        neonColors[3] = vec3(0.0, 1.0, 1.0); // Turquoise\n        \n        // Audio reactive color selection\n        float colorIndex = mod(p.y + t * 0.5 + uLowEnergy * 2.0, 4.0);\n        int idx = int(floor(colorIndex));\n        int nextIdx = (idx + 1) % 4;\n        float frac = fract(colorIndex);\n        vec3 col = mix(neonColors[idx], neonColors[nextIdx], frac);\n        \n        // Add color contribution with audio reactivity\n        O += vec4(col * (2.0 + 0.5 * sin(t + p.y)) * intensity * pulseEffect, 0.0) / d;\n    }\n    \n    // Apply exposure tone mapping (replacing tanh)\n    vec4 finalColorAppliedTahn = tanhApprox(O / (1000.0 / (1.0 + uEnergy * 2.0)));\n    \n    // Output the final color, ensuring alpha is 1.0 for visibility\n    fragColor = vec4(finalColorAppliedTahn.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (neonBarShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL05lb25CYXJTaGFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Q0FHQyxHQUVELE1BQU1BLHNCQUFzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBa0Y1QixDQUFDO0FBRUYsaUVBQWVBLG1CQUFtQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9OZW9uQmFyU2hhZGVyLmpzPzMwMGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOZW9uQmFyU2hhZGVyLmpzXG4gKiBFeHBvcnRzIGEgbmVvbiBiYXIgc2hhZGVyIGFkYXB0ZWQgZnJvbSBTaGFkZXJUb3kgdG8gd29yayB3aXRoIG91ciBXZWJHTCBzZXR1cC5cbiAqL1xuXG5jb25zdCBuZW9uQmFyU2hhZGVyU291cmNlID0gYCN2ZXJzaW9uIDMwMCBlc1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4vLyBJbnB1dCBmcm9tIHZlcnRleCBzaGFkZXJcbmluIHZlYzIgdlRleENvb3JkO1xuXG4vLyBVbmlmb3JtcyBwcm92aWRlZCBieSBTaGFkZXJWaXN1YWxpemVyXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVUaW1lO1xuXG4vLyBBdWRpbyByZWFjdGl2ZSB1bmlmb3Jtc1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5O1xudW5pZm9ybSBmbG9hdCB1TG93RW5lcmd5O1xudW5pZm9ybSBmbG9hdCB1SGlnaEVuZXJneTtcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7XG5cbi8vIE91dHB1dCBjb2xvclxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4vLyBHTFNMLWNvbXBhdGlibGUgdGFuaCBhcHByb3hpbWF0aW9uXG52ZWM0IHRhbmhBcHByb3godmVjNCB4KSB7XG4gICAgdmVjNCB4MiA9IHggKiB4O1xuICAgIHJldHVybiBjbGFtcCh4ICogKDI3LjAgKyB4MikgLyAoMjcuMCArIDkuMCAqIHgyKSwgLTEuMCwgMS4wKTtcbn1cblxudm9pZCBtYWluKCkge1xuICAgIC8vIENvbnZlcnQgZnJvbSB2VGV4Q29vcmQgdG8gU2hhZGVyVG95LXN0eWxlIGNvb3JkaW5hdGVzXG4gICAgdmVjMiBJID0gdmVjMih2VGV4Q29vcmQueCAqIHVSZXNvbHV0aW9uLngsICgxLjAgLSB2VGV4Q29vcmQueSkgKiB1UmVzb2x1dGlvbi55KTtcbiAgICBmbG9hdCB0ID0gdVRpbWU7XG4gICAgXG4gICAgLy8gQWRkIGF1ZGlvIHJlYWN0aXZpdHlcbiAgICB0ICo9IDAuNSArIDAuNSAqIHVIaWdoRW5lcmd5OyAvLyBTcGVlZCBiYXNlZCBvbiBoaWdoIGZyZXF1ZW5jaWVzXG4gICAgZmxvYXQgaW50ZW5zaXR5ID0gMS4wICsgMy4wICogdUVuZXJneTsgLy8gT3ZlcmFsbCBpbnRlbnNpdHlcbiAgICBmbG9hdCBwdWxzZUVmZmVjdCA9IDEuMCArIHVUcmFuc2llbnRzICogMi4wOyAvLyBBZGQgcHVsc2UgZWZmZWN0IG9uIHRyYW5zaWVudHNcbiAgICBcbiAgICBmbG9hdCBpLCB6ID0gMC4wLCBkLCBzO1xuICAgIHZlYzQgTyA9IHZlYzQoMC4wKTtcbiAgICBcbiAgICAvLyBOdW1iZXIgb2YgcmF5bWFyY2hpbmcgc3RlcHMgLSBoaWdoZXIgZm9yIGJldHRlciBxdWFsaXR5IGJ1dCBtaWdodCBpbXBhY3QgcGVyZm9ybWFuY2VcbiAgICBmbG9hdCBzdGVwcyA9IDMwLjAgKyAxMC4wICogdUVuZXJneTsgLy8gTW9yZSBkZXRhaWwgd2l0aCBoaWdoZXIgZW5lcmd5XG4gICAgXG4gICAgZm9yKGkgPSAwLjA7IGkgPCBzdGVwczsgaSsrKSB7XG4gICAgICAgIC8vIFJheSBkaXJlY3Rpb24gY2FsY3VsYXRpb24gYWRhcHRlZCBmb3Igb3VyIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICAgIHZlYzMgcCA9IHogKiBub3JtYWxpemUodmVjMygoSSAvIHVSZXNvbHV0aW9uLnkgKiAyLjAgLSB2ZWMyKDEuMCwgdVJlc29sdXRpb24ueC91UmVzb2x1dGlvbi55KSkgKiAyLjAsIDAuMCkgLSB2ZWMzKHVSZXNvbHV0aW9uLngsIHVSZXNvbHV0aW9uLnksIHVSZXNvbHV0aW9uLngpL3VSZXNvbHV0aW9uLnkpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FtZXJhIHBvc2l0aW9uIGFkanVzdG1lbnRcbiAgICAgICAgcC56ICs9IDIuMDsgLy8gQ2FtZXJhIG1vdmVkIGJhY2tcbiAgICAgICAgXG4gICAgICAgIC8vIFJvdGF0aW9uIG1hdHJpeCBmb3IgYW5pbWF0aW9uXG4gICAgICAgIGZsb2F0IGN0ID0gY29zKHQpLCBzdCA9IHNpbih0KTtcbiAgICAgICAgbWF0MiByb3QgPSBtYXQyKGN0LCAtc3QsIHN0LCBjdCk7XG4gICAgICAgIHAueXogKj0gcm90O1xuICAgICAgICBcbiAgICAgICAgLy8gRGlzdGFuY2UgZmllbGQgZnVuY3Rpb24gLSBhIGNvc2luZS1iYXNlZCBzaGFwZVxuICAgICAgICBzID0gZG90KGNvcyhwKSwgY29zKHAueXp4IC8gMC42KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGVwIGFsb25nIHRoZSByYXlcbiAgICAgICAgeiArPSBkID0gMC4yICogbWF4KDAuMiArIGFicyhzKSwgbGVuZ3RoKHApIC0gNC4wKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERlZmluZSBuZW9uIGNvbG9yc1xuICAgICAgICB2ZWMzIG5lb25Db2xvcnNbNF07XG4gICAgICAgIG5lb25Db2xvcnNbMF0gPSB2ZWMzKDEuMCwgMC4wLCAwLjcpOyAvLyBQaW5rXG4gICAgICAgIG5lb25Db2xvcnNbMV0gPSB2ZWMzKDAuMCwgMC43LCAxLjApOyAvLyBDeWFuXG4gICAgICAgIG5lb25Db2xvcnNbMl0gPSB2ZWMzKDAuMCwgMS4wLCAwLjIpOyAvLyBHcmVlblxuICAgICAgICBuZW9uQ29sb3JzWzNdID0gdmVjMygwLjAsIDEuMCwgMS4wKTsgLy8gVHVycXVvaXNlXG4gICAgICAgIFxuICAgICAgICAvLyBBdWRpbyByZWFjdGl2ZSBjb2xvciBzZWxlY3Rpb25cbiAgICAgICAgZmxvYXQgY29sb3JJbmRleCA9IG1vZChwLnkgKyB0ICogMC41ICsgdUxvd0VuZXJneSAqIDIuMCwgNC4wKTtcbiAgICAgICAgaW50IGlkeCA9IGludChmbG9vcihjb2xvckluZGV4KSk7XG4gICAgICAgIGludCBuZXh0SWR4ID0gKGlkeCArIDEpICUgNDtcbiAgICAgICAgZmxvYXQgZnJhYyA9IGZyYWN0KGNvbG9ySW5kZXgpO1xuICAgICAgICB2ZWMzIGNvbCA9IG1peChuZW9uQ29sb3JzW2lkeF0sIG5lb25Db2xvcnNbbmV4dElkeF0sIGZyYWMpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGNvbG9yIGNvbnRyaWJ1dGlvbiB3aXRoIGF1ZGlvIHJlYWN0aXZpdHlcbiAgICAgICAgTyArPSB2ZWM0KGNvbCAqICgyLjAgKyAwLjUgKiBzaW4odCArIHAueSkpICogaW50ZW5zaXR5ICogcHVsc2VFZmZlY3QsIDAuMCkgLyBkO1xuICAgIH1cbiAgICBcbiAgICAvLyBBcHBseSBleHBvc3VyZSB0b25lIG1hcHBpbmcgKHJlcGxhY2luZyB0YW5oKVxuICAgIHZlYzQgZmluYWxDb2xvckFwcGxpZWRUYWhuID0gdGFuaEFwcHJveChPIC8gKDEwMDAuMCAvICgxLjAgKyB1RW5lcmd5ICogMi4wKSkpO1xuICAgIFxuICAgIC8vIE91dHB1dCB0aGUgZmluYWwgY29sb3IsIGVuc3VyaW5nIGFscGhhIGlzIDEuMCBmb3IgdmlzaWJpbGl0eVxuICAgIGZyYWdDb2xvciA9IHZlYzQoZmluYWxDb2xvckFwcGxpZWRUYWhuLnJnYiwgMS4wKTtcbn1gO1xuXG5leHBvcnQgZGVmYXVsdCBuZW9uQmFyU2hhZGVyU291cmNlOyAiXSwibmFtZXMiOlsibmVvbkJhclNoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/NeonBarShader.js\n");

/***/ }),

/***/ "./utils/shaders/NeonCubes.js":
/*!************************************!*\
  !*** ./utils/shaders/NeonCubes.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst neonCubesShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity and specific audio component effects\nuniform float uTransientIntensity;    // Overall intensity of transient effects\nuniform float uEnergyCameraEffect;    // How much energy affects camera\nuniform float uEnergyColorEffect;     // How much energy affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1; // Primary color\nuniform vec3 uColor2; // Secondary color\nuniform vec3 uColor3; // Tertiary color\nuniform vec3 uFogColor; // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Helper function for rotation\nmat2 rot(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n    return mat2(c, s, -s, c);\n}\n\nvoid main() {\n    // Calculate ray direction with subtle audio influence\n    vec2 uv = gl_FragCoord.xy / uResolution.xy;\n    vec2 p = (uv * 2.0 - 1.0);\n    p.x *= uResolution.x / uResolution.y; // Aspect ratio correction\n\n    // Subtle camera shake based on transients and low energy\n    float cameraShake = uTransients * uTransientIntensity * uTransientCameraEffect * 0.01 + \n                        uLowEnergy * uEnergyCameraEffect * 0.005;\n    p += vec2(sin(uTime * 0.5), cos(uTime * 0.5)) * cameraShake;\n\n    vec3 rayDirection = normalize(vec3(p, -1.0));\n\n    vec4 totalColor = vec4(0.0); // Accumulator for the color\n    float z = 0.0; // Accumulator for distance/depth parameter\n\n    // Adjust time scale subtly with energy\n    float timeScale = 1.0 + uEnergy * uEnergyCameraEffect * 0.01;\n    float adjustedTime = uTime * uCameraSpeed * timeScale;\n\n    // Breathing effect for subtle depth modulation\n    float breathingPhase = sin(adjustedTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * breathingPhase * 0.05; // Very subtle\n\n    for (float i = 1.0; i <= 70.0; i++) {\n        // Calculate position with subtle audio-reactive displacement\n        vec3 pos = z * rayDirection * breathingFactor;\n\n        // Subtle position offset with audio\n        pos.xz -= adjustedTime;\n        float displacement = uHighEnergy * uEnergyCameraEffect * 0.005;\n        pos.xy += vec2(sin(pos.z * 0.2), cos(pos.z * 0.2)) * displacement;\n\n        // Calculate 'v' with subtle audio modulation\n        vec3 v = cos(pos + sin(pos / (0.4 + uLowEnergy * uEnergyCameraEffect * 0.01) + vec3(0.0, 0.0, adjustedTime))) + 0.5;\n\n        // Distance step with subtle transient influence\n        float dist_step = 0.001 + length(max(v, v.yzy * 0.5)) / 5.0;\n        dist_step *= 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.005;\n\n        // Update 'z'\n        z += dist_step;\n\n        // Color contribution with audio-reactive color modulation\n        vec3 baseColor = mix(uColor1, uColor2, clamp(v.x, 0.0, 1.0));\n        baseColor = mix(baseColor, uColor3, clamp(v.y, 0.0, 1.0) * uHighEnergy * uEnergyColorEffect * 0.1);\n\n        // Subtle color pulsing with transients\n        float pulse = 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05;\n        baseColor *= pulse;\n\n        // Accumulate color\n        vec4 color_contribution = vec4(baseColor, 1.0) * (cos(pos.y + z + vec4(4.0, 6.0, 8.0, 0.0)) + 1.2) / dist_step;\n        totalColor += color_contribution;\n    }\n\n    // Final tonemapping\n    totalColor = tanh(totalColor / 7000.0);\n\n    // Subtle fog effect\n    float fogStrength = 0.05 + uEnergy * uEnergyColorEffect * 0.01;\n    vec3 fog = uFogColor * fogStrength * z;\n    totalColor.rgb += fog;\n\n    // Subtle glow effect\n    vec3 glow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.05 + \n                              uEnergy * uEnergyColorEffect * 0.02);\n    totalColor.rgb += glow;\n\n    // Final fragment color\n    fragColor = vec4(totalColor.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (neonCubesShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL05lb25DdWJlcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsd0JBQXdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUg5QixDQUFDO0FBRUYsaUVBQWVBLHFCQUFxQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9OZW9uQ3ViZXMuanM/OGQ3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBuZW9uQ3ViZXNTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbi8vIFN0YW5kYXJkIHVuaWZvcm1zXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVUaW1lO1xudW5pZm9ybSBmbG9hdCB1Q2FtZXJhU3BlZWQ7IC8vIENvbnRyb2xzIG1vdmVtZW50IHNwZWVkIHRocm91Z2ggdHVubmVsXG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IGFuZCBzcGVjaWZpYyBhdWRpbyBjb21wb25lbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50SW50ZW5zaXR5OyAgICAvLyBPdmVyYWxsIGludGVuc2l0eSBvZiB0cmFuc2llbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q2FtZXJhRWZmZWN0OyAgICAvLyBIb3cgbXVjaCBlbmVyZ3kgYWZmZWN0cyBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNvbG9yRWZmZWN0OyAgICAgLy8gSG93IG11Y2ggZW5lcmd5IGFmZmVjdHMgY29sb3JzXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDYW1lcmFFZmZlY3Q7IC8vIEhvdyBtdWNoIHRyYW5zaWVudHMgYWZmZWN0IGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7ICAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjb2xvcnNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ1JhdGU7ICAgICAgICAgLy8gQ29udHJvbHMgaG93IGZhc3QgdGhlIHR1bm5lbCBicmVhdGhlc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAgICAgICAvLyBDb250cm9scyBob3cgbXVjaCB0aGUgdHVubmVsIGV4cGFuZHMvY29udHJhY3RzXG5cbi8vIENvbG9yIHVuaWZvcm1zXG51bmlmb3JtIHZlYzMgdUNvbG9yMTsgLy8gUHJpbWFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVDb2xvcjI7IC8vIFNlY29uZGFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVDb2xvcjM7IC8vIFRlcnRpYXJ5IGNvbG9yXG51bmlmb3JtIHZlYzMgdUZvZ0NvbG9yOyAvLyBGb2cgY29sb3JcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yOyAvLyBHbG93IGNvbG9yXG5cbi8vIE91dHB1dCBjb2xvclxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gZm9yIHJvdGF0aW9uXG5tYXQyIHJvdChmbG9hdCBhbmdsZSkge1xuICAgIGZsb2F0IHMgPSBzaW4oYW5nbGUpO1xuICAgIGZsb2F0IGMgPSBjb3MoYW5nbGUpO1xuICAgIHJldHVybiBtYXQyKGMsIHMsIC1zLCBjKTtcbn1cblxudm9pZCBtYWluKCkge1xuICAgIC8vIENhbGN1bGF0ZSByYXkgZGlyZWN0aW9uIHdpdGggc3VidGxlIGF1ZGlvIGluZmx1ZW5jZVxuICAgIHZlYzIgdXYgPSBnbF9GcmFnQ29vcmQueHkgLyB1UmVzb2x1dGlvbi54eTtcbiAgICB2ZWMyIHAgPSAodXYgKiAyLjAgLSAxLjApO1xuICAgIHAueCAqPSB1UmVzb2x1dGlvbi54IC8gdVJlc29sdXRpb24ueTsgLy8gQXNwZWN0IHJhdGlvIGNvcnJlY3Rpb25cblxuICAgIC8vIFN1YnRsZSBjYW1lcmEgc2hha2UgYmFzZWQgb24gdHJhbnNpZW50cyBhbmQgbG93IGVuZXJneVxuICAgIGZsb2F0IGNhbWVyYVNoYWtlID0gdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDEgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDU7XG4gICAgcCArPSB2ZWMyKHNpbih1VGltZSAqIDAuNSksIGNvcyh1VGltZSAqIDAuNSkpICogY2FtZXJhU2hha2U7XG5cbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKHAsIC0xLjApKTtcblxuICAgIHZlYzQgdG90YWxDb2xvciA9IHZlYzQoMC4wKTsgLy8gQWNjdW11bGF0b3IgZm9yIHRoZSBjb2xvclxuICAgIGZsb2F0IHogPSAwLjA7IC8vIEFjY3VtdWxhdG9yIGZvciBkaXN0YW5jZS9kZXB0aCBwYXJhbWV0ZXJcblxuICAgIC8vIEFkanVzdCB0aW1lIHNjYWxlIHN1YnRseSB3aXRoIGVuZXJneVxuICAgIGZsb2F0IHRpbWVTY2FsZSA9IDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMTtcbiAgICBmbG9hdCBhZGp1c3RlZFRpbWUgPSB1VGltZSAqIHVDYW1lcmFTcGVlZCAqIHRpbWVTY2FsZTtcblxuICAgIC8vIEJyZWF0aGluZyBlZmZlY3QgZm9yIHN1YnRsZSBkZXB0aCBtb2R1bGF0aW9uXG4gICAgZmxvYXQgYnJlYXRoaW5nUGhhc2UgPSBzaW4oYWRqdXN0ZWRUaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiBicmVhdGhpbmdQaGFzZSAqIDAuMDU7IC8vIFZlcnkgc3VidGxlXG5cbiAgICBmb3IgKGZsb2F0IGkgPSAxLjA7IGkgPD0gNzAuMDsgaSsrKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiB3aXRoIHN1YnRsZSBhdWRpby1yZWFjdGl2ZSBkaXNwbGFjZW1lbnRcbiAgICAgICAgdmVjMyBwb3MgPSB6ICogcmF5RGlyZWN0aW9uICogYnJlYXRoaW5nRmFjdG9yO1xuXG4gICAgICAgIC8vIFN1YnRsZSBwb3NpdGlvbiBvZmZzZXQgd2l0aCBhdWRpb1xuICAgICAgICBwb3MueHogLT0gYWRqdXN0ZWRUaW1lO1xuICAgICAgICBmbG9hdCBkaXNwbGFjZW1lbnQgPSB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjAwNTtcbiAgICAgICAgcG9zLnh5ICs9IHZlYzIoc2luKHBvcy56ICogMC4yKSwgY29zKHBvcy56ICogMC4yKSkgKiBkaXNwbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlICd2JyB3aXRoIHN1YnRsZSBhdWRpbyBtb2R1bGF0aW9uXG4gICAgICAgIHZlYzMgdiA9IGNvcyhwb3MgKyBzaW4ocG9zIC8gKDAuNCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMSkgKyB2ZWMzKDAuMCwgMC4wLCBhZGp1c3RlZFRpbWUpKSkgKyAwLjU7XG5cbiAgICAgICAgLy8gRGlzdGFuY2Ugc3RlcCB3aXRoIHN1YnRsZSB0cmFuc2llbnQgaW5mbHVlbmNlXG4gICAgICAgIGZsb2F0IGRpc3Rfc3RlcCA9IDAuMDAxICsgbGVuZ3RoKG1heCh2LCB2Lnl6eSAqIDAuNSkpIC8gNS4wO1xuICAgICAgICBkaXN0X3N0ZXAgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMDA1O1xuXG4gICAgICAgIC8vIFVwZGF0ZSAneidcbiAgICAgICAgeiArPSBkaXN0X3N0ZXA7XG5cbiAgICAgICAgLy8gQ29sb3IgY29udHJpYnV0aW9uIHdpdGggYXVkaW8tcmVhY3RpdmUgY29sb3IgbW9kdWxhdGlvblxuICAgICAgICB2ZWMzIGJhc2VDb2xvciA9IG1peCh1Q29sb3IxLCB1Q29sb3IyLCBjbGFtcCh2LngsIDAuMCwgMS4wKSk7XG4gICAgICAgIGJhc2VDb2xvciA9IG1peChiYXNlQ29sb3IsIHVDb2xvcjMsIGNsYW1wKHYueSwgMC4wLCAxLjApICogdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjEpO1xuXG4gICAgICAgIC8vIFN1YnRsZSBjb2xvciBwdWxzaW5nIHdpdGggdHJhbnNpZW50c1xuICAgICAgICBmbG9hdCBwdWxzZSA9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDU7XG4gICAgICAgIGJhc2VDb2xvciAqPSBwdWxzZTtcblxuICAgICAgICAvLyBBY2N1bXVsYXRlIGNvbG9yXG4gICAgICAgIHZlYzQgY29sb3JfY29udHJpYnV0aW9uID0gdmVjNChiYXNlQ29sb3IsIDEuMCkgKiAoY29zKHBvcy55ICsgeiArIHZlYzQoNC4wLCA2LjAsIDguMCwgMC4wKSkgKyAxLjIpIC8gZGlzdF9zdGVwO1xuICAgICAgICB0b3RhbENvbG9yICs9IGNvbG9yX2NvbnRyaWJ1dGlvbjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCB0b25lbWFwcGluZ1xuICAgIHRvdGFsQ29sb3IgPSB0YW5oKHRvdGFsQ29sb3IgLyA3MDAwLjApO1xuXG4gICAgLy8gU3VidGxlIGZvZyBlZmZlY3RcbiAgICBmbG9hdCBmb2dTdHJlbmd0aCA9IDAuMDUgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMTtcbiAgICB2ZWMzIGZvZyA9IHVGb2dDb2xvciAqIGZvZ1N0cmVuZ3RoICogejtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBmb2c7XG5cbiAgICAvLyBTdWJ0bGUgZ2xvdyBlZmZlY3RcbiAgICB2ZWMzIGdsb3cgPSB1R2xvd0NvbG9yICogKHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDUgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAyKTtcbiAgICB0b3RhbENvbG9yLnJnYiArPSBnbG93O1xuXG4gICAgLy8gRmluYWwgZnJhZ21lbnQgY29sb3JcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KHRvdGFsQ29sb3IucmdiLCAxLjApO1xufWA7XG5cbmV4cG9ydCBkZWZhdWx0IG5lb25DdWJlc1NoYWRlclNvdXJjZTsiXSwibmFtZXMiOlsibmVvbkN1YmVzU2hhZGVyU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/NeonCubes.js\n");

/***/ }),

/***/ "./utils/shaders/NeonTower.js":
/*!************************************!*\
  !*** ./utils/shaders/NeonTower.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst neonTowerShaderSource = `#version 300 es\nprecision highp float;\n\n// Standard uniforms\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// Effect intensity and specific audio component effects\nuniform float uTransientIntensity;    // Intensity of transient effects\nuniform float uEnergyCameraEffect;    // Energy effect on camera/motion\nuniform float uEnergyColorEffect;     // Energy effect on colors\nuniform float uTransientCameraEffect; // Transients effect on camera\nuniform float uTransientColorEffect;  // Transients effect on colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Speed of tunnel breathing\nuniform float uBreathingAmount;       // Amount of tunnel expansion/contraction\n\n// Color uniforms\nuniform vec3 uColor1; // Primary color\nuniform vec3 uColor2; // Secondary color\nuniform vec3 uColor3; // Tertiary color\nuniform vec3 uFogColor; // Fog color\nuniform vec3 uGlowColor; // Glow color\n\n// Output color\nout vec4 fragColor;\n\n// Utility functions from RetroTunnelShader.js\nfloat smootherstep(float edge0, float edge1, float x) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0);\n}\n\nfloat getsat(vec3 c) {\n    float mi = min(min(c.x, c.y), c.z);\n    float ma = max(max(c.x, c.y), c.z);\n    return (ma - mi) / (ma + 1e-7);\n}\n\nvec3 iLerp(vec3 a, vec3 b, float x) {\n    return mix(a, b, x);\n}\n\nvoid main() {\n    // Calculate ray direction\n    vec3 rayDirection = normalize(vec3(gl_FragCoord.xy * 2.0 - uResolution.xy, -uResolution.y));\n\n    vec4 totalColor = vec4(0.0);\n    float z = 0.0;\n\n    // Subtle audio-reactive breathing effect\n    float breathingPhase = sin(uTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * 0.01 * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.05) * breathingPhase;\n\n    for (float i = 1.0; i <= 70.0; i++) {\n        vec3 p = z * rayDirection;\n        p.z += 2.0;\n\n        // Apply subtle breathing to position\n        p.xy *= breathingFactor;\n\n        float d = length(p.xz);\n\n        // Subtle transient effect on motion\n        float transientMotion = 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.02;\n        float energyMotion = 1.0 + uEnergy * uEnergyCameraEffect * 0.01;\n        vec2 cosInput = vec2(log(d), p.y / d + atan(p.x, p.z) * 0.5 + uTime * uCameraSpeed) * 4.0;\n        d *= 0.1 * length(cos(cosInput)) * transientMotion * energyMotion;\n\n        z += d;\n\n        // Base color contribution\n        vec4 colorContribution = (cos(p.y + z + vec4(0.0, 2.0, 5.0, 3.0)) + 1.2) / d;\n\n        // Subtle audio-reactive color modulation\n        vec3 colorMod = uColor1; // Default to uColor1\n        if (uTransients * uTransientIntensity * uTransientColorEffect > 0.1) {\n            colorMod = iLerp(colorMod, uColor2, uTransients * uTransientIntensity * uTransientColorEffect * 0.05);\n        }\n        if (uLowEnergy * uEnergyColorEffect > 0.3) {\n            colorMod.r += uLowEnergy * uEnergyColorEffect * 0.03; // Subtle red boost\n        }\n        if (uHighEnergy * uEnergyColorEffect > 0.3) {\n            colorMod.b += uHighEnergy * uEnergyColorEffect * 0.03; // Subtle blue boost\n        }\n        colorContribution.rgb *= colorMod * (1.0 + uEnergy * uEnergyColorEffect * 0.02);\n\n        totalColor += colorContribution;\n    }\n\n    // Tonemapping\n    totalColor = tanh(totalColor / 2000.0);\n\n    // Subtle fog effect\n    float fogStrength = 0.01 + uHighEnergy * uEnergyCameraEffect * 0.005;\n    float fogT = exp(z * fogStrength - 2.0);\n    vec4 fogColor = vec4(uFogColor, 0.05);\n    fogColor.rgb *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.05;\n    totalColor += fogColor * clamp(fogT, 0.0, 1.0);\n\n    // Subtle glow effect\n    vec3 audioReactiveGlow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.05 + uEnergy * uEnergyColorEffect * 0.02);\n    totalColor.rgb += audioReactiveGlow * 0.1;\n\n    // Final color with subtle energy-based saturation\n    totalColor.rgb = iLerp(totalColor.rgb, totalColor.rgb * (1.0 + getsat(totalColor.rgb) * uEnergy * uEnergyColorEffect * 0.02), 0.5);\n\n    fragColor = vec4(totalColor.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (neonTowerShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL05lb25Ub3dlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsd0JBQXdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0g5QixDQUFDO0FBRUYsaUVBQWVBLHFCQUFxQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9OZW9uVG93ZXIuanM/NWNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBuZW9uVG93ZXJTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbi8vIFN0YW5kYXJkIHVuaWZvcm1zXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVUaW1lO1xudW5pZm9ybSBmbG9hdCB1Q2FtZXJhU3BlZWQ7IC8vIENvbnRyb2xzIG1vdmVtZW50IHNwZWVkIHRocm91Z2ggdHVubmVsXG5cbi8vIEF1ZGlvIGFuYWx5c2lzIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7ICAgICAgIC8vIE92ZXJhbGwgYXVkaW8gZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7ICAgIC8vIExvdyBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5OyAgIC8vIEhpZ2ggZnJlcXVlbmN5IGVuZXJneVxuXG4vLyBFZmZlY3QgaW50ZW5zaXR5IGFuZCBzcGVjaWZpYyBhdWRpbyBjb21wb25lbnQgZWZmZWN0c1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50SW50ZW5zaXR5OyAgICAvLyBJbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gRW5lcmd5IGVmZmVjdCBvbiBjYW1lcmEvbW90aW9uXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEVuZXJneSBlZmZlY3Qgb24gY29sb3JzXG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRDYW1lcmFFZmZlY3Q7IC8vIFRyYW5zaWVudHMgZWZmZWN0IG9uIGNhbWVyYVxudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7ICAvLyBUcmFuc2llbnRzIGVmZmVjdCBvbiBjb2xvcnNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ1JhdGU7ICAgICAgICAgLy8gU3BlZWQgb2YgdHVubmVsIGJyZWF0aGluZ1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAgICAgICAvLyBBbW91bnQgb2YgdHVubmVsIGV4cGFuc2lvbi9jb250cmFjdGlvblxuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7IC8vIFByaW1hcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IyOyAvLyBTZWNvbmRhcnkgY29sb3JcbnVuaWZvcm0gdmVjMyB1Q29sb3IzOyAvLyBUZXJ0aWFyeSBjb2xvclxudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjsgLy8gRm9nIGNvbG9yXG51bmlmb3JtIHZlYzMgdUdsb3dDb2xvcjsgLy8gR2xvdyBjb2xvclxuXG4vLyBPdXRwdXQgY29sb3Jcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZnJvbSBSZXRyb1R1bm5lbFNoYWRlci5qc1xuZmxvYXQgc21vb3RoZXJzdGVwKGZsb2F0IGVkZ2UwLCBmbG9hdCBlZGdlMSwgZmxvYXQgeCkge1xuICAgIHggPSBjbGFtcCgoeCAtIGVkZ2UwKSAvIChlZGdlMSAtIGVkZ2UwKSwgMC4wLCAxLjApO1xuICAgIHJldHVybiB4ICogeCAqIHggKiAoeCAqICh4ICogNi4wIC0gMTUuMCkgKyAxMC4wKTtcbn1cblxuZmxvYXQgZ2V0c2F0KHZlYzMgYykge1xuICAgIGZsb2F0IG1pID0gbWluKG1pbihjLngsIGMueSksIGMueik7XG4gICAgZmxvYXQgbWEgPSBtYXgobWF4KGMueCwgYy55KSwgYy56KTtcbiAgICByZXR1cm4gKG1hIC0gbWkpIC8gKG1hICsgMWUtNyk7XG59XG5cbnZlYzMgaUxlcnAodmVjMyBhLCB2ZWMzIGIsIGZsb2F0IHgpIHtcbiAgICByZXR1cm4gbWl4KGEsIGIsIHgpO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHJheSBkaXJlY3Rpb25cbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2ZWMzKGdsX0ZyYWdDb29yZC54eSAqIDIuMCAtIHVSZXNvbHV0aW9uLnh5LCAtdVJlc29sdXRpb24ueSkpO1xuXG4gICAgdmVjNCB0b3RhbENvbG9yID0gdmVjNCgwLjApO1xuICAgIGZsb2F0IHogPSAwLjA7XG5cbiAgICAvLyBTdWJ0bGUgYXVkaW8tcmVhY3RpdmUgYnJlYXRoaW5nIGVmZmVjdFxuICAgIGZsb2F0IGJyZWF0aGluZ1BoYXNlID0gc2luKHVUaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiAwLjAxICogKDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wNSkgKiBicmVhdGhpbmdQaGFzZTtcblxuICAgIGZvciAoZmxvYXQgaSA9IDEuMDsgaSA8PSA3MC4wOyBpKyspIHtcbiAgICAgICAgdmVjMyBwID0geiAqIHJheURpcmVjdGlvbjtcbiAgICAgICAgcC56ICs9IDIuMDtcblxuICAgICAgICAvLyBBcHBseSBzdWJ0bGUgYnJlYXRoaW5nIHRvIHBvc2l0aW9uXG4gICAgICAgIHAueHkgKj0gYnJlYXRoaW5nRmFjdG9yO1xuXG4gICAgICAgIGZsb2F0IGQgPSBsZW5ndGgocC54eik7XG5cbiAgICAgICAgLy8gU3VidGxlIHRyYW5zaWVudCBlZmZlY3Qgb24gbW90aW9uXG4gICAgICAgIGZsb2F0IHRyYW5zaWVudE1vdGlvbiA9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjAyO1xuICAgICAgICBmbG9hdCBlbmVyZ3lNb3Rpb24gPSAxLjAgKyB1RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDE7XG4gICAgICAgIHZlYzIgY29zSW5wdXQgPSB2ZWMyKGxvZyhkKSwgcC55IC8gZCArIGF0YW4ocC54LCBwLnopICogMC41ICsgdVRpbWUgKiB1Q2FtZXJhU3BlZWQpICogNC4wO1xuICAgICAgICBkICo9IDAuMSAqIGxlbmd0aChjb3MoY29zSW5wdXQpKSAqIHRyYW5zaWVudE1vdGlvbiAqIGVuZXJneU1vdGlvbjtcblxuICAgICAgICB6ICs9IGQ7XG5cbiAgICAgICAgLy8gQmFzZSBjb2xvciBjb250cmlidXRpb25cbiAgICAgICAgdmVjNCBjb2xvckNvbnRyaWJ1dGlvbiA9IChjb3MocC55ICsgeiArIHZlYzQoMC4wLCAyLjAsIDUuMCwgMy4wKSkgKyAxLjIpIC8gZDtcblxuICAgICAgICAvLyBTdWJ0bGUgYXVkaW8tcmVhY3RpdmUgY29sb3IgbW9kdWxhdGlvblxuICAgICAgICB2ZWMzIGNvbG9yTW9kID0gdUNvbG9yMTsgLy8gRGVmYXVsdCB0byB1Q29sb3IxXG4gICAgICAgIGlmICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgPiAwLjEpIHtcbiAgICAgICAgICAgIGNvbG9yTW9kID0gaUxlcnAoY29sb3JNb2QsIHVDb2xvcjIsIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1TG93RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ID4gMC4zKSB7XG4gICAgICAgICAgICBjb2xvck1vZC5yICs9IHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjAzOyAvLyBTdWJ0bGUgcmVkIGJvb3N0XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVIaWdoRW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ID4gMC4zKSB7XG4gICAgICAgICAgICBjb2xvck1vZC5iICs9IHVIaWdoRW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMzsgLy8gU3VidGxlIGJsdWUgYm9vc3RcbiAgICAgICAgfVxuICAgICAgICBjb2xvckNvbnRyaWJ1dGlvbi5yZ2IgKj0gY29sb3JNb2QgKiAoMS4wICsgdUVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDIpO1xuXG4gICAgICAgIHRvdGFsQ29sb3IgKz0gY29sb3JDb250cmlidXRpb247XG4gICAgfVxuXG4gICAgLy8gVG9uZW1hcHBpbmdcbiAgICB0b3RhbENvbG9yID0gdGFuaCh0b3RhbENvbG9yIC8gMjAwMC4wKTtcblxuICAgIC8vIFN1YnRsZSBmb2cgZWZmZWN0XG4gICAgZmxvYXQgZm9nU3RyZW5ndGggPSAwLjAxICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wMDU7XG4gICAgZmxvYXQgZm9nVCA9IGV4cCh6ICogZm9nU3RyZW5ndGggLSAyLjApO1xuICAgIHZlYzQgZm9nQ29sb3IgPSB2ZWM0KHVGb2dDb2xvciwgMC4wNSk7XG4gICAgZm9nQ29sb3IucmdiICo9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDU7XG4gICAgdG90YWxDb2xvciArPSBmb2dDb2xvciAqIGNsYW1wKGZvZ1QsIDAuMCwgMS4wKTtcblxuICAgIC8vIFN1YnRsZSBnbG93IGVmZmVjdFxuICAgIHZlYzMgYXVkaW9SZWFjdGl2ZUdsb3cgPSB1R2xvd0NvbG9yICogKHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMDUgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMik7XG4gICAgdG90YWxDb2xvci5yZ2IgKz0gYXVkaW9SZWFjdGl2ZUdsb3cgKiAwLjE7XG5cbiAgICAvLyBGaW5hbCBjb2xvciB3aXRoIHN1YnRsZSBlbmVyZ3ktYmFzZWQgc2F0dXJhdGlvblxuICAgIHRvdGFsQ29sb3IucmdiID0gaUxlcnAodG90YWxDb2xvci5yZ2IsIHRvdGFsQ29sb3IucmdiICogKDEuMCArIGdldHNhdCh0b3RhbENvbG9yLnJnYikgKiB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wMiksIDAuNSk7XG5cbiAgICBmcmFnQ29sb3IgPSB2ZWM0KHRvdGFsQ29sb3IucmdiLCAxLjApO1xufWA7XG5cbmV4cG9ydCBkZWZhdWx0IG5lb25Ub3dlclNoYWRlclNvdXJjZTsiXSwibmFtZXMiOlsibmVvblRvd2VyU2hhZGVyU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/NeonTower.js\n");

/***/ }),

/***/ "./utils/shaders/OceanDepthsVortexShader.js":
/*!**************************************************!*\
  !*** ./utils/shaders/OceanDepthsVortexShader.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * OceanDepthsVortexShader.js\n * Exports the Ocean Depths Vortex shader code as a string for direct use in JavaScript.\n */ const oceanDepthsVortexShaderSource = `#version 300 es\nprecision highp float;\n\n// Input from vertex shader\nin vec2 vTexCoord;\n\n// Uniforms provided by ShaderVisualizer\nuniform vec2 uResolution;\nuniform float uTime;\n\n// Audio reactive uniforms\nuniform float uEnergy;\nuniform float uLowEnergy;\nuniform float uHighEnergy;\nuniform float uTransients;\n\n// Output color\nout vec4 fragColor;\n\n// Constants\n#define MAX_STEPS 100 // Maximum raymarching steps\n#define STEP_SCALE 0.15 // Reduced for finer sampling\n#define TURB_NUM 10.0 // Turbulence iterations for swirling water currents\n#define TURB_AMP 0.7 // Increased amplitude for stronger vortex distortions\n#define TURB_FREQ 0.8 // Adjusted frequency for smoother currents\n#define TURB_SPEED 0.6 // Slightly faster animation for the vortex swirl\n#define TURB_EXP 1.4 // Increased for more variation in turbulence\n\n// 2D rotation matrix function\nmat2 rotate2D(float angle) {\n    float s = sin(angle), c = cos(angle);\n    return mat2(c, -s, s, c);\n}\n\n// 3D rotation matrix around an axis\nmat3 rotate3D(float angle, vec3 axis) {\n    float s = sin(angle), c = cos(angle), ic = 1.0 - c;\n    vec3 n = normalize(axis);\n    float x = n.x, y = n.y, z = n.z;\n    return mat3(\n        ic * x * x + c, ic * x * y - z * s, ic * x * z + y * s,\n        ic * x * y + z * s, ic * y * y + c, ic * y * z - x * s,\n        ic * x * z - y * s, ic * y * z + x * s, ic * z * z + c\n    );\n}\n\n// Simple noise function for particulate matter (bubbles and debris)\nfloat hash(vec3 p) {\n    p = fract(p * 0.3183099 + 0.1);\n    return fract(p.x * p.y * p.z * (p.x + p.y + p.z));\n}\n\nfloat noise(vec3 p) {\n    vec3 i = floor(p);\n    vec3 f = fract(p);\n    vec3 u = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix(hash(i + vec3(0.0, 0.0, 0.0)), hash(i + vec3(1.0, 0.0, 0.0)), u.x),\n                   mix(hash(i + vec3(0.0, 1.0, 0.0)), hash(i + vec3(1.0, 1.0, 0.0)), u.x), u.y),\n               mix(mix(hash(i + vec3(0.0, 0.0, 1.0)), hash(i + vec3(1.0, 0.0, 1.0)), u.x),\n                   mix(hash(i + vec3(0.0, 1.0, 1.0)), hash(i + vec3(1.0, 1.0, 1.0)), u.x), u.y), u.z);\n}\n\n// Function to compute the vortex shape at a given center position\nfloat vortexShape(vec3 p, vec3 center, float t, float speedOffset) {\n    // Adjust position relative to the vortex center\n    vec3 q = p - center;\n    \n    // Create a vortex effect by rotating the position around the y-axis\n    float vortexAngle = length(q.xz) * 0.8 - t * (TURB_SPEED + speedOffset);\n    q.xz *= rotate2D(vortexAngle);\n    \n    // Turbulence loop for water currents - unrolled for better compatibility\n    float d = 1.0;\n    float freq = TURB_FREQ;\n    \n    // Iteration 1\n    q += TURB_AMP * sin(q.yzx * freq + t * (TURB_SPEED + speedOffset)) / freq;\n    q *= rotate3D(freq * 0.3, vec3(0.5, 1.0, 0.2));\n    freq *= TURB_EXP;\n    d += d;\n    \n    // Iteration 2\n    q += TURB_AMP * sin(q.yzx * freq + t * (TURB_SPEED + speedOffset)) / freq;\n    q *= rotate3D(freq * 0.3, vec3(0.5, 1.0, 0.2));\n    freq *= TURB_EXP;\n    d += d;\n    \n    // Iteration 3\n    q += TURB_AMP * sin(q.yzx * freq + t * (TURB_SPEED + speedOffset)) / freq;\n    q *= rotate3D(freq * 0.3, vec3(0.5, 1.0, 0.2));\n    freq *= TURB_EXP;\n    d += d;\n    \n    // Define the vortex shape: a cylindrical shape with distortions\n    float r = length(q.xz);\n    float s = r - 2.0 + 0.7 * sin(q.y * 1.5 + t * 0.4);\n    s += 0.5 * cos(q.y * 1.0 + q.z * 0.7 + t * 0.3);\n    s *= 0.8;\n    return s;\n}\n\n// GLSL-compatible tanh approximation\nvec4 tanhApprox(vec4 x) {\n    vec4 x2 = x * x;\n    return clamp(x * (27.0 + x2) / (27.0 + 9.0 * x2), -1.0, 1.0);\n}\n\nvoid main() {\n    // Convert from vTexCoord to normalized coordinates\n    vec2 uv = vTexCoord * 2.0 - 1.0;\n    uv.x *= uResolution.x / uResolution.y; // Aspect ratio correction\n    \n    vec4 o = vec4(0.0); // Output color\n    float t = uTime; // Time for animation\n    \n    // Add audio reactivity\n    float audioAmplitude = 0.3 + 0.7 * uLowEnergy; // Bass affects amplitude\n    float audioSpeed = 1.0 + 2.0 * uHighEnergy;    // High frequencies affect speed\n    float audioTurbulence = 0.8 + 1.0 * uEnergy;   // Overall energy affects turbulence\n    float audioTransients = uTransients * 2.0;     // Transients create pulses\n    \n    // Apply audio reactivity to time\n    t = t * audioSpeed + audioTransients;\n    \n    // Create oscillating zoom effect using sine wave\n    // Base zoom value 0.3, oscillate between 0.2 and 0.4\n    float zoomFrequency = 0.2; // How fast the zoom oscillates\n    float zoomAmplitude = 0.15; // How much the zoom changes\n    float zoomBase = 0.3; // Base zoom value\n    // Add audio reactivity to zoom oscillation\n    zoomFrequency += uEnergy * 0.1; // Energy affects oscillation speed\n    zoomAmplitude += uLowEnergy * 0.1; // Bass affects oscillation range\n    \n    // Calculate oscillating zoom\n    float zoom = zoomBase + zoomAmplitude * sin(t * zoomFrequency);\n    \n    // Apply zoom to UV coordinates (smaller value = more zoomed in)\n    uv *= zoom;\n    \n    // Ray setup: origin at (0,0,0), direction based on pixel position\n    vec3 rayDir = normalize(vec3(uv, -1.0)); // Ray direction (negative z-axis)\n    \n    // Rotate the ray slightly downward to frame the vortex\n    rayDir.yz *= rotate2D(0.2);\n    \n    // Add subtle camera movement based on energy\n    rayDir.xy *= rotate2D(sin(t * 0.1) * 0.05 * uEnergy);\n    \n    // Raymarching loop with fixed iterations for compatibility\n    float z = 0.0; // Distance along the ray\n    for (int i = 0; i < MAX_STEPS; i++) {\n        // Current position along the ray\n        vec3 p = z * rayDir;\n        \n        // Apply time-based animation for the scene motion\n        p.z += t * 0.3;\n        \n        // Define multiple vortex centers that respond to audio\n        vec3 center1 = vec3(0.0, 0.0, 0.0); // Main vortex at the origin\n        vec3 center2 = vec3(3.0 + sin(t * 0.2) * uEnergy, 0.0, 2.0); // Right vortex\n        vec3 center3 = vec3(-3.0 - cos(t * 0.3) * uEnergy, 0.0, 1.0); // Left vortex\n        vec3 center4 = vec3(0.0, 0.0, -4.0 + sin(t * 0.15) * uLowEnergy * 2.0); // Back vortex\n        \n        // Compute the distance to each vortex and take the minimum\n        float s1 = vortexShape(p, center1, t, 0.0);\n        float s2 = vortexShape(p, center2, t, 0.1);\n        float s3 = vortexShape(p, center3, t, -0.05);\n        float s4 = vortexShape(p, center4, t, 0.15);\n        float s = min(min(s1, s2), min(s3, s4)); // Combine all vortexes\n        \n        // Raymarching step size (volumetric density)\n        float d = STEP_SCALE * (0.005 + 0.5 * max(s, -s * 0.3 * audioTurbulence));\n        z += d;\n        \n        // Early ray termination for performance\n        if (z > 20.0) break;\n        \n        // Simulate light scattering from above (shafts of light)\n        float light = 0.7 + 0.5 * cos(p.x * 0.7 + p.z * 0.5 + t * 0.2);\n        light *= exp(-z * 0.03);\n        light *= 1.0 - smoothstep(0.0, 1.0, abs(p.y));\n        \n        // Add particulate matter (bubbles and debris) using noise\n        float particles = noise(p * 3.0 + t * 0.2) * 0.5;\n        \n        // Volumetric coloring for the underwater vortex\n        vec4 waterColor = vec4(0.1, 0.3, 0.5, 1.0); // Base color: deep blue\n        waterColor.rgb += vec3(0.0, 0.2, 0.1) * sin(s * 3.0 + t * 0.3);\n        waterColor.rgb += vec3(0.5, 0.7, 0.9) * light * (1.0 + uEnergy * 0.5);\n        waterColor.rgb += vec3(0.6, 0.7, 0.8) * particles * (1.0 + uTransients);\n        waterColor *= exp(-s * 0.5 * audioAmplitude);\n        \n        // Accumulate color based on density (volumetric rendering)\n        o += waterColor * 0.3 / d;\n    }\n    \n    // Apply custom tanh approximation for color compression\n    o = tanhApprox(o * o / 1e7);\n    \n    // Add a subtle background color for the deep ocean with noise\n    float bgNoise = noise(vec3(uv * 5.0, t * 0.1)) * 0.1;\n    o += vec4(0.02, 0.05, 0.1, 0.0) * (1.0 - exp(-z * 0.02));\n    o += vec4(0.05, 0.1, 0.15, 0.0) * bgNoise;\n    \n    // Pulse on transients\n    if (uTransients > 0.3) {\n        o.rgb += vec3(0.1, 0.2, 0.3) * uTransients;\n    }\n    \n    // Output the final color\n    fragColor = o;\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (oceanDepthsVortexShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL09jZWFuRGVwdGhzVm9ydGV4U2hhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FFRCxNQUFNQSxnQ0FBZ0MsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW1OdEMsQ0FBQztBQUVGLGlFQUFlQSw2QkFBNkJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8uL3V0aWxzL3NoYWRlcnMvT2NlYW5EZXB0aHNWb3J0ZXhTaGFkZXIuanM/MDRmNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE9jZWFuRGVwdGhzVm9ydGV4U2hhZGVyLmpzXG4gKiBFeHBvcnRzIHRoZSBPY2VhbiBEZXB0aHMgVm9ydGV4IHNoYWRlciBjb2RlIGFzIGEgc3RyaW5nIGZvciBkaXJlY3QgdXNlIGluIEphdmFTY3JpcHQuXG4gKi9cblxuY29uc3Qgb2NlYW5EZXB0aHNWb3J0ZXhTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbi8vIElucHV0IGZyb20gdmVydGV4IHNoYWRlclxuaW4gdmVjMiB2VGV4Q29vcmQ7XG5cbi8vIFVuaWZvcm1zIHByb3ZpZGVkIGJ5IFNoYWRlclZpc3VhbGl6ZXJcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG5cbi8vIEF1ZGlvIHJlYWN0aXZlIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5O1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50cztcblxuLy8gT3V0cHV0IGNvbG9yXG5vdXQgdmVjNCBmcmFnQ29sb3I7XG5cbi8vIENvbnN0YW50c1xuI2RlZmluZSBNQVhfU1RFUFMgMTAwIC8vIE1heGltdW0gcmF5bWFyY2hpbmcgc3RlcHNcbiNkZWZpbmUgU1RFUF9TQ0FMRSAwLjE1IC8vIFJlZHVjZWQgZm9yIGZpbmVyIHNhbXBsaW5nXG4jZGVmaW5lIFRVUkJfTlVNIDEwLjAgLy8gVHVyYnVsZW5jZSBpdGVyYXRpb25zIGZvciBzd2lybGluZyB3YXRlciBjdXJyZW50c1xuI2RlZmluZSBUVVJCX0FNUCAwLjcgLy8gSW5jcmVhc2VkIGFtcGxpdHVkZSBmb3Igc3Ryb25nZXIgdm9ydGV4IGRpc3RvcnRpb25zXG4jZGVmaW5lIFRVUkJfRlJFUSAwLjggLy8gQWRqdXN0ZWQgZnJlcXVlbmN5IGZvciBzbW9vdGhlciBjdXJyZW50c1xuI2RlZmluZSBUVVJCX1NQRUVEIDAuNiAvLyBTbGlnaHRseSBmYXN0ZXIgYW5pbWF0aW9uIGZvciB0aGUgdm9ydGV4IHN3aXJsXG4jZGVmaW5lIFRVUkJfRVhQIDEuNCAvLyBJbmNyZWFzZWQgZm9yIG1vcmUgdmFyaWF0aW9uIGluIHR1cmJ1bGVuY2VcblxuLy8gMkQgcm90YXRpb24gbWF0cml4IGZ1bmN0aW9uXG5tYXQyIHJvdGF0ZTJEKGZsb2F0IGFuZ2xlKSB7XG4gICAgZmxvYXQgcyA9IHNpbihhbmdsZSksIGMgPSBjb3MoYW5nbGUpO1xuICAgIHJldHVybiBtYXQyKGMsIC1zLCBzLCBjKTtcbn1cblxuLy8gM0Qgcm90YXRpb24gbWF0cml4IGFyb3VuZCBhbiBheGlzXG5tYXQzIHJvdGF0ZTNEKGZsb2F0IGFuZ2xlLCB2ZWMzIGF4aXMpIHtcbiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKSwgYyA9IGNvcyhhbmdsZSksIGljID0gMS4wIC0gYztcbiAgICB2ZWMzIG4gPSBub3JtYWxpemUoYXhpcyk7XG4gICAgZmxvYXQgeCA9IG4ueCwgeSA9IG4ueSwgeiA9IG4uejtcbiAgICByZXR1cm4gbWF0MyhcbiAgICAgICAgaWMgKiB4ICogeCArIGMsIGljICogeCAqIHkgLSB6ICogcywgaWMgKiB4ICogeiArIHkgKiBzLFxuICAgICAgICBpYyAqIHggKiB5ICsgeiAqIHMsIGljICogeSAqIHkgKyBjLCBpYyAqIHkgKiB6IC0geCAqIHMsXG4gICAgICAgIGljICogeCAqIHogLSB5ICogcywgaWMgKiB5ICogeiArIHggKiBzLCBpYyAqIHogKiB6ICsgY1xuICAgICk7XG59XG5cbi8vIFNpbXBsZSBub2lzZSBmdW5jdGlvbiBmb3IgcGFydGljdWxhdGUgbWF0dGVyIChidWJibGVzIGFuZCBkZWJyaXMpXG5mbG9hdCBoYXNoKHZlYzMgcCkge1xuICAgIHAgPSBmcmFjdChwICogMC4zMTgzMDk5ICsgMC4xKTtcbiAgICByZXR1cm4gZnJhY3QocC54ICogcC55ICogcC56ICogKHAueCArIHAueSArIHAueikpO1xufVxuXG5mbG9hdCBub2lzZSh2ZWMzIHApIHtcbiAgICB2ZWMzIGkgPSBmbG9vcihwKTtcbiAgICB2ZWMzIGYgPSBmcmFjdChwKTtcbiAgICB2ZWMzIHUgPSBmICogZiAqICgzLjAgLSAyLjAgKiBmKTtcbiAgICByZXR1cm4gbWl4KG1peChtaXgoaGFzaChpICsgdmVjMygwLjAsIDAuMCwgMC4wKSksIGhhc2goaSArIHZlYzMoMS4wLCAwLjAsIDAuMCkpLCB1LngpLFxuICAgICAgICAgICAgICAgICAgIG1peChoYXNoKGkgKyB2ZWMzKDAuMCwgMS4wLCAwLjApKSwgaGFzaChpICsgdmVjMygxLjAsIDEuMCwgMC4wKSksIHUueCksIHUueSksXG4gICAgICAgICAgICAgICBtaXgobWl4KGhhc2goaSArIHZlYzMoMC4wLCAwLjAsIDEuMCkpLCBoYXNoKGkgKyB2ZWMzKDEuMCwgMC4wLCAxLjApKSwgdS54KSxcbiAgICAgICAgICAgICAgICAgICBtaXgoaGFzaChpICsgdmVjMygwLjAsIDEuMCwgMS4wKSksIGhhc2goaSArIHZlYzMoMS4wLCAxLjAsIDEuMCkpLCB1LngpLCB1LnkpLCB1LnopO1xufVxuXG4vLyBGdW5jdGlvbiB0byBjb21wdXRlIHRoZSB2b3J0ZXggc2hhcGUgYXQgYSBnaXZlbiBjZW50ZXIgcG9zaXRpb25cbmZsb2F0IHZvcnRleFNoYXBlKHZlYzMgcCwgdmVjMyBjZW50ZXIsIGZsb2F0IHQsIGZsb2F0IHNwZWVkT2Zmc2V0KSB7XG4gICAgLy8gQWRqdXN0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSB2b3J0ZXggY2VudGVyXG4gICAgdmVjMyBxID0gcCAtIGNlbnRlcjtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSB2b3J0ZXggZWZmZWN0IGJ5IHJvdGF0aW5nIHRoZSBwb3NpdGlvbiBhcm91bmQgdGhlIHktYXhpc1xuICAgIGZsb2F0IHZvcnRleEFuZ2xlID0gbGVuZ3RoKHEueHopICogMC44IC0gdCAqIChUVVJCX1NQRUVEICsgc3BlZWRPZmZzZXQpO1xuICAgIHEueHogKj0gcm90YXRlMkQodm9ydGV4QW5nbGUpO1xuICAgIFxuICAgIC8vIFR1cmJ1bGVuY2UgbG9vcCBmb3Igd2F0ZXIgY3VycmVudHMgLSB1bnJvbGxlZCBmb3IgYmV0dGVyIGNvbXBhdGliaWxpdHlcbiAgICBmbG9hdCBkID0gMS4wO1xuICAgIGZsb2F0IGZyZXEgPSBUVVJCX0ZSRVE7XG4gICAgXG4gICAgLy8gSXRlcmF0aW9uIDFcbiAgICBxICs9IFRVUkJfQU1QICogc2luKHEueXp4ICogZnJlcSArIHQgKiAoVFVSQl9TUEVFRCArIHNwZWVkT2Zmc2V0KSkgLyBmcmVxO1xuICAgIHEgKj0gcm90YXRlM0QoZnJlcSAqIDAuMywgdmVjMygwLjUsIDEuMCwgMC4yKSk7XG4gICAgZnJlcSAqPSBUVVJCX0VYUDtcbiAgICBkICs9IGQ7XG4gICAgXG4gICAgLy8gSXRlcmF0aW9uIDJcbiAgICBxICs9IFRVUkJfQU1QICogc2luKHEueXp4ICogZnJlcSArIHQgKiAoVFVSQl9TUEVFRCArIHNwZWVkT2Zmc2V0KSkgLyBmcmVxO1xuICAgIHEgKj0gcm90YXRlM0QoZnJlcSAqIDAuMywgdmVjMygwLjUsIDEuMCwgMC4yKSk7XG4gICAgZnJlcSAqPSBUVVJCX0VYUDtcbiAgICBkICs9IGQ7XG4gICAgXG4gICAgLy8gSXRlcmF0aW9uIDNcbiAgICBxICs9IFRVUkJfQU1QICogc2luKHEueXp4ICogZnJlcSArIHQgKiAoVFVSQl9TUEVFRCArIHNwZWVkT2Zmc2V0KSkgLyBmcmVxO1xuICAgIHEgKj0gcm90YXRlM0QoZnJlcSAqIDAuMywgdmVjMygwLjUsIDEuMCwgMC4yKSk7XG4gICAgZnJlcSAqPSBUVVJCX0VYUDtcbiAgICBkICs9IGQ7XG4gICAgXG4gICAgLy8gRGVmaW5lIHRoZSB2b3J0ZXggc2hhcGU6IGEgY3lsaW5kcmljYWwgc2hhcGUgd2l0aCBkaXN0b3J0aW9uc1xuICAgIGZsb2F0IHIgPSBsZW5ndGgocS54eik7XG4gICAgZmxvYXQgcyA9IHIgLSAyLjAgKyAwLjcgKiBzaW4ocS55ICogMS41ICsgdCAqIDAuNCk7XG4gICAgcyArPSAwLjUgKiBjb3MocS55ICogMS4wICsgcS56ICogMC43ICsgdCAqIDAuMyk7XG4gICAgcyAqPSAwLjg7XG4gICAgcmV0dXJuIHM7XG59XG5cbi8vIEdMU0wtY29tcGF0aWJsZSB0YW5oIGFwcHJveGltYXRpb25cbnZlYzQgdGFuaEFwcHJveCh2ZWM0IHgpIHtcbiAgICB2ZWM0IHgyID0geCAqIHg7XG4gICAgcmV0dXJuIGNsYW1wKHggKiAoMjcuMCArIHgyKSAvICgyNy4wICsgOS4wICogeDIpLCAtMS4wLCAxLjApO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgLy8gQ29udmVydCBmcm9tIHZUZXhDb29yZCB0byBub3JtYWxpemVkIGNvb3JkaW5hdGVzXG4gICAgdmVjMiB1diA9IHZUZXhDb29yZCAqIDIuMCAtIDEuMDtcbiAgICB1di54ICo9IHVSZXNvbHV0aW9uLnggLyB1UmVzb2x1dGlvbi55OyAvLyBBc3BlY3QgcmF0aW8gY29ycmVjdGlvblxuICAgIFxuICAgIHZlYzQgbyA9IHZlYzQoMC4wKTsgLy8gT3V0cHV0IGNvbG9yXG4gICAgZmxvYXQgdCA9IHVUaW1lOyAvLyBUaW1lIGZvciBhbmltYXRpb25cbiAgICBcbiAgICAvLyBBZGQgYXVkaW8gcmVhY3Rpdml0eVxuICAgIGZsb2F0IGF1ZGlvQW1wbGl0dWRlID0gMC4zICsgMC43ICogdUxvd0VuZXJneTsgLy8gQmFzcyBhZmZlY3RzIGFtcGxpdHVkZVxuICAgIGZsb2F0IGF1ZGlvU3BlZWQgPSAxLjAgKyAyLjAgKiB1SGlnaEVuZXJneTsgICAgLy8gSGlnaCBmcmVxdWVuY2llcyBhZmZlY3Qgc3BlZWRcbiAgICBmbG9hdCBhdWRpb1R1cmJ1bGVuY2UgPSAwLjggKyAxLjAgKiB1RW5lcmd5OyAgIC8vIE92ZXJhbGwgZW5lcmd5IGFmZmVjdHMgdHVyYnVsZW5jZVxuICAgIGZsb2F0IGF1ZGlvVHJhbnNpZW50cyA9IHVUcmFuc2llbnRzICogMi4wOyAgICAgLy8gVHJhbnNpZW50cyBjcmVhdGUgcHVsc2VzXG4gICAgXG4gICAgLy8gQXBwbHkgYXVkaW8gcmVhY3Rpdml0eSB0byB0aW1lXG4gICAgdCA9IHQgKiBhdWRpb1NwZWVkICsgYXVkaW9UcmFuc2llbnRzO1xuICAgIFxuICAgIC8vIENyZWF0ZSBvc2NpbGxhdGluZyB6b29tIGVmZmVjdCB1c2luZyBzaW5lIHdhdmVcbiAgICAvLyBCYXNlIHpvb20gdmFsdWUgMC4zLCBvc2NpbGxhdGUgYmV0d2VlbiAwLjIgYW5kIDAuNFxuICAgIGZsb2F0IHpvb21GcmVxdWVuY3kgPSAwLjI7IC8vIEhvdyBmYXN0IHRoZSB6b29tIG9zY2lsbGF0ZXNcbiAgICBmbG9hdCB6b29tQW1wbGl0dWRlID0gMC4xNTsgLy8gSG93IG11Y2ggdGhlIHpvb20gY2hhbmdlc1xuICAgIGZsb2F0IHpvb21CYXNlID0gMC4zOyAvLyBCYXNlIHpvb20gdmFsdWVcbiAgICAvLyBBZGQgYXVkaW8gcmVhY3Rpdml0eSB0byB6b29tIG9zY2lsbGF0aW9uXG4gICAgem9vbUZyZXF1ZW5jeSArPSB1RW5lcmd5ICogMC4xOyAvLyBFbmVyZ3kgYWZmZWN0cyBvc2NpbGxhdGlvbiBzcGVlZFxuICAgIHpvb21BbXBsaXR1ZGUgKz0gdUxvd0VuZXJneSAqIDAuMTsgLy8gQmFzcyBhZmZlY3RzIG9zY2lsbGF0aW9uIHJhbmdlXG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIG9zY2lsbGF0aW5nIHpvb21cbiAgICBmbG9hdCB6b29tID0gem9vbUJhc2UgKyB6b29tQW1wbGl0dWRlICogc2luKHQgKiB6b29tRnJlcXVlbmN5KTtcbiAgICBcbiAgICAvLyBBcHBseSB6b29tIHRvIFVWIGNvb3JkaW5hdGVzIChzbWFsbGVyIHZhbHVlID0gbW9yZSB6b29tZWQgaW4pXG4gICAgdXYgKj0gem9vbTtcbiAgICBcbiAgICAvLyBSYXkgc2V0dXA6IG9yaWdpbiBhdCAoMCwwLDApLCBkaXJlY3Rpb24gYmFzZWQgb24gcGl4ZWwgcG9zaXRpb25cbiAgICB2ZWMzIHJheURpciA9IG5vcm1hbGl6ZSh2ZWMzKHV2LCAtMS4wKSk7IC8vIFJheSBkaXJlY3Rpb24gKG5lZ2F0aXZlIHotYXhpcylcbiAgICBcbiAgICAvLyBSb3RhdGUgdGhlIHJheSBzbGlnaHRseSBkb3dud2FyZCB0byBmcmFtZSB0aGUgdm9ydGV4XG4gICAgcmF5RGlyLnl6ICo9IHJvdGF0ZTJEKDAuMik7XG4gICAgXG4gICAgLy8gQWRkIHN1YnRsZSBjYW1lcmEgbW92ZW1lbnQgYmFzZWQgb24gZW5lcmd5XG4gICAgcmF5RGlyLnh5ICo9IHJvdGF0ZTJEKHNpbih0ICogMC4xKSAqIDAuMDUgKiB1RW5lcmd5KTtcbiAgICBcbiAgICAvLyBSYXltYXJjaGluZyBsb29wIHdpdGggZml4ZWQgaXRlcmF0aW9ucyBmb3IgY29tcGF0aWJpbGl0eVxuICAgIGZsb2F0IHogPSAwLjA7IC8vIERpc3RhbmNlIGFsb25nIHRoZSByYXlcbiAgICBmb3IgKGludCBpID0gMDsgaSA8IE1BWF9TVEVQUzsgaSsrKSB7XG4gICAgICAgIC8vIEN1cnJlbnQgcG9zaXRpb24gYWxvbmcgdGhlIHJheVxuICAgICAgICB2ZWMzIHAgPSB6ICogcmF5RGlyO1xuICAgICAgICBcbiAgICAgICAgLy8gQXBwbHkgdGltZS1iYXNlZCBhbmltYXRpb24gZm9yIHRoZSBzY2VuZSBtb3Rpb25cbiAgICAgICAgcC56ICs9IHQgKiAwLjM7XG4gICAgICAgIFxuICAgICAgICAvLyBEZWZpbmUgbXVsdGlwbGUgdm9ydGV4IGNlbnRlcnMgdGhhdCByZXNwb25kIHRvIGF1ZGlvXG4gICAgICAgIHZlYzMgY2VudGVyMSA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7IC8vIE1haW4gdm9ydGV4IGF0IHRoZSBvcmlnaW5cbiAgICAgICAgdmVjMyBjZW50ZXIyID0gdmVjMygzLjAgKyBzaW4odCAqIDAuMikgKiB1RW5lcmd5LCAwLjAsIDIuMCk7IC8vIFJpZ2h0IHZvcnRleFxuICAgICAgICB2ZWMzIGNlbnRlcjMgPSB2ZWMzKC0zLjAgLSBjb3ModCAqIDAuMykgKiB1RW5lcmd5LCAwLjAsIDEuMCk7IC8vIExlZnQgdm9ydGV4XG4gICAgICAgIHZlYzMgY2VudGVyNCA9IHZlYzMoMC4wLCAwLjAsIC00LjAgKyBzaW4odCAqIDAuMTUpICogdUxvd0VuZXJneSAqIDIuMCk7IC8vIEJhY2sgdm9ydGV4XG4gICAgICAgIFxuICAgICAgICAvLyBDb21wdXRlIHRoZSBkaXN0YW5jZSB0byBlYWNoIHZvcnRleCBhbmQgdGFrZSB0aGUgbWluaW11bVxuICAgICAgICBmbG9hdCBzMSA9IHZvcnRleFNoYXBlKHAsIGNlbnRlcjEsIHQsIDAuMCk7XG4gICAgICAgIGZsb2F0IHMyID0gdm9ydGV4U2hhcGUocCwgY2VudGVyMiwgdCwgMC4xKTtcbiAgICAgICAgZmxvYXQgczMgPSB2b3J0ZXhTaGFwZShwLCBjZW50ZXIzLCB0LCAtMC4wNSk7XG4gICAgICAgIGZsb2F0IHM0ID0gdm9ydGV4U2hhcGUocCwgY2VudGVyNCwgdCwgMC4xNSk7XG4gICAgICAgIGZsb2F0IHMgPSBtaW4obWluKHMxLCBzMiksIG1pbihzMywgczQpKTsgLy8gQ29tYmluZSBhbGwgdm9ydGV4ZXNcbiAgICAgICAgXG4gICAgICAgIC8vIFJheW1hcmNoaW5nIHN0ZXAgc2l6ZSAodm9sdW1ldHJpYyBkZW5zaXR5KVxuICAgICAgICBmbG9hdCBkID0gU1RFUF9TQ0FMRSAqICgwLjAwNSArIDAuNSAqIG1heChzLCAtcyAqIDAuMyAqIGF1ZGlvVHVyYnVsZW5jZSkpO1xuICAgICAgICB6ICs9IGQ7XG4gICAgICAgIFxuICAgICAgICAvLyBFYXJseSByYXkgdGVybWluYXRpb24gZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIGlmICh6ID4gMjAuMCkgYnJlYWs7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGF0ZSBsaWdodCBzY2F0dGVyaW5nIGZyb20gYWJvdmUgKHNoYWZ0cyBvZiBsaWdodClcbiAgICAgICAgZmxvYXQgbGlnaHQgPSAwLjcgKyAwLjUgKiBjb3MocC54ICogMC43ICsgcC56ICogMC41ICsgdCAqIDAuMik7XG4gICAgICAgIGxpZ2h0ICo9IGV4cCgteiAqIDAuMDMpO1xuICAgICAgICBsaWdodCAqPSAxLjAgLSBzbW9vdGhzdGVwKDAuMCwgMS4wLCBhYnMocC55KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgcGFydGljdWxhdGUgbWF0dGVyIChidWJibGVzIGFuZCBkZWJyaXMpIHVzaW5nIG5vaXNlXG4gICAgICAgIGZsb2F0IHBhcnRpY2xlcyA9IG5vaXNlKHAgKiAzLjAgKyB0ICogMC4yKSAqIDAuNTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZvbHVtZXRyaWMgY29sb3JpbmcgZm9yIHRoZSB1bmRlcndhdGVyIHZvcnRleFxuICAgICAgICB2ZWM0IHdhdGVyQ29sb3IgPSB2ZWM0KDAuMSwgMC4zLCAwLjUsIDEuMCk7IC8vIEJhc2UgY29sb3I6IGRlZXAgYmx1ZVxuICAgICAgICB3YXRlckNvbG9yLnJnYiArPSB2ZWMzKDAuMCwgMC4yLCAwLjEpICogc2luKHMgKiAzLjAgKyB0ICogMC4zKTtcbiAgICAgICAgd2F0ZXJDb2xvci5yZ2IgKz0gdmVjMygwLjUsIDAuNywgMC45KSAqIGxpZ2h0ICogKDEuMCArIHVFbmVyZ3kgKiAwLjUpO1xuICAgICAgICB3YXRlckNvbG9yLnJnYiArPSB2ZWMzKDAuNiwgMC43LCAwLjgpICogcGFydGljbGVzICogKDEuMCArIHVUcmFuc2llbnRzKTtcbiAgICAgICAgd2F0ZXJDb2xvciAqPSBleHAoLXMgKiAwLjUgKiBhdWRpb0FtcGxpdHVkZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBY2N1bXVsYXRlIGNvbG9yIGJhc2VkIG9uIGRlbnNpdHkgKHZvbHVtZXRyaWMgcmVuZGVyaW5nKVxuICAgICAgICBvICs9IHdhdGVyQ29sb3IgKiAwLjMgLyBkO1xuICAgIH1cbiAgICBcbiAgICAvLyBBcHBseSBjdXN0b20gdGFuaCBhcHByb3hpbWF0aW9uIGZvciBjb2xvciBjb21wcmVzc2lvblxuICAgIG8gPSB0YW5oQXBwcm94KG8gKiBvIC8gMWU3KTtcbiAgICBcbiAgICAvLyBBZGQgYSBzdWJ0bGUgYmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGRlZXAgb2NlYW4gd2l0aCBub2lzZVxuICAgIGZsb2F0IGJnTm9pc2UgPSBub2lzZSh2ZWMzKHV2ICogNS4wLCB0ICogMC4xKSkgKiAwLjE7XG4gICAgbyArPSB2ZWM0KDAuMDIsIDAuMDUsIDAuMSwgMC4wKSAqICgxLjAgLSBleHAoLXogKiAwLjAyKSk7XG4gICAgbyArPSB2ZWM0KDAuMDUsIDAuMSwgMC4xNSwgMC4wKSAqIGJnTm9pc2U7XG4gICAgXG4gICAgLy8gUHVsc2Ugb24gdHJhbnNpZW50c1xuICAgIGlmICh1VHJhbnNpZW50cyA+IDAuMykge1xuICAgICAgICBvLnJnYiArPSB2ZWMzKDAuMSwgMC4yLCAwLjMpICogdVRyYW5zaWVudHM7XG4gICAgfVxuICAgIFxuICAgIC8vIE91dHB1dCB0aGUgZmluYWwgY29sb3JcbiAgICBmcmFnQ29sb3IgPSBvO1xufWA7XG5cbmV4cG9ydCBkZWZhdWx0IG9jZWFuRGVwdGhzVm9ydGV4U2hhZGVyU291cmNlOyAiXSwibmFtZXMiOlsib2NlYW5EZXB0aHNWb3J0ZXhTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/OceanDepthsVortexShader.js\n");

/***/ }),

/***/ "./utils/shaders/RetroTunnelShader.js":
/*!********************************************!*\
  !*** ./utils/shaders/RetroTunnelShader.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * RetroTunnelShader.js\n * Exports a retro-style neon tunnel shader for direct use in JavaScript.\n * Enhanced with comprehensive audio reactivity including energy, low/high frequency response.\n */ const retroTunnelShaderSource = `#version 300 es\nprecision mediump float;\nin vec2 vTexCoord;\n\n// Common uniforms\nuniform float uTime;\nuniform vec2 uResolution;\nuniform float uCameraSpeed; // Controls movement speed through tunnel\n\n// Audio analysis uniforms\nuniform float uTransients;   // Beat detection\nuniform float uEnergy;       // Overall audio energy\nuniform float uLowEnergy;    // Low frequency energy\nuniform float uHighEnergy;   // High frequency energy\n\n// New uniforms for effect intensity and specific audio component effects\nuniform float uTransientIntensity;    // Overall intensity of transient effects (from existing transientEffect slider)\nuniform float uEnergyCameraEffect;    // How much energy (overall, low, high) affects camera\nuniform float uEnergyColorEffect;     // How much energy (overall, low, high) affects colors\nuniform float uTransientCameraEffect; // How much transients affect camera\nuniform float uTransientColorEffect;  // How much transients affect colors\n\n// Tunnel breathing effect uniforms\nuniform float uBreathingRate;         // Controls how fast the tunnel breathes\nuniform float uBreathingAmount;       // Controls how much the tunnel expands/contracts\n\n// Color uniforms\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\nout vec4 fragColor; // GLSL ES 3.0 output\n\n// Rotation matrix for 2D\nmat2 rot(float a) { float c = cos(a), s = sin(a); return mat2(c, s, -s, c); }\n\n// 3x3 matrix for noise deformation (simplified from original)\nconst mat3 m3 = mat3(0.4, 0.6, -0.7, -0.9, 0.3, -0.2, 0.2, 0.7, 0.6) * 1.8;\n\n// Utility functions\nfloat mag2(vec2 p) { return dot(p, p); }\nfloat linstep(float mn, float mx, float x) { return clamp((x - mn) / (mx - mn), 0., 1.); }\n\n// Smooth step function for transitions\nfloat smootherstep(float edge0, float edge1, float x) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return x * x * x * (x * (x * 6.0 - 15.0) + 10.0); // Smootherstep polynomial\n}\n\n// Pseudo-random number generator\nfloat hash21(vec2 p) {\n    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);\n}\n\n// RGB pseudo-random colors\nvec3 randomColor(float seed) {\n    return vec3(\n        hash21(vec2(seed, 23.14)),\n        hash21(vec2(seed, 52.87)),\n        hash21(vec2(seed, 117.36))\n    );\n}\n\n// Global variables\nfloat prm1 = 0.;\nvec2 bsMo = vec2(0);\n\n// Displacement for tunnel swirl - with audio reactivity\nvec2 disp(float t) { \n    // Camera speed influences tunnel expansion\n    float expansion = 1.5 * (1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.10);\n    \n    // Low frequency influences the tunnel width - bass makes it expand\n    expansion *= 1.0 + uLowEnergy * uEnergyCameraEffect * 0.2;\n    \n    // High frequency influences tunnel asymmetry - creates more dynamic shape\n    float asymmetry = uHighEnergy * uEnergyCameraEffect * 0.1;\n    \n    // Faster camera motion creates more dynamic swirls\n    float swirl = uCameraSpeed * 0.15;\n    return vec2(\n        sin(t * 0.25) * expansion + cos(t * 0.3) * asymmetry,\n        cos(t * 0.2) * expansion + sin(t * 0.4) * asymmetry\n    );\n}\n\n// Noise-based map function with enhanced audio reactivity\nvec2 map(vec3 p) {\n    vec3 p2 = p;\n    p2.xy -= disp(p.z).xy; // Displace for tunnel effect\n    \n    // Rotation speed influenced by camera speed and high frequency energy\n    float rotationSpeed = sin(p.z + uTime) * 0.15 + uTime * 0.1 * min(uCameraSpeed, 2.0);\n    rotationSpeed *= 1.0 + uHighEnergy * uEnergyCameraEffect * 0.2; // High frequencies make it rotate faster\n    p.xy *= rot(rotationSpeed);\n    \n    float cl = mag2(p2.xy);\n    float d = 0.;\n    \n    // No scale change for pattern - removed to reduce jerkiness\n    float z = 1.;\n    float trk = 1.;\n    \n    // Amplitude boost controlled by transients and energy\n    float dspAmp = 0.15 * (1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.10 + uEnergy * uEnergyCameraEffect * 0.05);\n    \n    // Fewer iterations for simpler, retro-style noise\n    for (int i = 0; i < 2; i++) {\n        // Make the noise pattern react to audio\n        float noiseScale = 0.8 * (1.0 + uEnergy * uEnergyCameraEffect * 0.05);\n        p += sin(p.zxy * noiseScale * trk + uTime * trk * 0.7) * dspAmp;\n        d -= abs(dot(cos(p), sin(p.yzx)) * z);\n        z *= 0.6;\n        trk *= 1.5;\n        p = p * m3;\n    }\n    \n    // Combined transient and low frequency effect for tunnel shape\n    float audioShrink = 1.0 - (uTransients * uTransientIntensity * uTransientCameraEffect * 0.10 + uLowEnergy * uEnergyCameraEffect * 0.05);\n    \n    // NEW: Add breathing effect to the tunnel hole size\n    // Create a slow oscillation for the tunnel hole size based on time\n    // Using uniform variables instead of hardcoded values\n    float breathingPhase = sin(uTime * uBreathingRate);\n    float breathingFactor = 1.0 + uBreathingAmount * (50.0 + 50.0 * breathingPhase);\n    \n    d = abs(d + prm1 * 2.) + prm1 * 0.2 - 2. + bsMo.y;\n    \n    // Apply both audio reactivity and breathing effect to the tunnel size\n    d *= audioShrink * breathingFactor;\n    \n    return vec2(d + cl * 0.15 + 0.3, cl);\n}\n\n// Render function with enhanced audio reactivity\nvec4 render(vec3 ro, vec3 rd, float time) {\n    vec4 rez = vec4(0);\n    const float ldst = 6.;\n    vec3 lpos = vec3(disp(time + ldst) * 0.4, time + ldst);\n    float t = 1.;\n    float fogT = 0.;\n    \n    // Tunnel speed variation with combined audio inputs\n    float tunnelSpeedFactor = 1.0 + uTransients * uTransientIntensity * uTransientCameraEffect * 0.10 + uEnergy * uEnergyCameraEffect * 0.05;\n    \n    // Motion blur effect increases with speed and high frequencies\n    float motionBlurFactor = 0.0; // clamp((uCameraSpeed - 1.0) * 0.2, 0.0, 0.5) * (1.0 + uHighEnergy * uEnergyCameraEffect * 0.1); // Set to 0 to remove motion blur\n    \n    for (int i = 0; i < 1000; i++) {\n        if (rez.a > 0.99) break;\n        \n        vec3 pos = ro + t * rd * tunnelSpeedFactor; // Speed-adjusted ray position\n        vec2 mpv = map(pos);\n        float den = clamp(mpv.x - 0.4, 0., 1.) * 1.2;\n        float dn = clamp((mpv.x + 1.5), 0., 2.5);\n\n        vec4 col = vec4(0);\n        if (mpv.x > 0.5) {\n            // Use our randomly generated colors based on position in tunnel\n            vec3 baseCol = uColor1; // Default color\n            if (mpv.y > 0.5) baseCol = uColor2; // Second color zone\n            if (mpv.y > 1.0) baseCol = uColor3; // Third color zone\n            \n            // Enhanced color reactivity using all audio parameters\n            if (uTransients * uTransientIntensity > 0.1) {\n                // Transients boost brightness\n                baseCol *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.3;\n            }\n            \n            if (uLowEnergy * uEnergyColorEffect > 0.6) {\n                // Strong bass shifts colors toward red/warm\n                baseCol.r *= 1.0 + (uLowEnergy * uEnergyColorEffect - 0.6) * 0.5;\n            }\n            \n            if (uHighEnergy * uEnergyColorEffect > 0.6) {\n                // High frequencies enhance blues/cyans\n                baseCol.b *= 1.0 + (uHighEnergy * uEnergyColorEffect - 0.6) * 0.5;\n            }\n            \n            // Color pulsing influenced by overall energy\n            float pulseFactor = 0.5 + 0.5 * sin(pos.z * 0.3 + uTime);\n            pulseFactor = mix(pulseFactor, 0.5 + 0.5 * sin(pos.z * 0.3 + uTime * 2.0), uEnergy * uEnergyColorEffect * 0.3);\n            col = vec4(baseCol * pulseFactor, 0.1);\n            \n            col *= den * den;\n            col.rgb *= linstep(3.5, -2., mpv.x) * 2.0;\n            float dif = clamp(den / 8., 0.001, 1.);\n            col.xyz *= den * (vec3(0.01, 0.05, 0.08) + 1.2 * vec3(0.05, 0.1, 0.05) * dif);\n            \n            // Combined audio reactivity for brightness\n            col.rgb *= 1.0 + uTransients * uTransientIntensity * uTransientColorEffect * 0.3 + uLowEnergy * uEnergyColorEffect * 0.1 + uHighEnergy * uEnergyColorEffect * 0.1;\n            \n            // Add subtle glow with speed and energy\n            col.rgb *= 1.0 + clamp(uCameraSpeed - 1.0, 0.0, 1.0) * 0.115 * (1.0 + uEnergy * uEnergyCameraEffect * 0.1);\n        }\n\n        // Fog influenced by audio\n        float baseFogStrength = 0.15 + motionBlurFactor;\n        float audioFogStrength = uHighEnergy * uEnergyCameraEffect * 0.05;\n        float fogStrength = (baseFogStrength + audioFogStrength) / 5.0; // Reduced fog strength\n        float fogC = exp(t * fogStrength - 2.);\n        \n        // Dynamic fog color\n        vec4 fogColor = vec4(uFogColor, 0.08);\n        // Brighter fog during audio events\n        vec4 activeFogColor = vec4(\n            mix(uFogColor, uFogColor * 1.5, uTransients * uTransientIntensity * uTransientColorEffect),\n            0.08 + uEnergy * uEnergyColorEffect * 0.02 // Stronger fog effect with higher energy\n        );\n        \n        // Apply audio reactivity to fog\n        fogColor = mix(\n            fogColor, \n            activeFogColor, \n            uTransients * uTransientIntensity * uTransientColorEffect * 0.6 + uLowEnergy * uEnergyColorEffect * 0.2 + uHighEnergy * uEnergyColorEffect * 0.2\n        );\n        \n        col.rgba += fogColor * clamp(fogC - fogT, 0., 1.); // Re-enabled fog application\n        fogT = fogC;\n        rez = rez + col * (1. - rez.a);\n        \n        // Step size influenced by camera speed and energy\n        float speedAdjustedStep = clamp(0.4 - dn * dn * 0.06, 0.1, 0.35) * \n                                 (1.0 + motionBlurFactor) * \n                                 (1.0 + uEnergy * uEnergyCameraEffect * 0.05); // Overall energy makes rays go further\n        t += speedAdjustedStep;\n    }\n    return clamp(rez, 0., 1.);\n}\n\n// Saturation for color lerp\nfloat getsat(vec3 c) {\n    float mi = min(min(c.x, c.y), c.z);\n    float ma = max(max(c.x, c.y), c.z);\n    return (ma - mi) / (ma + 1e-7);\n}\n\n// Simplified color lerp for retro look\nvec3 iLerp(vec3 a, vec3 b, float x) {\n    return mix(a, b, x);\n}\n\nvoid main() {\n    vec2 q = vTexCoord;\n    vec2 p = (vTexCoord * 2.0 - 1.0);\n    p.x *= uResolution.x / uResolution.y; // Aspect ratio correction\n    \n    // Camera movement influenced by audio\n    bsMo = vec2(0.0, 0.0);\n    // Low frequencies create subtle horizontal shifts\n    bsMo.x += sin(uTime * 0.3) * 0.1 * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.1);\n    // High frequencies create subtle vertical shifts\n    bsMo.y += cos(uTime * 0.4) * 0.05 * uHighEnergy * uEnergyCameraEffect;\n    \n    // Time flow affected by energy\n    float timeScale = 1.0 + uEnergy * uEnergyCameraEffect * 0.1;\n    float time = uTime * uCameraSpeed * timeScale; // Modified to use energy and camera speed\n    \n    // Position with audio-reactive movement\n    vec3 ro = vec3(0, 0, time);\n    \n    // Displacement amplitude influenced by low frequency\n    float dspAmp = 0.9 * (1.0 + uLowEnergy * uEnergyCameraEffect * 0.1);\n    ro.xy += disp(ro.z) * dspAmp;\n    \n    float tgtDst = 3.;\n    vec3 target = normalize(ro - vec3(disp(time + tgtDst) * dspAmp, time + tgtDst));\n    ro.x -= bsMo.x * 1.5;\n    ro.y -= bsMo.y * 1.5;\n    \n    // Standard camera direction calculation\n    vec3 rightdir = normalize(cross(target, vec3(0, 1, 0)));\n    vec3 updir = normalize(cross(rightdir, target));\n    rightdir = normalize(cross(updir, target));\n    vec3 rd = normalize((p.x * rightdir + p.y * updir) * 1.0 - target);\n    \n    // Rotation influenced by camera speed and high frequencies\n    float rotAmount = -disp(time + 3.).x * 0.15 + bsMo.x;\n    rotAmount *= mix(1.0, 1.5, clamp(uCameraSpeed - 1.0, 0.0, 1.0) * (1.0 + uHighEnergy * uEnergyCameraEffect * 0.2));\n    rd.xy *= rot(rotAmount);\n    \n    // Parameter modulation with audio variance\n    prm1 = smoothstep(-0.5, 0.5, sin(uTime * 0.4 * (1.0 + uEnergy * uEnergyCameraEffect * 0.1)));\n    vec4 scn = render(ro, rd, time);\n    \n    vec3 col = scn.rgb;\n    // Color mixing based on parameter and high frequency influence\n    float colorMix = clamp(1. - prm1, 0.1, 1.);\n    colorMix = mix(colorMix, 1.0 - colorMix, uHighEnergy * uEnergyColorEffect * 0.2); // High frequencies can invert the effect\n    col = iLerp(col.bgr, col.rgb, colorMix);\n    \n    // Retro post-processing with subtle audio enhancement\n    col = pow(col, vec3(0.6, 0.7, 0.65) * (1.0 - uLowEnergy * uEnergyColorEffect * 0.05)) * vec3(1., 0.95, 0.9);\n    \n    // Vignette strength affected by energy\n    float vignetteStrength = 0.6 + uEnergy * uEnergyColorEffect * 0.1;\n    // col *= pow(16.0 * q.x * q.y * (1.0 - q.x) * (1.0 - q.y), 0.2) * vignetteStrength + 0.4; // Vignette commented out\n    \n    // Scanlines affected by high frequencies\n    float scanlineIntensity = 0.1 * (1.0 + uHighEnergy * uEnergyColorEffect * 0.2);\n    float scanlineStrength = 0.9 + scanlineIntensity * sin(vTexCoord.y * 50.0 + uTime * 0.5);\n    // col *= scanlineStrength; // Scanlines commented out\n    \n    // Glow effects enhanced by audio\n    vec3 audioReactiveGlow = uGlowColor * (uTransients * uTransientIntensity * uTransientColorEffect * 0.8 + uLowEnergy * uEnergyColorEffect * 0.3 + uHighEnergy * uEnergyColorEffect * 0.5);\n    col += audioReactiveGlow * 2.0; // Increased glow\n    \n    // Final color output with subtle energy-based saturation boost\n    fragColor = vec4(col * (1.0 + uEnergy * uEnergyColorEffect * 0.05), 1.0);\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (retroTunnelShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL1JldHJvVHVubmVsU2hhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztDQUlDLEdBRUQsTUFBTUEsMEJBQTBCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdUakMsQ0FBQztBQUVELGlFQUFlQSx1QkFBdUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8uL3V0aWxzL3NoYWRlcnMvUmV0cm9UdW5uZWxTaGFkZXIuanM/OTM4OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJldHJvVHVubmVsU2hhZGVyLmpzXG4gKiBFeHBvcnRzIGEgcmV0cm8tc3R5bGUgbmVvbiB0dW5uZWwgc2hhZGVyIGZvciBkaXJlY3QgdXNlIGluIEphdmFTY3JpcHQuXG4gKiBFbmhhbmNlZCB3aXRoIGNvbXByZWhlbnNpdmUgYXVkaW8gcmVhY3Rpdml0eSBpbmNsdWRpbmcgZW5lcmd5LCBsb3cvaGlnaCBmcmVxdWVuY3kgcmVzcG9uc2UuXG4gKi9cblxuY29uc3QgcmV0cm9UdW5uZWxTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbmluIHZlYzIgdlRleENvb3JkO1xuXG4vLyBDb21tb24gdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVDYW1lcmFTcGVlZDsgLy8gQ29udHJvbHMgbW92ZW1lbnQgc3BlZWQgdGhyb3VnaCB0dW5uZWxcblxuLy8gQXVkaW8gYW5hbHlzaXMgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudHM7ICAgLy8gQmVhdCBkZXRlY3Rpb25cbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUxvd0VuZXJneTsgICAgLy8gTG93IGZyZXF1ZW5jeSBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG5cbi8vIE5ldyB1bmlmb3JtcyBmb3IgZWZmZWN0IGludGVuc2l0eSBhbmQgc3BlY2lmaWMgYXVkaW8gY29tcG9uZW50IGVmZmVjdHNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgICAgLy8gT3ZlcmFsbCBpbnRlbnNpdHkgb2YgdHJhbnNpZW50IGVmZmVjdHMgKGZyb20gZXhpc3RpbmcgdHJhbnNpZW50RWZmZWN0IHNsaWRlcilcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgICAgLy8gSG93IG11Y2ggZW5lcmd5IChvdmVyYWxsLCBsb3csIGhpZ2gpIGFmZmVjdHMgY2FtZXJhXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3lDb2xvckVmZmVjdDsgICAgIC8vIEhvdyBtdWNoIGVuZXJneSAob3ZlcmFsbCwgbG93LCBoaWdoKSBhZmZlY3RzIGNvbG9yc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q2FtZXJhRWZmZWN0OyAvLyBIb3cgbXVjaCB0cmFuc2llbnRzIGFmZmVjdCBjYW1lcmFcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENvbG9yRWZmZWN0OyAgLy8gSG93IG11Y2ggdHJhbnNpZW50cyBhZmZlY3QgY29sb3JzXG5cbi8vIFR1bm5lbCBicmVhdGhpbmcgZWZmZWN0IHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVCcmVhdGhpbmdSYXRlOyAgICAgICAgIC8vIENvbnRyb2xzIGhvdyBmYXN0IHRoZSB0dW5uZWwgYnJlYXRoZXNcbnVuaWZvcm0gZmxvYXQgdUJyZWF0aGluZ0Ftb3VudDsgICAgICAgLy8gQ29udHJvbHMgaG93IG11Y2ggdGhlIHR1bm5lbCBleHBhbmRzL2NvbnRyYWN0c1xuXG4vLyBDb2xvciB1bmlmb3Jtc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7XG51bmlmb3JtIHZlYzMgdUNvbG9yMjtcbnVuaWZvcm0gdmVjMyB1Q29sb3IzO1xudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjtcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yO1xuXG5vdXQgdmVjNCBmcmFnQ29sb3I7IC8vIEdMU0wgRVMgMy4wIG91dHB1dFxuXG4vLyBSb3RhdGlvbiBtYXRyaXggZm9yIDJEXG5tYXQyIHJvdChmbG9hdCBhKSB7IGZsb2F0IGMgPSBjb3MoYSksIHMgPSBzaW4oYSk7IHJldHVybiBtYXQyKGMsIHMsIC1zLCBjKTsgfVxuXG4vLyAzeDMgbWF0cml4IGZvciBub2lzZSBkZWZvcm1hdGlvbiAoc2ltcGxpZmllZCBmcm9tIG9yaWdpbmFsKVxuY29uc3QgbWF0MyBtMyA9IG1hdDMoMC40LCAwLjYsIC0wLjcsIC0wLjksIDAuMywgLTAuMiwgMC4yLCAwLjcsIDAuNikgKiAxLjg7XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb25zXG5mbG9hdCBtYWcyKHZlYzIgcCkgeyByZXR1cm4gZG90KHAsIHApOyB9XG5mbG9hdCBsaW5zdGVwKGZsb2F0IG1uLCBmbG9hdCBteCwgZmxvYXQgeCkgeyByZXR1cm4gY2xhbXAoKHggLSBtbikgLyAobXggLSBtbiksIDAuLCAxLik7IH1cblxuLy8gU21vb3RoIHN0ZXAgZnVuY3Rpb24gZm9yIHRyYW5zaXRpb25zXG5mbG9hdCBzbW9vdGhlcnN0ZXAoZmxvYXQgZWRnZTAsIGZsb2F0IGVkZ2UxLCBmbG9hdCB4KSB7XG4gICAgeCA9IGNsYW1wKCh4IC0gZWRnZTApIC8gKGVkZ2UxIC0gZWRnZTApLCAwLjAsIDEuMCk7XG4gICAgcmV0dXJuIHggKiB4ICogeCAqICh4ICogKHggKiA2LjAgLSAxNS4wKSArIDEwLjApOyAvLyBTbW9vdGhlcnN0ZXAgcG9seW5vbWlhbFxufVxuXG4vLyBQc2V1ZG8tcmFuZG9tIG51bWJlciBnZW5lcmF0b3JcbmZsb2F0IGhhc2gyMSh2ZWMyIHApIHtcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChwLCB2ZWMyKDEyNy4xLCAzMTEuNykpKSAqIDQzNzU4LjU0NTMxMjMpO1xufVxuXG4vLyBSR0IgcHNldWRvLXJhbmRvbSBjb2xvcnNcbnZlYzMgcmFuZG9tQ29sb3IoZmxvYXQgc2VlZCkge1xuICAgIHJldHVybiB2ZWMzKFxuICAgICAgICBoYXNoMjEodmVjMihzZWVkLCAyMy4xNCkpLFxuICAgICAgICBoYXNoMjEodmVjMihzZWVkLCA1Mi44NykpLFxuICAgICAgICBoYXNoMjEodmVjMihzZWVkLCAxMTcuMzYpKVxuICAgICk7XG59XG5cbi8vIEdsb2JhbCB2YXJpYWJsZXNcbmZsb2F0IHBybTEgPSAwLjtcbnZlYzIgYnNNbyA9IHZlYzIoMCk7XG5cbi8vIERpc3BsYWNlbWVudCBmb3IgdHVubmVsIHN3aXJsIC0gd2l0aCBhdWRpbyByZWFjdGl2aXR5XG52ZWMyIGRpc3AoZmxvYXQgdCkgeyBcbiAgICAvLyBDYW1lcmEgc3BlZWQgaW5mbHVlbmNlcyB0dW5uZWwgZXhwYW5zaW9uXG4gICAgZmxvYXQgZXhwYW5zaW9uID0gMS41ICogKDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjEwKTtcbiAgICBcbiAgICAvLyBMb3cgZnJlcXVlbmN5IGluZmx1ZW5jZXMgdGhlIHR1bm5lbCB3aWR0aCAtIGJhc3MgbWFrZXMgaXQgZXhwYW5kXG4gICAgZXhwYW5zaW9uICo9IDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4yO1xuICAgIFxuICAgIC8vIEhpZ2ggZnJlcXVlbmN5IGluZmx1ZW5jZXMgdHVubmVsIGFzeW1tZXRyeSAtIGNyZWF0ZXMgbW9yZSBkeW5hbWljIHNoYXBlXG4gICAgZmxvYXQgYXN5bW1ldHJ5ID0gdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4xO1xuICAgIFxuICAgIC8vIEZhc3RlciBjYW1lcmEgbW90aW9uIGNyZWF0ZXMgbW9yZSBkeW5hbWljIHN3aXJsc1xuICAgIGZsb2F0IHN3aXJsID0gdUNhbWVyYVNwZWVkICogMC4xNTtcbiAgICByZXR1cm4gdmVjMihcbiAgICAgICAgc2luKHQgKiAwLjI1KSAqIGV4cGFuc2lvbiArIGNvcyh0ICogMC4zKSAqIGFzeW1tZXRyeSxcbiAgICAgICAgY29zKHQgKiAwLjIpICogZXhwYW5zaW9uICsgc2luKHQgKiAwLjQpICogYXN5bW1ldHJ5XG4gICAgKTtcbn1cblxuLy8gTm9pc2UtYmFzZWQgbWFwIGZ1bmN0aW9uIHdpdGggZW5oYW5jZWQgYXVkaW8gcmVhY3Rpdml0eVxudmVjMiBtYXAodmVjMyBwKSB7XG4gICAgdmVjMyBwMiA9IHA7XG4gICAgcDIueHkgLT0gZGlzcChwLnopLnh5OyAvLyBEaXNwbGFjZSBmb3IgdHVubmVsIGVmZmVjdFxuICAgIFxuICAgIC8vIFJvdGF0aW9uIHNwZWVkIGluZmx1ZW5jZWQgYnkgY2FtZXJhIHNwZWVkIGFuZCBoaWdoIGZyZXF1ZW5jeSBlbmVyZ3lcbiAgICBmbG9hdCByb3RhdGlvblNwZWVkID0gc2luKHAueiArIHVUaW1lKSAqIDAuMTUgKyB1VGltZSAqIDAuMSAqIG1pbih1Q2FtZXJhU3BlZWQsIDIuMCk7XG4gICAgcm90YXRpb25TcGVlZCAqPSAxLjAgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjI7IC8vIEhpZ2ggZnJlcXVlbmNpZXMgbWFrZSBpdCByb3RhdGUgZmFzdGVyXG4gICAgcC54eSAqPSByb3Qocm90YXRpb25TcGVlZCk7XG4gICAgXG4gICAgZmxvYXQgY2wgPSBtYWcyKHAyLnh5KTtcbiAgICBmbG9hdCBkID0gMC47XG4gICAgXG4gICAgLy8gTm8gc2NhbGUgY2hhbmdlIGZvciBwYXR0ZXJuIC0gcmVtb3ZlZCB0byByZWR1Y2UgamVya2luZXNzXG4gICAgZmxvYXQgeiA9IDEuO1xuICAgIGZsb2F0IHRyayA9IDEuO1xuICAgIFxuICAgIC8vIEFtcGxpdHVkZSBib29zdCBjb250cm9sbGVkIGJ5IHRyYW5zaWVudHMgYW5kIGVuZXJneVxuICAgIGZsb2F0IGRzcEFtcCA9IDAuMTUgKiAoMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCAqIDAuMTAgKyB1RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMDUpO1xuICAgIFxuICAgIC8vIEZld2VyIGl0ZXJhdGlvbnMgZm9yIHNpbXBsZXIsIHJldHJvLXN0eWxlIG5vaXNlXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgICAgLy8gTWFrZSB0aGUgbm9pc2UgcGF0dGVybiByZWFjdCB0byBhdWRpb1xuICAgICAgICBmbG9hdCBub2lzZVNjYWxlID0gMC44ICogKDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wNSk7XG4gICAgICAgIHAgKz0gc2luKHAuenh5ICogbm9pc2VTY2FsZSAqIHRyayArIHVUaW1lICogdHJrICogMC43KSAqIGRzcEFtcDtcbiAgICAgICAgZCAtPSBhYnMoZG90KGNvcyhwKSwgc2luKHAueXp4KSkgKiB6KTtcbiAgICAgICAgeiAqPSAwLjY7XG4gICAgICAgIHRyayAqPSAxLjU7XG4gICAgICAgIHAgPSBwICogbTM7XG4gICAgfVxuICAgIFxuICAgIC8vIENvbWJpbmVkIHRyYW5zaWVudCBhbmQgbG93IGZyZXF1ZW5jeSBlZmZlY3QgZm9yIHR1bm5lbCBzaGFwZVxuICAgIGZsb2F0IGF1ZGlvU2hyaW5rID0gMS4wIC0gKHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjEwICsgdUxvd0VuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjA1KTtcbiAgICBcbiAgICAvLyBORVc6IEFkZCBicmVhdGhpbmcgZWZmZWN0IHRvIHRoZSB0dW5uZWwgaG9sZSBzaXplXG4gICAgLy8gQ3JlYXRlIGEgc2xvdyBvc2NpbGxhdGlvbiBmb3IgdGhlIHR1bm5lbCBob2xlIHNpemUgYmFzZWQgb24gdGltZVxuICAgIC8vIFVzaW5nIHVuaWZvcm0gdmFyaWFibGVzIGluc3RlYWQgb2YgaGFyZGNvZGVkIHZhbHVlc1xuICAgIGZsb2F0IGJyZWF0aGluZ1BoYXNlID0gc2luKHVUaW1lICogdUJyZWF0aGluZ1JhdGUpO1xuICAgIGZsb2F0IGJyZWF0aGluZ0ZhY3RvciA9IDEuMCArIHVCcmVhdGhpbmdBbW91bnQgKiAoNTAuMCArIDUwLjAgKiBicmVhdGhpbmdQaGFzZSk7XG4gICAgXG4gICAgZCA9IGFicyhkICsgcHJtMSAqIDIuKSArIHBybTEgKiAwLjIgLSAyLiArIGJzTW8ueTtcbiAgICBcbiAgICAvLyBBcHBseSBib3RoIGF1ZGlvIHJlYWN0aXZpdHkgYW5kIGJyZWF0aGluZyBlZmZlY3QgdG8gdGhlIHR1bm5lbCBzaXplXG4gICAgZCAqPSBhdWRpb1NocmluayAqIGJyZWF0aGluZ0ZhY3RvcjtcbiAgICBcbiAgICByZXR1cm4gdmVjMihkICsgY2wgKiAwLjE1ICsgMC4zLCBjbCk7XG59XG5cbi8vIFJlbmRlciBmdW5jdGlvbiB3aXRoIGVuaGFuY2VkIGF1ZGlvIHJlYWN0aXZpdHlcbnZlYzQgcmVuZGVyKHZlYzMgcm8sIHZlYzMgcmQsIGZsb2F0IHRpbWUpIHtcbiAgICB2ZWM0IHJleiA9IHZlYzQoMCk7XG4gICAgY29uc3QgZmxvYXQgbGRzdCA9IDYuO1xuICAgIHZlYzMgbHBvcyA9IHZlYzMoZGlzcCh0aW1lICsgbGRzdCkgKiAwLjQsIHRpbWUgKyBsZHN0KTtcbiAgICBmbG9hdCB0ID0gMS47XG4gICAgZmxvYXQgZm9nVCA9IDAuO1xuICAgIFxuICAgIC8vIFR1bm5lbCBzcGVlZCB2YXJpYXRpb24gd2l0aCBjb21iaW5lZCBhdWRpbyBpbnB1dHNcbiAgICBmbG9hdCB0dW5uZWxTcGVlZEZhY3RvciA9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDYW1lcmFFZmZlY3QgKiAwLjEwICsgdUVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjA1O1xuICAgIFxuICAgIC8vIE1vdGlvbiBibHVyIGVmZmVjdCBpbmNyZWFzZXMgd2l0aCBzcGVlZCBhbmQgaGlnaCBmcmVxdWVuY2llc1xuICAgIGZsb2F0IG1vdGlvbkJsdXJGYWN0b3IgPSAwLjA7IC8vIGNsYW1wKCh1Q2FtZXJhU3BlZWQgLSAxLjApICogMC4yLCAwLjAsIDAuNSkgKiAoMS4wICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4xKTsgLy8gU2V0IHRvIDAgdG8gcmVtb3ZlIG1vdGlvbiBibHVyXG4gICAgXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDAwOyBpKyspIHtcbiAgICAgICAgaWYgKHJlei5hID4gMC45OSkgYnJlYWs7XG4gICAgICAgIFxuICAgICAgICB2ZWMzIHBvcyA9IHJvICsgdCAqIHJkICogdHVubmVsU3BlZWRGYWN0b3I7IC8vIFNwZWVkLWFkanVzdGVkIHJheSBwb3NpdGlvblxuICAgICAgICB2ZWMyIG1wdiA9IG1hcChwb3MpO1xuICAgICAgICBmbG9hdCBkZW4gPSBjbGFtcChtcHYueCAtIDAuNCwgMC4sIDEuKSAqIDEuMjtcbiAgICAgICAgZmxvYXQgZG4gPSBjbGFtcCgobXB2LnggKyAxLjUpLCAwLiwgMi41KTtcblxuICAgICAgICB2ZWM0IGNvbCA9IHZlYzQoMCk7XG4gICAgICAgIGlmIChtcHYueCA+IDAuNSkge1xuICAgICAgICAgICAgLy8gVXNlIG91ciByYW5kb21seSBnZW5lcmF0ZWQgY29sb3JzIGJhc2VkIG9uIHBvc2l0aW9uIGluIHR1bm5lbFxuICAgICAgICAgICAgdmVjMyBiYXNlQ29sID0gdUNvbG9yMTsgLy8gRGVmYXVsdCBjb2xvclxuICAgICAgICAgICAgaWYgKG1wdi55ID4gMC41KSBiYXNlQ29sID0gdUNvbG9yMjsgLy8gU2Vjb25kIGNvbG9yIHpvbmVcbiAgICAgICAgICAgIGlmIChtcHYueSA+IDEuMCkgYmFzZUNvbCA9IHVDb2xvcjM7IC8vIFRoaXJkIGNvbG9yIHpvbmVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5oYW5jZWQgY29sb3IgcmVhY3Rpdml0eSB1c2luZyBhbGwgYXVkaW8gcGFyYW1ldGVyc1xuICAgICAgICAgICAgaWYgKHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSA+IDAuMSkge1xuICAgICAgICAgICAgICAgIC8vIFRyYW5zaWVudHMgYm9vc3QgYnJpZ2h0bmVzc1xuICAgICAgICAgICAgICAgIGJhc2VDb2wgKj0gMS4wICsgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC4zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodUxvd0VuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCA+IDAuNikge1xuICAgICAgICAgICAgICAgIC8vIFN0cm9uZyBiYXNzIHNoaWZ0cyBjb2xvcnMgdG93YXJkIHJlZC93YXJtXG4gICAgICAgICAgICAgICAgYmFzZUNvbC5yICo9IDEuMCArICh1TG93RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0IC0gMC42KSAqIDAuNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHVIaWdoRW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ID4gMC42KSB7XG4gICAgICAgICAgICAgICAgLy8gSGlnaCBmcmVxdWVuY2llcyBlbmhhbmNlIGJsdWVzL2N5YW5zXG4gICAgICAgICAgICAgICAgYmFzZUNvbC5iICo9IDEuMCArICh1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAtIDAuNikgKiAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENvbG9yIHB1bHNpbmcgaW5mbHVlbmNlZCBieSBvdmVyYWxsIGVuZXJneVxuICAgICAgICAgICAgZmxvYXQgcHVsc2VGYWN0b3IgPSAwLjUgKyAwLjUgKiBzaW4ocG9zLnogKiAwLjMgKyB1VGltZSk7XG4gICAgICAgICAgICBwdWxzZUZhY3RvciA9IG1peChwdWxzZUZhY3RvciwgMC41ICsgMC41ICogc2luKHBvcy56ICogMC4zICsgdVRpbWUgKiAyLjApLCB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4zKTtcbiAgICAgICAgICAgIGNvbCA9IHZlYzQoYmFzZUNvbCAqIHB1bHNlRmFjdG9yLCAwLjEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb2wgKj0gZGVuICogZGVuO1xuICAgICAgICAgICAgY29sLnJnYiAqPSBsaW5zdGVwKDMuNSwgLTIuLCBtcHYueCkgKiAyLjA7XG4gICAgICAgICAgICBmbG9hdCBkaWYgPSBjbGFtcChkZW4gLyA4LiwgMC4wMDEsIDEuKTtcbiAgICAgICAgICAgIGNvbC54eXogKj0gZGVuICogKHZlYzMoMC4wMSwgMC4wNSwgMC4wOCkgKyAxLjIgKiB2ZWMzKDAuMDUsIDAuMSwgMC4wNSkgKiBkaWYpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDb21iaW5lZCBhdWRpbyByZWFjdGl2aXR5IGZvciBicmlnaHRuZXNzXG4gICAgICAgICAgICBjb2wucmdiICo9IDEuMCArIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCAqIDAuMyArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjEgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHN1YnRsZSBnbG93IHdpdGggc3BlZWQgYW5kIGVuZXJneVxuICAgICAgICAgICAgY29sLnJnYiAqPSAxLjAgKyBjbGFtcCh1Q2FtZXJhU3BlZWQgLSAxLjAsIDAuMCwgMS4wKSAqIDAuMTE1ICogKDEuMCArIHVFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvZyBpbmZsdWVuY2VkIGJ5IGF1ZGlvXG4gICAgICAgIGZsb2F0IGJhc2VGb2dTdHJlbmd0aCA9IDAuMTUgKyBtb3Rpb25CbHVyRmFjdG9yO1xuICAgICAgICBmbG9hdCBhdWRpb0ZvZ1N0cmVuZ3RoID0gdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4wNTtcbiAgICAgICAgZmxvYXQgZm9nU3RyZW5ndGggPSAoYmFzZUZvZ1N0cmVuZ3RoICsgYXVkaW9Gb2dTdHJlbmd0aCkgLyA1LjA7IC8vIFJlZHVjZWQgZm9nIHN0cmVuZ3RoXG4gICAgICAgIGZsb2F0IGZvZ0MgPSBleHAodCAqIGZvZ1N0cmVuZ3RoIC0gMi4pO1xuICAgICAgICBcbiAgICAgICAgLy8gRHluYW1pYyBmb2cgY29sb3JcbiAgICAgICAgdmVjNCBmb2dDb2xvciA9IHZlYzQodUZvZ0NvbG9yLCAwLjA4KTtcbiAgICAgICAgLy8gQnJpZ2h0ZXIgZm9nIGR1cmluZyBhdWRpbyBldmVudHNcbiAgICAgICAgdmVjNCBhY3RpdmVGb2dDb2xvciA9IHZlYzQoXG4gICAgICAgICAgICBtaXgodUZvZ0NvbG9yLCB1Rm9nQ29sb3IgKiAxLjUsIHVUcmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eSAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCksXG4gICAgICAgICAgICAwLjA4ICsgdUVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMDIgLy8gU3Ryb25nZXIgZm9nIGVmZmVjdCB3aXRoIGhpZ2hlciBlbmVyZ3lcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IGF1ZGlvIHJlYWN0aXZpdHkgdG8gZm9nXG4gICAgICAgIGZvZ0NvbG9yID0gbWl4KFxuICAgICAgICAgICAgZm9nQ29sb3IsIFxuICAgICAgICAgICAgYWN0aXZlRm9nQ29sb3IsIFxuICAgICAgICAgICAgdVRyYW5zaWVudHMgKiB1VHJhbnNpZW50SW50ZW5zaXR5ICogdVRyYW5zaWVudENvbG9yRWZmZWN0ICogMC42ICsgdUxvd0VuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMiArIHVIaWdoRW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4yXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb2wucmdiYSArPSBmb2dDb2xvciAqIGNsYW1wKGZvZ0MgLSBmb2dULCAwLiwgMS4pOyAvLyBSZS1lbmFibGVkIGZvZyBhcHBsaWNhdGlvblxuICAgICAgICBmb2dUID0gZm9nQztcbiAgICAgICAgcmV6ID0gcmV6ICsgY29sICogKDEuIC0gcmV6LmEpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RlcCBzaXplIGluZmx1ZW5jZWQgYnkgY2FtZXJhIHNwZWVkIGFuZCBlbmVyZ3lcbiAgICAgICAgZmxvYXQgc3BlZWRBZGp1c3RlZFN0ZXAgPSBjbGFtcCgwLjQgLSBkbiAqIGRuICogMC4wNiwgMC4xLCAwLjM1KSAqIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDEuMCArIG1vdGlvbkJsdXJGYWN0b3IpICogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMS4wICsgdUVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKiAwLjA1KTsgLy8gT3ZlcmFsbCBlbmVyZ3kgbWFrZXMgcmF5cyBnbyBmdXJ0aGVyXG4gICAgICAgIHQgKz0gc3BlZWRBZGp1c3RlZFN0ZXA7XG4gICAgfVxuICAgIHJldHVybiBjbGFtcChyZXosIDAuLCAxLik7XG59XG5cbi8vIFNhdHVyYXRpb24gZm9yIGNvbG9yIGxlcnBcbmZsb2F0IGdldHNhdCh2ZWMzIGMpIHtcbiAgICBmbG9hdCBtaSA9IG1pbihtaW4oYy54LCBjLnkpLCBjLnopO1xuICAgIGZsb2F0IG1hID0gbWF4KG1heChjLngsIGMueSksIGMueik7XG4gICAgcmV0dXJuIChtYSAtIG1pKSAvIChtYSArIDFlLTcpO1xufVxuXG4vLyBTaW1wbGlmaWVkIGNvbG9yIGxlcnAgZm9yIHJldHJvIGxvb2tcbnZlYzMgaUxlcnAodmVjMyBhLCB2ZWMzIGIsIGZsb2F0IHgpIHtcbiAgICByZXR1cm4gbWl4KGEsIGIsIHgpO1xufVxuXG52b2lkIG1haW4oKSB7XG4gICAgdmVjMiBxID0gdlRleENvb3JkO1xuICAgIHZlYzIgcCA9ICh2VGV4Q29vcmQgKiAyLjAgLSAxLjApO1xuICAgIHAueCAqPSB1UmVzb2x1dGlvbi54IC8gdVJlc29sdXRpb24ueTsgLy8gQXNwZWN0IHJhdGlvIGNvcnJlY3Rpb25cbiAgICBcbiAgICAvLyBDYW1lcmEgbW92ZW1lbnQgaW5mbHVlbmNlZCBieSBhdWRpb1xuICAgIGJzTW8gPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICAvLyBMb3cgZnJlcXVlbmNpZXMgY3JlYXRlIHN1YnRsZSBob3Jpem9udGFsIHNoaWZ0c1xuICAgIGJzTW8ueCArPSBzaW4odVRpbWUgKiAwLjMpICogMC4xICogKDEuMCArIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0ICogMC4xKTtcbiAgICAvLyBIaWdoIGZyZXF1ZW5jaWVzIGNyZWF0ZSBzdWJ0bGUgdmVydGljYWwgc2hpZnRzXG4gICAgYnNNby55ICs9IGNvcyh1VGltZSAqIDAuNCkgKiAwLjA1ICogdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q2FtZXJhRWZmZWN0O1xuICAgIFxuICAgIC8vIFRpbWUgZmxvdyBhZmZlY3RlZCBieSBlbmVyZ3lcbiAgICBmbG9hdCB0aW1lU2NhbGUgPSAxLjAgKyB1RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMTtcbiAgICBmbG9hdCB0aW1lID0gdVRpbWUgKiB1Q2FtZXJhU3BlZWQgKiB0aW1lU2NhbGU7IC8vIE1vZGlmaWVkIHRvIHVzZSBlbmVyZ3kgYW5kIGNhbWVyYSBzcGVlZFxuICAgIFxuICAgIC8vIFBvc2l0aW9uIHdpdGggYXVkaW8tcmVhY3RpdmUgbW92ZW1lbnRcbiAgICB2ZWMzIHJvID0gdmVjMygwLCAwLCB0aW1lKTtcbiAgICBcbiAgICAvLyBEaXNwbGFjZW1lbnQgYW1wbGl0dWRlIGluZmx1ZW5jZWQgYnkgbG93IGZyZXF1ZW5jeVxuICAgIGZsb2F0IGRzcEFtcCA9IDAuOSAqICgxLjAgKyB1TG93RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMSk7XG4gICAgcm8ueHkgKz0gZGlzcChyby56KSAqIGRzcEFtcDtcbiAgICBcbiAgICBmbG9hdCB0Z3REc3QgPSAzLjtcbiAgICB2ZWMzIHRhcmdldCA9IG5vcm1hbGl6ZShybyAtIHZlYzMoZGlzcCh0aW1lICsgdGd0RHN0KSAqIGRzcEFtcCwgdGltZSArIHRndERzdCkpO1xuICAgIHJvLnggLT0gYnNNby54ICogMS41O1xuICAgIHJvLnkgLT0gYnNNby55ICogMS41O1xuICAgIFxuICAgIC8vIFN0YW5kYXJkIGNhbWVyYSBkaXJlY3Rpb24gY2FsY3VsYXRpb25cbiAgICB2ZWMzIHJpZ2h0ZGlyID0gbm9ybWFsaXplKGNyb3NzKHRhcmdldCwgdmVjMygwLCAxLCAwKSkpO1xuICAgIHZlYzMgdXBkaXIgPSBub3JtYWxpemUoY3Jvc3MocmlnaHRkaXIsIHRhcmdldCkpO1xuICAgIHJpZ2h0ZGlyID0gbm9ybWFsaXplKGNyb3NzKHVwZGlyLCB0YXJnZXQpKTtcbiAgICB2ZWMzIHJkID0gbm9ybWFsaXplKChwLnggKiByaWdodGRpciArIHAueSAqIHVwZGlyKSAqIDEuMCAtIHRhcmdldCk7XG4gICAgXG4gICAgLy8gUm90YXRpb24gaW5mbHVlbmNlZCBieSBjYW1lcmEgc3BlZWQgYW5kIGhpZ2ggZnJlcXVlbmNpZXNcbiAgICBmbG9hdCByb3RBbW91bnQgPSAtZGlzcCh0aW1lICsgMy4pLnggKiAwLjE1ICsgYnNNby54O1xuICAgIHJvdEFtb3VudCAqPSBtaXgoMS4wLCAxLjUsIGNsYW1wKHVDYW1lcmFTcGVlZCAtIDEuMCwgMC4wLCAxLjApICogKDEuMCArIHVIaWdoRW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMikpO1xuICAgIHJkLnh5ICo9IHJvdChyb3RBbW91bnQpO1xuICAgIFxuICAgIC8vIFBhcmFtZXRlciBtb2R1bGF0aW9uIHdpdGggYXVkaW8gdmFyaWFuY2VcbiAgICBwcm0xID0gc21vb3Roc3RlcCgtMC41LCAwLjUsIHNpbih1VGltZSAqIDAuNCAqICgxLjAgKyB1RW5lcmd5ICogdUVuZXJneUNhbWVyYUVmZmVjdCAqIDAuMSkpKTtcbiAgICB2ZWM0IHNjbiA9IHJlbmRlcihybywgcmQsIHRpbWUpO1xuICAgIFxuICAgIHZlYzMgY29sID0gc2NuLnJnYjtcbiAgICAvLyBDb2xvciBtaXhpbmcgYmFzZWQgb24gcGFyYW1ldGVyIGFuZCBoaWdoIGZyZXF1ZW5jeSBpbmZsdWVuY2VcbiAgICBmbG9hdCBjb2xvck1peCA9IGNsYW1wKDEuIC0gcHJtMSwgMC4xLCAxLik7XG4gICAgY29sb3JNaXggPSBtaXgoY29sb3JNaXgsIDEuMCAtIGNvbG9yTWl4LCB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMik7IC8vIEhpZ2ggZnJlcXVlbmNpZXMgY2FuIGludmVydCB0aGUgZWZmZWN0XG4gICAgY29sID0gaUxlcnAoY29sLmJnciwgY29sLnJnYiwgY29sb3JNaXgpO1xuICAgIFxuICAgIC8vIFJldHJvIHBvc3QtcHJvY2Vzc2luZyB3aXRoIHN1YnRsZSBhdWRpbyBlbmhhbmNlbWVudFxuICAgIGNvbCA9IHBvdyhjb2wsIHZlYzMoMC42LCAwLjcsIDAuNjUpICogKDEuMCAtIHVMb3dFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjA1KSkgKiB2ZWMzKDEuLCAwLjk1LCAwLjkpO1xuICAgIFxuICAgIC8vIFZpZ25ldHRlIHN0cmVuZ3RoIGFmZmVjdGVkIGJ5IGVuZXJneVxuICAgIGZsb2F0IHZpZ25ldHRlU3RyZW5ndGggPSAwLjYgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4xO1xuICAgIC8vIGNvbCAqPSBwb3coMTYuMCAqIHEueCAqIHEueSAqICgxLjAgLSBxLngpICogKDEuMCAtIHEueSksIDAuMikgKiB2aWduZXR0ZVN0cmVuZ3RoICsgMC40OyAvLyBWaWduZXR0ZSBjb21tZW50ZWQgb3V0XG4gICAgXG4gICAgLy8gU2NhbmxpbmVzIGFmZmVjdGVkIGJ5IGhpZ2ggZnJlcXVlbmNpZXNcbiAgICBmbG9hdCBzY2FubGluZUludGVuc2l0eSA9IDAuMSAqICgxLjAgKyB1SGlnaEVuZXJneSAqIHVFbmVyZ3lDb2xvckVmZmVjdCAqIDAuMik7XG4gICAgZmxvYXQgc2NhbmxpbmVTdHJlbmd0aCA9IDAuOSArIHNjYW5saW5lSW50ZW5zaXR5ICogc2luKHZUZXhDb29yZC55ICogNTAuMCArIHVUaW1lICogMC41KTtcbiAgICAvLyBjb2wgKj0gc2NhbmxpbmVTdHJlbmd0aDsgLy8gU2NhbmxpbmVzIGNvbW1lbnRlZCBvdXRcbiAgICBcbiAgICAvLyBHbG93IGVmZmVjdHMgZW5oYW5jZWQgYnkgYXVkaW9cbiAgICB2ZWMzIGF1ZGlvUmVhY3RpdmVHbG93ID0gdUdsb3dDb2xvciAqICh1VHJhbnNpZW50cyAqIHVUcmFuc2llbnRJbnRlbnNpdHkgKiB1VHJhbnNpZW50Q29sb3JFZmZlY3QgKiAwLjggKyB1TG93RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4zICsgdUhpZ2hFbmVyZ3kgKiB1RW5lcmd5Q29sb3JFZmZlY3QgKiAwLjUpO1xuICAgIGNvbCArPSBhdWRpb1JlYWN0aXZlR2xvdyAqIDIuMDsgLy8gSW5jcmVhc2VkIGdsb3dcbiAgICBcbiAgICAvLyBGaW5hbCBjb2xvciBvdXRwdXQgd2l0aCBzdWJ0bGUgZW5lcmd5LWJhc2VkIHNhdHVyYXRpb24gYm9vc3RcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KGNvbCAqICgxLjAgKyB1RW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICogMC4wNSksIDEuMCk7XG59XG5gO1xuXG5leHBvcnQgZGVmYXVsdCByZXRyb1R1bm5lbFNoYWRlclNvdXJjZTtcbiJdLCJuYW1lcyI6WyJyZXRyb1R1bm5lbFNoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/RetroTunnelShader.js\n");

/***/ }),

/***/ "./utils/shaders/ShaderManager.js":
/*!****************************************!*\
  !*** ./utils/shaders/ShaderManager.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getAvailableShaders: () => (/* binding */ getAvailableShaders),\n/* harmony export */   loadCustomAudioShader: () => (/* binding */ loadCustomAudioShader),\n/* harmony export */   loadLibraryShader: () => (/* binding */ loadLibraryShader),\n/* harmony export */   loadShaderFromURL: () => (/* binding */ loadShaderFromURL),\n/* harmony export */   processAudioDataForShader: () => (/* binding */ processAudioDataForShader),\n/* harmony export */   updateShaderParams: () => (/* binding */ updateShaderParams)\n/* harmony export */ });\n/* harmony import */ var _VortexShader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VortexShader.js */ \"./utils/shaders/VortexShader.js\");\n/* harmony import */ var _RetroTunnelShader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RetroTunnelShader.js */ \"./utils/shaders/RetroTunnelShader.js\");\n/* harmony import */ var _OceanDepthsVortexShader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OceanDepthsVortexShader.js */ \"./utils/shaders/OceanDepthsVortexShader.js\");\n/* harmony import */ var _NeonBarShader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NeonBarShader.js */ \"./utils/shaders/NeonBarShader.js\");\n/* harmony import */ var _SimplexShader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SimplexShader.js */ \"./utils/shaders/SimplexShader.js\");\n/* harmony import */ var _ConvertedAbstractSpiralShader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConvertedAbstractSpiralShader.js */ \"./utils/shaders/ConvertedAbstractSpiralShader.js\");\n/* harmony import */ var _GhostlySpiritsShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GhostlySpiritsShader.js */ \"./utils/shaders/GhostlySpiritsShader.js\");\n/* harmony import */ var _NebulousTunnelShader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./NebulousTunnelShader.js */ \"./utils/shaders/NebulousTunnelShader.js\");\n/* harmony import */ var _FireShader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FireShader.js */ \"./utils/shaders/FireShader.js\");\n/* harmony import */ var _MountainWaves_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MountainWaves.js */ \"./utils/shaders/MountainWaves.js\");\n/* harmony import */ var _NeonTower_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./NeonTower.js */ \"./utils/shaders/NeonTower.js\");\n/* harmony import */ var _NeonCubes_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./NeonCubes.js */ \"./utils/shaders/NeonCubes.js\");\n/* harmony import */ var _DreamyCubes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DreamyCubes.js */ \"./utils/shaders/DreamyCubes.js\");\n/* harmony import */ var _ColorfulSwirls_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ColorfulSwirls.js */ \"./utils/shaders/ColorfulSwirls.js\");\n/* harmony import */ var _GreenFractals_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./GreenFractals.js */ \"./utils/shaders/GreenFractals.js\");\n/* harmony import */ var _ColorfulCircles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ColorfulCircles.js */ \"./utils/shaders/ColorfulCircles.js\");\n/* harmony import */ var _EmergingCity_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./EmergingCity.js */ \"./utils/shaders/EmergingCity.js\");\n/* harmony import */ var _EmergingAbstractShapes_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./EmergingAbstractShapes.js */ \"./utils/shaders/EmergingAbstractShapes.js\");\n/* harmony import */ var _ColorfulWorld_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ColorfulWorld.js */ \"./utils/shaders/ColorfulWorld.js\");\n/* harmony import */ var _ColorfulSidewaysCity_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ColorfulSidewaysCity.js */ \"./utils/shaders/ColorfulSidewaysCity.js\");\n/* harmony import */ var _Waveform_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Waveform.js */ \"./utils/shaders/Waveform.js\");\n/**\n * Shader management utility\n * Handles loading, compilation and hot-swapping of shader programs\n */ // Import shaders\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Collection of predefined shaders\nconst shaderLibrary = {\n    // Retro neon tunnel shader\n    retroTunnel: {\n        name: \"Retro Neon Tunnel\",\n        fragSrc: _RetroTunnelShader_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    },\n    // Added new Ocean Depths Vortex shader\n    oceanDepthsVortex: {\n        name: \"Ocean Depths Vortex\",\n        fragSrc: _OceanDepthsVortexShader_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    },\n    // Added new Neon Bar shader\n    neonBar: {\n        name: \"Neon Bar\",\n        fragSrc: _NeonBarShader_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    // Added new Simplex shader\n    simplex: {\n        name: \"Simplex\",\n        fragSrc: _SimplexShader_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n    },\n    // Added Fire Tornado shader\n    fireTornado: {\n        name: \"Fire Tornado\",\n        fragSrc: _ConvertedAbstractSpiralShader_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n    },\n    // Added new Ghostly Spirits shader\n    ghostlySpirits: {\n        name: \"Ghostly Spirits\",\n        fragSrc: _GhostlySpiritsShader_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n    },\n    NebulousTunnel: {\n        name: \"Nebulous Tunnel\",\n        fragSrc: _NebulousTunnelShader_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n    },\n    MountainWaves: {\n        name: \"Mountain Waves\",\n        fragSrc: _MountainWaves_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    },\n    NeonTower: {\n        name: \"Neon Tower\",\n        fragSrc: _NeonTower_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n    },\n    NeonCubes: {\n        name: \"Neon Cubes\",\n        fragSrc: _NeonCubes_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n    },\n    DreamyCubes: {\n        name: \"Dreamy Cubes\",\n        fragSrc: _DreamyCubes_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n    },\n    ColorfulSwirls: {\n        name: \"Colorful Swirls\",\n        fragSrc: _ColorfulSwirls_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]\n    },\n    GreenFractals: {\n        name: \"Green Fractals\",\n        fragSrc: _GreenFractals_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]\n    },\n    ColorfulCircles: {\n        name: \"Colorful Circles\",\n        fragSrc: _ColorfulCircles_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]\n    },\n    EmergingCity: {\n        name: \"Emerging City\",\n        fragSrc: _EmergingCity_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n    },\n    EmergingAbstractShapes: {\n        name: \"Emerging Abstract Shapes\",\n        fragSrc: _EmergingAbstractShapes_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n    },\n    ColorfulWorld: {\n        name: \"Colorful World\",\n        fragSrc: _ColorfulWorld_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]\n    },\n    ColorfulSidewaysCity: {\n        name: \"Colorful Sideways City\",\n        fragSrc: _ColorfulSidewaysCity_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"]\n    },\n    Waveform: {\n        name: \"Waveform\",\n        fragSrc: _Waveform_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]\n    }\n};\n// Path to custom shader\nconst CUSTOM_SHADER_PATH = \"/utils/shaders/CustomAudioShader.glsl\";\n/**\n * Load a shader by name from the library\n * @param {string} name - Name of the shader to load\n * @returns {Object|null} - Shader object or null if not found\n */ function loadLibraryShader(name) {\n    console.log(`[SHADER MGR DEBUG] loadLibraryShader called for '${name}'`);\n    const shader = shaderLibrary[name];\n    if (!shader) {\n        console.warn(`[SHADER MGR ERROR] Shader '${name}' not found in library`);\n        return null;\n    }\n    // Log shader details for debugging\n    console.log(`[SHADER MGR DEBUG] Found shader: ${shader.name}, source length: ${shader.fragSrc ? shader.fragSrc.length : \"undefined\"}`);\n    // If the shader needs to be loaded from file\n    if (shader.dynamicLoad && shader.path) {\n        console.log(`[SHADER MGR DEBUG] Loading dynamic shader from path: ${shader.path}`);\n        return {\n            ...shader,\n            getFragSrc: async ()=>{\n                return await loadShaderFromURL(shader.path);\n            }\n        };\n    }\n    // Return a new object to avoid reference issues\n    console.log(\"[SHADER MGR DEBUG] Returning static shader object\");\n    return {\n        id: name,\n        name: shader.name,\n        fragSrc: shader.fragSrc\n    };\n}\n/**\n * Load a shader from URL\n * @param {string} url - URL to shader file\n * @returns {Promise<string>} - Promise resolving to shader source\n */ async function loadShaderFromURL(url) {\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error(`Failed to load shader from ${url}: ${response.statusText}`);\n        }\n        return await response.text();\n    } catch (error) {\n        console.error(\"Error loading shader:\", error);\n        throw error;\n    }\n}\n/**\n * Load the custom audio shader\n * @returns {Promise<string>} - Promise resolving to shader source\n */ async function loadCustomAudioShader() {\n    return loadShaderFromURL(CUSTOM_SHADER_PATH);\n}\n/**\n * Get all available library shaders\n * @returns {Array} - Array of shader names and descriptions\n */ function getAvailableShaders() {\n    return Object.entries(shaderLibrary).map(([id, shader])=>({\n            id,\n            name: shader.name || id\n        }));\n}\n/**\n * Process audio data for shader uniforms\n * @param {Object} audioData - Audio analysis data from AudioAnalyzer\n * @returns {Object} - Processed uniform data\n */ function processAudioDataForShader(audioData) {\n    const processStart = performance.now();\n    // Cache results to avoid excessive processing\n    if (!processAudioDataForShader.lastResult) {\n        processAudioDataForShader.lastResult = null;\n        processAudioDataForShader.lastTimeStamp = 0;\n        console.log(\"[AUDIO PROC DEBUG] Initializing audio processor cache\");\n    }\n    // Don't process too frequently\n    const now = Date.now();\n    if (processAudioDataForShader.lastResult && now - processAudioDataForShader.lastTimeStamp < 16) {\n        return processAudioDataForShader.lastResult;\n    }\n    // If no audio data is available, return default values\n    if (!audioData || !audioData.timeline) {\n        const defaultValues = {\n            energy: 0.5,\n            lowEnergy: 0.5,\n            highEnergy: 0.5,\n            transients: 0,\n            time: now / 1000\n        };\n        processAudioDataForShader.lastResult = defaultValues;\n        processAudioDataForShader.lastTimeStamp = now;\n        const processEnd = performance.now();\n        if (processEnd - processStart > 5) {\n            console.log(`[AUDIO PROC DEBUG] Default audio processing took ${(processEnd - processStart).toFixed(2)}ms`);\n        }\n        return defaultValues;\n    }\n    // Find the most recent events for different categories\n    const currentTime = audioData.currentTime || 0;\n    const timeline = audioData.timeline;\n    // Process recent events to get current audio state\n    let lowEnergy = 0.5;\n    let highEnergy = 0.5;\n    let transientIntensity = 0;\n    // Look for recent transients\n    const recentTransients = timeline.filter((event)=>event.type === \"transient\" && event.time <= currentTime && currentTime - event.time < 0.1 // Reverted to smaller window (e.g., 200ms) for performance\n    );\n    let mostIntenseTransientTime = currentTime; // Default if no transients\n    if (recentTransients.length > 0) {\n        // Use the most intense recent transient\n        const mostIntense = recentTransients.reduce((prev, current)=>current.intensity > prev.intensity ? current : prev, recentTransients[0]);\n        transientIntensity = mostIntense.intensity;\n        mostIntenseTransientTime = mostIntense.time; // Store the time of the actual most intense transient\n        // Set band-specific energy based on the dominant band\n        if (mostIntense.dominantBand === \"low\") {\n            lowEnergy = 0.5 + mostIntense.intensity * 0.5; // Scale to 0.5-1.0\n        } else if (mostIntense.dominantBand === \"high\") {\n            highEnergy = 0.5 + mostIntense.intensity * 0.5; // Scale to 0.5-1.0\n        }\n    }\n    // Find recent dynamic changes for overall energy\n    const recentDynamics = timeline.filter((event)=>event.type.startsWith(\"dynamic_\") && event.time <= currentTime && currentTime - event.time < 0.3 // Reverted to smaller window (e.g., 500ms)\n    );\n    let energy = 0.5; // Default energy\n    if (recentDynamics.length > 0) {\n        // Use the most intense dynamic change\n        const mostIntense = recentDynamics.reduce((prev, current)=>current.intensity > prev.intensity ? current : prev, recentDynamics[0]);\n        // Scale intensity to 0.5-1.0\n        energy = 0.5 + mostIntense.intensity * 0.5;\n    }\n    // Decay values over time for smoother transitions\n    const timeFromActiveTransient = currentTime - mostIntenseTransientTime;\n    // Decay over ~0.4 seconds (1.0 / 2.5 = 0.4s). Adjust 2.5 to change decay speed.\n    const transientDecay = recentTransients.length > 0 ? Math.max(0, 1.0 - timeFromActiveTransient * 2.5) : 0;\n    const result = {\n        energy,\n        lowEnergy,\n        highEnergy,\n        transients: transientIntensity * transientDecay,\n        time: currentTime\n    };\n    const processEnd = performance.now();\n    const processTime = processEnd - processStart;\n    // Only log slow processing times to avoid console spam\n    if (processTime > 5) {\n        console.log(`[AUDIO PROC DEBUG] Audio processing took ${processTime.toFixed(2)}ms`);\n    }\n    // Log every 60th frame (roughly once per second at 60fps)\n    if (processAudioDataForShader.frameCount === undefined) {\n        processAudioDataForShader.frameCount = 0;\n    }\n    processAudioDataForShader.frameCount++;\n    if (processAudioDataForShader.frameCount % 60 === 0) {\n        console.log(`[AUDIO PROC DEBUG] Energy values - E:${result.energy.toFixed(2)}, ` + `L:${result.lowEnergy.toFixed(2)}, H:${result.highEnergy.toFixed(2)}, ` + `T:${result.transients.toFixed(2)}`);\n    }\n    processAudioDataForShader.lastResult = result;\n    processAudioDataForShader.lastTimeStamp = now;\n    return result;\n}\n/**\n * Updates shader parameters in the smoothed state\n * This function allows external components to directly control shader parameters\n * without resetting the animation\n * \n * @param {Object} params - The parameters to update (color1, color2, etc)\n * @returns {Object} - The updated parameters\n */ function updateShaderParams(params) {\n    // Import needed here to avoid circular dependency\n    const { smoothedValues } = __webpack_require__(/*! ./ShaderUpdate */ \"./utils/shaders/ShaderUpdate.js\");\n    const now = Date.now();\n    // Update color parameters\n    if (params.color1) {\n        smoothedValues.color1.r.target = params.color1.r;\n        smoothedValues.color1.g.target = params.color1.g;\n        smoothedValues.color1.b.target = params.color1.b;\n    }\n    if (params.color2) {\n        smoothedValues.color2.r.target = params.color2.r;\n        smoothedValues.color2.g.target = params.color2.g;\n        smoothedValues.color2.b.target = params.color2.b;\n    }\n    if (params.color3) {\n        smoothedValues.color3.r.target = params.color3.r;\n        smoothedValues.color3.g.target = params.color3.g;\n        smoothedValues.color3.b.target = params.color3.b;\n    }\n    if (params.fogColor) {\n        smoothedValues.fogColor.r.target = params.fogColor.r;\n        smoothedValues.fogColor.g.target = params.fogColor.g;\n        smoothedValues.fogColor.b.target = params.fogColor.b;\n    }\n    if (params.glowColor) {\n        smoothedValues.glowColor.r.target = params.glowColor.r;\n        smoothedValues.glowColor.g.target = params.glowColor.g;\n        smoothedValues.glowColor.b.target = params.glowColor.b;\n    }\n    // Update scalar parameters\n    if (params.cameraSpeed !== undefined) {\n        smoothedValues.cameraSpeed.target = params.cameraSpeed;\n    }\n    // Update effect intensity parameters\n    if (params.transientEffect !== undefined) {\n        smoothedValues.transientEffect.target = params.transientEffect;\n    }\n    if (params.colorIntensity !== undefined) {\n        smoothedValues.colorIntensity.target = params.colorIntensity;\n    }\n    // Update audio effect intensity parameters\n    if (params.energyCameraEffect !== undefined) {\n        smoothedValues.energyCameraEffect.target = params.energyCameraEffect;\n    }\n    if (params.energyColorEffect !== undefined) {\n        smoothedValues.energyColorEffect.target = params.energyColorEffect;\n    }\n    if (params.transientCameraEffect !== undefined) {\n        smoothedValues.transientCameraEffect.target = params.transientCameraEffect;\n    }\n    if (params.transientColorEffect !== undefined) {\n        smoothedValues.transientColorEffect.target = params.transientColorEffect;\n    }\n    // Update advanced camera movement parameters\n    if (params.baseCameraSpeed !== undefined) {\n        smoothedValues.baseCameraSpeed.target = params.baseCameraSpeed;\n    }\n    if (params.maxCameraSpeedBoostFactor !== undefined) {\n        smoothedValues.maxCameraSpeedBoostFactor.target = params.maxCameraSpeedBoostFactor;\n    }\n    if (params.transientThresholdForSpeedBoost !== undefined) {\n        smoothedValues.transientThresholdForSpeedBoost.target = params.transientThresholdForSpeedBoost;\n    }\n    if (params.energyBoostFactor !== undefined) {\n        smoothedValues.energyBoostFactor.target = params.energyBoostFactor;\n    }\n    // Update timing and smoothing parameters\n    if (params.cameraSpeedSmoothingDuration !== undefined) {\n        smoothedValues.cameraSpeedSmoothingDuration.target = params.cameraSpeedSmoothingDuration;\n    }\n    if (params.colorSmoothingDuration !== undefined) {\n        smoothedValues.colorSmoothingDuration.target = params.colorSmoothingDuration;\n    }\n    if (params.smoothingDuration !== undefined) {\n        smoothedValues.smoothingDuration.target = params.smoothingDuration;\n    }\n    // Update breathing parameters\n    if (params.breathingRate !== undefined) {\n        smoothedValues.breathingRate.target = params.breathingRate;\n        console.log(`[SHADER MANAGER] Updated breathingRate to ${params.breathingRate}`);\n    }\n    if (params.breathingAmount !== undefined) {\n        smoothedValues.breathingAmount.target = params.breathingAmount;\n        console.log(`[SHADER MANAGER] Updated breathingAmount to ${params.breathingAmount}`);\n    }\n    // Update color mode toggle\n    if (params.useColorControls !== undefined) {\n        smoothedValues.useColorControls.target = params.useColorControls;\n    }\n    console.log(\"[SHADER MANAGER] Updated shader parameters:\", params);\n    // Return updated parameters for reference\n    return params;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    loadLibraryShader,\n    loadShaderFromURL,\n    loadCustomAudioShader,\n    getAvailableShaders,\n    processAudioDataForShader,\n    shaderLibrary,\n    updateShaderParams\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUkxQixPQUFPMkIsZUFBZSxLQUFLN0IsV0FBVztRQUN0Q0csZUFBZTBCLGVBQWUsQ0FBQ3RCLE1BQU0sR0FBR0wsT0FBTzJCLGVBQWU7UUFDOUQzRixRQUFRQyxHQUFHLENBQUMsQ0FBQyw0Q0FBNEMsRUFBRStELE9BQU8yQixlQUFlLENBQUMsQ0FBQztJQUN2RjtJQUVBLDJCQUEyQjtJQUMzQixJQUFJM0IsT0FBTzRCLGdCQUFnQixLQUFLOUIsV0FBVztRQUN2Q0csZUFBZTJCLGdCQUFnQixDQUFDdkIsTUFBTSxHQUFHTCxPQUFPNEIsZ0JBQWdCO0lBQ3BFO0lBRUE1RixRQUFRQyxHQUFHLENBQUMsK0NBQStDK0Q7SUFFM0QsMENBQTBDO0lBQzFDLE9BQU9BO0FBQ1g7QUFFQSxpRUFBZTtJQUNYakU7SUFDQVM7SUFDQVU7SUFDQUM7SUFDQUk7SUFDQS9DO0lBQ0F1RjtBQUNKLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9TaGFkZXJNYW5hZ2VyLmpzP2Q4NzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaGFkZXIgbWFuYWdlbWVudCB1dGlsaXR5XG4gKiBIYW5kbGVzIGxvYWRpbmcsIGNvbXBpbGF0aW9uIGFuZCBob3Qtc3dhcHBpbmcgb2Ygc2hhZGVyIHByb2dyYW1zXG4gKi9cblxuLy8gSW1wb3J0IHNoYWRlcnNcbmltcG9ydCB2b3J0ZXhTaGFkZXJTb3VyY2UgZnJvbSAnLi9Wb3J0ZXhTaGFkZXIuanMnO1xuaW1wb3J0IHJldHJvVHVubmVsU2hhZGVyU291cmNlIGZyb20gJy4vUmV0cm9UdW5uZWxTaGFkZXIuanMnO1xuaW1wb3J0IG9jZWFuRGVwdGhzVm9ydGV4U2hhZGVyU291cmNlIGZyb20gJy4vT2NlYW5EZXB0aHNWb3J0ZXhTaGFkZXIuanMnO1xuaW1wb3J0IG5lb25CYXJTaGFkZXJTb3VyY2UgZnJvbSAnLi9OZW9uQmFyU2hhZGVyLmpzJztcbmltcG9ydCBzaW1wbGV4U2hhZGVyU291cmNlIGZyb20gJy4vU2ltcGxleFNoYWRlci5qcyc7XG5pbXBvcnQgY29udmVydGVkQWJzdHJhY3RTcGlyYWxTaGFkZXJTb3VyY2UgZnJvbSAnLi9Db252ZXJ0ZWRBYnN0cmFjdFNwaXJhbFNoYWRlci5qcyc7XG5pbXBvcnQgZ2hvc3RseVNwaXJpdHNTaGFkZXJTb3VyY2UgZnJvbSAnLi9HaG9zdGx5U3Bpcml0c1NoYWRlci5qcyc7XG5pbXBvcnQgbmVidWxvdXNUdW5uZWxTaGFkZXJTb3VyY2UgZnJvbSAnLi9OZWJ1bG91c1R1bm5lbFNoYWRlci5qcyc7XG5pbXBvcnQgZmlyZVNoYWRlclNvdXJjZSBmcm9tICcuL0ZpcmVTaGFkZXIuanMnO1xuaW1wb3J0IG1vdW50YWluV2F2ZXNTaGFkZXJTb3VyY2UgZnJvbSAnLi9Nb3VudGFpbldhdmVzLmpzJztcbmltcG9ydCBuZW9uVG93ZXJTaGFkZXJTb3VyY2UgZnJvbSAnLi9OZW9uVG93ZXIuanMnO1xuaW1wb3J0IG5lb25DdWJlc1NoYWRlclNvdXJjZSBmcm9tICcuL05lb25DdWJlcy5qcyc7XG5pbXBvcnQgZHJlYW15Q3ViZXNTaGFkZXJTb3VyY2UgZnJvbSAnLi9EcmVhbXlDdWJlcy5qcyc7XG5pbXBvcnQgY29sb3JmdWxTd2lybHNTaGFkZXJTb3VyY2UgZnJvbSAnLi9Db2xvcmZ1bFN3aXJscy5qcyc7XG5pbXBvcnQgZ3JlZW5GcmFjdGFsc1NoYWRlclNvdXJjZSBmcm9tICcuL0dyZWVuRnJhY3RhbHMuanMnO1xuaW1wb3J0IGNvbG9yZnVsQ2lyY2xlc1NoYWRlclNvdXJjZSBmcm9tICcuL0NvbG9yZnVsQ2lyY2xlcy5qcyc7XG5pbXBvcnQgZW1lcmdpbmdDaXR5U2hhZGVyU291cmNlIGZyb20gJy4vRW1lcmdpbmdDaXR5LmpzJztcbmltcG9ydCBlbWVyZ2luZ0Fic3RyYWN0U2hhcGVzU2hhZGVyU291cmNlIGZyb20gJy4vRW1lcmdpbmdBYnN0cmFjdFNoYXBlcy5qcyc7XG5pbXBvcnQgY29sb3JmdWxXb3JsZFNoYWRlclNvdXJjZSBmcm9tICcuL0NvbG9yZnVsV29ybGQuanMnO1xuaW1wb3J0IGNvbG9yZnVsU2lkZXdheXNDaXR5U2hhZGVyU291cmNlIGZyb20gJy4vQ29sb3JmdWxTaWRld2F5c0NpdHkuanMnO1xuaW1wb3J0IHdhdmVmb3JtU2hhZGVyU3JjIGZyb20gJy4vV2F2ZWZvcm0uanMnXG5cbi8vIENvbGxlY3Rpb24gb2YgcHJlZGVmaW5lZCBzaGFkZXJzXG5jb25zdCBzaGFkZXJMaWJyYXJ5ID0ge1xuXG4gICAgLy8gUmV0cm8gbmVvbiB0dW5uZWwgc2hhZGVyXG4gICAgcmV0cm9UdW5uZWw6IHtcbiAgICAgICAgbmFtZTogJ1JldHJvIE5lb24gVHVubmVsJyxcbiAgICAgICAgZnJhZ1NyYzogcmV0cm9UdW5uZWxTaGFkZXJTb3VyY2VcbiAgICB9LFxuXG4gICAgLy8gQWRkZWQgbmV3IE9jZWFuIERlcHRocyBWb3J0ZXggc2hhZGVyXG4gICAgb2NlYW5EZXB0aHNWb3J0ZXg6IHtcbiAgICAgICAgbmFtZTogJ09jZWFuIERlcHRocyBWb3J0ZXgnLFxuICAgICAgICBmcmFnU3JjOiBvY2VhbkRlcHRoc1ZvcnRleFNoYWRlclNvdXJjZVxuICAgIH0sXG5cbiAgICAvLyBBZGRlZCBuZXcgTmVvbiBCYXIgc2hhZGVyXG4gICAgbmVvbkJhcjoge1xuICAgICAgICBuYW1lOiAnTmVvbiBCYXInLFxuICAgICAgICBmcmFnU3JjOiBuZW9uQmFyU2hhZGVyU291cmNlXG4gICAgfSxcblxuICAgIC8vIEFkZGVkIG5ldyBTaW1wbGV4IHNoYWRlclxuICAgIHNpbXBsZXg6IHtcbiAgICAgICAgbmFtZTogJ1NpbXBsZXgnLFxuICAgICAgICBmcmFnU3JjOiBzaW1wbGV4U2hhZGVyU291cmNlXG4gICAgfSxcblxuICAgIC8vIEFkZGVkIEZpcmUgVG9ybmFkbyBzaGFkZXJcbiAgICBmaXJlVG9ybmFkbzoge1xuICAgICAgICBuYW1lOiAnRmlyZSBUb3JuYWRvJyxcbiAgICAgICAgZnJhZ1NyYzogY29udmVydGVkQWJzdHJhY3RTcGlyYWxTaGFkZXJTb3VyY2VcbiAgICB9LFxuXG4gICAgLy8gQWRkZWQgbmV3IEdob3N0bHkgU3Bpcml0cyBzaGFkZXJcbiAgICBnaG9zdGx5U3Bpcml0czoge1xuICAgICAgICBuYW1lOiAnR2hvc3RseSBTcGlyaXRzJyxcbiAgICAgICAgZnJhZ1NyYzogZ2hvc3RseVNwaXJpdHNTaGFkZXJTb3VyY2VcbiAgICB9LFxuICAgIE5lYnVsb3VzVHVubmVsOiB7XG4gICAgICAgIG5hbWU6ICdOZWJ1bG91cyBUdW5uZWwnLFxuICAgICAgICBmcmFnU3JjOiBuZWJ1bG91c1R1bm5lbFNoYWRlclNvdXJjZVxuICAgIH0sXG4gICAgTW91bnRhaW5XYXZlczoge1xuICAgICAgICBuYW1lOiAnTW91bnRhaW4gV2F2ZXMnLFxuICAgICAgICBmcmFnU3JjOiBtb3VudGFpbldhdmVzU2hhZGVyU291cmNlXG4gICAgfSxcbiAgICBOZW9uVG93ZXI6IHtcbiAgICAgICAgbmFtZTogJ05lb24gVG93ZXInLFxuICAgICAgICBmcmFnU3JjOiBuZW9uVG93ZXJTaGFkZXJTb3VyY2VcbiAgICB9LFxuICAgIE5lb25DdWJlczoge1xuICAgICAgICBuYW1lOiAnTmVvbiBDdWJlcycsXG4gICAgICAgIGZyYWdTcmM6IG5lb25DdWJlc1NoYWRlclNvdXJjZVxuICAgIH0sXG4gICAgRHJlYW15Q3ViZXM6IHtcbiAgICAgICAgbmFtZTogJ0RyZWFteSBDdWJlcycsXG4gICAgICAgIGZyYWdTcmM6IGRyZWFteUN1YmVzU2hhZGVyU291cmNlXG4gICAgfSxcbiAgICBDb2xvcmZ1bFN3aXJsczoge1xuICAgICAgICBuYW1lOiAnQ29sb3JmdWwgU3dpcmxzJyxcbiAgICAgICAgZnJhZ1NyYzogY29sb3JmdWxTd2lybHNTaGFkZXJTb3VyY2VcbiAgICB9LFxuICAgIEdyZWVuRnJhY3RhbHM6IHtcbiAgICAgICAgbmFtZTogJ0dyZWVuIEZyYWN0YWxzJyxcbiAgICAgICAgZnJhZ1NyYzogZ3JlZW5GcmFjdGFsc1NoYWRlclNvdXJjZVxuICAgIH0sXG4gICAgQ29sb3JmdWxDaXJjbGVzOiB7XG4gICAgICAgIG5hbWU6ICdDb2xvcmZ1bCBDaXJjbGVzJyxcbiAgICAgICAgZnJhZ1NyYzogY29sb3JmdWxDaXJjbGVzU2hhZGVyU291cmNlXG4gICAgfSxcbiAgICBFbWVyZ2luZ0NpdHk6IHtcbiAgICAgICAgbmFtZTogJ0VtZXJnaW5nIENpdHknLFxuICAgICAgICBmcmFnU3JjOiBlbWVyZ2luZ0NpdHlTaGFkZXJTb3VyY2VcbiAgICB9LFxuICAgIEVtZXJnaW5nQWJzdHJhY3RTaGFwZXM6IHtcbiAgICAgICAgbmFtZTogJ0VtZXJnaW5nIEFic3RyYWN0IFNoYXBlcycsXG4gICAgICAgIGZyYWdTcmM6IGVtZXJnaW5nQWJzdHJhY3RTaGFwZXNTaGFkZXJTb3VyY2VcbiAgICB9LFxuICAgIENvbG9yZnVsV29ybGQ6IHtcbiAgICAgICAgbmFtZTogJ0NvbG9yZnVsIFdvcmxkJyxcbiAgICAgICAgZnJhZ1NyYzogY29sb3JmdWxXb3JsZFNoYWRlclNvdXJjZVxuICAgIH0sXG4gICAgQ29sb3JmdWxTaWRld2F5c0NpdHk6IHtcbiAgICAgICAgbmFtZTogJ0NvbG9yZnVsIFNpZGV3YXlzIENpdHknLFxuICAgICAgICBmcmFnU3JjOiBjb2xvcmZ1bFNpZGV3YXlzQ2l0eVNoYWRlclNvdXJjZVxuICAgIH0sXG4gICAgV2F2ZWZvcm06IHtcbiAgICAgICAgbmFtZTogJ1dhdmVmb3JtJyxcbiAgICAgICAgZnJhZ1NyYzogd2F2ZWZvcm1TaGFkZXJTcmNcbiAgICB9XG59O1xuXG4vLyBQYXRoIHRvIGN1c3RvbSBzaGFkZXJcbmNvbnN0IENVU1RPTV9TSEFERVJfUEFUSCA9ICcvdXRpbHMvc2hhZGVycy9DdXN0b21BdWRpb1NoYWRlci5nbHNsJztcblxuLyoqXG4gKiBMb2FkIGEgc2hhZGVyIGJ5IG5hbWUgZnJvbSB0aGUgbGlicmFyeVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBzaGFkZXIgdG8gbG9hZFxuICogQHJldHVybnMge09iamVjdHxudWxsfSAtIFNoYWRlciBvYmplY3Qgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRMaWJyYXJ5U2hhZGVyKG5hbWUpIHtcbiAgICBjb25zb2xlLmxvZyhgW1NIQURFUiBNR1IgREVCVUddIGxvYWRMaWJyYXJ5U2hhZGVyIGNhbGxlZCBmb3IgJyR7bmFtZX0nYCk7XG4gICAgY29uc3Qgc2hhZGVyID0gc2hhZGVyTGlicmFyeVtuYW1lXTtcblxuICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW1NIQURFUiBNR1IgRVJST1JdIFNoYWRlciAnJHtuYW1lfScgbm90IGZvdW5kIGluIGxpYnJhcnlgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gTG9nIHNoYWRlciBkZXRhaWxzIGZvciBkZWJ1Z2dpbmdcbiAgICBjb25zb2xlLmxvZyhgW1NIQURFUiBNR1IgREVCVUddIEZvdW5kIHNoYWRlcjogJHtzaGFkZXIubmFtZX0sIHNvdXJjZSBsZW5ndGg6ICR7c2hhZGVyLmZyYWdTcmMgPyBzaGFkZXIuZnJhZ1NyYy5sZW5ndGggOiAndW5kZWZpbmVkJ31gKTtcblxuICAgIC8vIElmIHRoZSBzaGFkZXIgbmVlZHMgdG8gYmUgbG9hZGVkIGZyb20gZmlsZVxuICAgIGlmIChzaGFkZXIuZHluYW1pY0xvYWQgJiYgc2hhZGVyLnBhdGgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtTSEFERVIgTUdSIERFQlVHXSBMb2FkaW5nIGR5bmFtaWMgc2hhZGVyIGZyb20gcGF0aDogJHtzaGFkZXIucGF0aH1gKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnNoYWRlcixcbiAgICAgICAgICAgIGdldEZyYWdTcmM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbG9hZFNoYWRlckZyb21VUkwoc2hhZGVyLnBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG5ldyBvYmplY3QgdG8gYXZvaWQgcmVmZXJlbmNlIGlzc3Vlc1xuICAgIGNvbnNvbGUubG9nKCdbU0hBREVSIE1HUiBERUJVR10gUmV0dXJuaW5nIHN0YXRpYyBzaGFkZXIgb2JqZWN0Jyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG5hbWUsXG4gICAgICAgIG5hbWU6IHNoYWRlci5uYW1lLFxuICAgICAgICBmcmFnU3JjOiBzaGFkZXIuZnJhZ1NyY1xuICAgIH07XG59XG5cbi8qKlxuICogTG9hZCBhIHNoYWRlciBmcm9tIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTCB0byBzaGFkZXIgZmlsZVxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBQcm9taXNlIHJlc29sdmluZyB0byBzaGFkZXIgc291cmNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkU2hhZGVyRnJvbVVSTCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgc2hhZGVyIGZyb20gJHt1cmx9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNoYWRlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBMb2FkIHRoZSBjdXN0b20gYXVkaW8gc2hhZGVyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFByb21pc2UgcmVzb2x2aW5nIHRvIHNoYWRlciBzb3VyY2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRDdXN0b21BdWRpb1NoYWRlcigpIHtcbiAgICByZXR1cm4gbG9hZFNoYWRlckZyb21VUkwoQ1VTVE9NX1NIQURFUl9QQVRIKTtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGF2YWlsYWJsZSBsaWJyYXJ5IHNoYWRlcnNcbiAqIEByZXR1cm5zIHtBcnJheX0gLSBBcnJheSBvZiBzaGFkZXIgbmFtZXMgYW5kIGRlc2NyaXB0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXZhaWxhYmxlU2hhZGVycygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc2hhZGVyTGlicmFyeSkubWFwKChbaWQsIHNoYWRlcl0pID0+ICh7XG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lOiBzaGFkZXIubmFtZSB8fCBpZFxuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBQcm9jZXNzIGF1ZGlvIGRhdGEgZm9yIHNoYWRlciB1bmlmb3Jtc1xuICogQHBhcmFtIHtPYmplY3R9IGF1ZGlvRGF0YSAtIEF1ZGlvIGFuYWx5c2lzIGRhdGEgZnJvbSBBdWRpb0FuYWx5emVyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSAtIFByb2Nlc3NlZCB1bmlmb3JtIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIoYXVkaW9EYXRhKSB7XG4gICAgY29uc3QgcHJvY2Vzc1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgLy8gQ2FjaGUgcmVzdWx0cyB0byBhdm9pZCBleGNlc3NpdmUgcHJvY2Vzc2luZ1xuICAgIGlmICghcHJvY2Vzc0F1ZGlvRGF0YUZvclNoYWRlci5sYXN0UmVzdWx0KSB7XG4gICAgICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIubGFzdFJlc3VsdCA9IG51bGw7XG4gICAgICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIubGFzdFRpbWVTdGFtcCA9IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQVVESU8gUFJPQyBERUJVR10gSW5pdGlhbGl6aW5nIGF1ZGlvIHByb2Nlc3NvciBjYWNoZScpO1xuICAgIH1cblxuICAgIC8vIERvbid0IHByb2Nlc3MgdG9vIGZyZXF1ZW50bHlcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChwcm9jZXNzQXVkaW9EYXRhRm9yU2hhZGVyLmxhc3RSZXN1bHQgJiYgbm93IC0gcHJvY2Vzc0F1ZGlvRGF0YUZvclNoYWRlci5sYXN0VGltZVN0YW1wIDwgMTYpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIubGFzdFJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBJZiBubyBhdWRpbyBkYXRhIGlzIGF2YWlsYWJsZSwgcmV0dXJuIGRlZmF1bHQgdmFsdWVzXG4gICAgaWYgKCFhdWRpb0RhdGEgfHwgIWF1ZGlvRGF0YS50aW1lbGluZSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVzID0ge1xuICAgICAgICAgICAgZW5lcmd5OiAwLjUsXG4gICAgICAgICAgICBsb3dFbmVyZ3k6IDAuNSxcbiAgICAgICAgICAgIGhpZ2hFbmVyZ3k6IDAuNSxcbiAgICAgICAgICAgIHRyYW5zaWVudHM6IDAsXG4gICAgICAgICAgICB0aW1lOiBub3cgLyAxMDAwXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIubGFzdFJlc3VsdCA9IGRlZmF1bHRWYWx1ZXM7XG4gICAgICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIubGFzdFRpbWVTdGFtcCA9IG5vdztcblxuICAgICAgICBjb25zdCBwcm9jZXNzRW5kID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGlmIChwcm9jZXNzRW5kIC0gcHJvY2Vzc1N0YXJ0ID4gNSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtBVURJTyBQUk9DIERFQlVHXSBEZWZhdWx0IGF1ZGlvIHByb2Nlc3NpbmcgdG9vayAkeyhwcm9jZXNzRW5kIC0gcHJvY2Vzc1N0YXJ0KS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlcztcbiAgICB9XG5cbiAgICAvLyBGaW5kIHRoZSBtb3N0IHJlY2VudCBldmVudHMgZm9yIGRpZmZlcmVudCBjYXRlZ29yaWVzXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBhdWRpb0RhdGEuY3VycmVudFRpbWUgfHwgMDtcbiAgICBjb25zdCB0aW1lbGluZSA9IGF1ZGlvRGF0YS50aW1lbGluZTtcblxuICAgIC8vIFByb2Nlc3MgcmVjZW50IGV2ZW50cyB0byBnZXQgY3VycmVudCBhdWRpbyBzdGF0ZVxuICAgIGxldCBsb3dFbmVyZ3kgPSAwLjU7XG4gICAgbGV0IGhpZ2hFbmVyZ3kgPSAwLjU7XG4gICAgbGV0IHRyYW5zaWVudEludGVuc2l0eSA9IDA7XG5cbiAgICAvLyBMb29rIGZvciByZWNlbnQgdHJhbnNpZW50c1xuICAgIGNvbnN0IHJlY2VudFRyYW5zaWVudHMgPSB0aW1lbGluZS5maWx0ZXIoZXZlbnQgPT5cbiAgICAgICAgZXZlbnQudHlwZSA9PT0gJ3RyYW5zaWVudCcgJiZcbiAgICAgICAgZXZlbnQudGltZSA8PSBjdXJyZW50VGltZSAmJlxuICAgICAgICBjdXJyZW50VGltZSAtIGV2ZW50LnRpbWUgPCAwLjEgLy8gUmV2ZXJ0ZWQgdG8gc21hbGxlciB3aW5kb3cgKGUuZy4sIDIwMG1zKSBmb3IgcGVyZm9ybWFuY2VcbiAgICApO1xuXG4gICAgbGV0IG1vc3RJbnRlbnNlVHJhbnNpZW50VGltZSA9IGN1cnJlbnRUaW1lOyAvLyBEZWZhdWx0IGlmIG5vIHRyYW5zaWVudHNcblxuICAgIGlmIChyZWNlbnRUcmFuc2llbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gVXNlIHRoZSBtb3N0IGludGVuc2UgcmVjZW50IHRyYW5zaWVudFxuICAgICAgICBjb25zdCBtb3N0SW50ZW5zZSA9IHJlY2VudFRyYW5zaWVudHMucmVkdWNlKFxuICAgICAgICAgICAgKHByZXYsIGN1cnJlbnQpID0+IGN1cnJlbnQuaW50ZW5zaXR5ID4gcHJldi5pbnRlbnNpdHkgPyBjdXJyZW50IDogcHJldixcbiAgICAgICAgICAgIHJlY2VudFRyYW5zaWVudHNbMF1cbiAgICAgICAgKTtcblxuICAgICAgICB0cmFuc2llbnRJbnRlbnNpdHkgPSBtb3N0SW50ZW5zZS5pbnRlbnNpdHk7XG4gICAgICAgIG1vc3RJbnRlbnNlVHJhbnNpZW50VGltZSA9IG1vc3RJbnRlbnNlLnRpbWU7IC8vIFN0b3JlIHRoZSB0aW1lIG9mIHRoZSBhY3R1YWwgbW9zdCBpbnRlbnNlIHRyYW5zaWVudFxuXG4gICAgICAgIC8vIFNldCBiYW5kLXNwZWNpZmljIGVuZXJneSBiYXNlZCBvbiB0aGUgZG9taW5hbnQgYmFuZFxuICAgICAgICBpZiAobW9zdEludGVuc2UuZG9taW5hbnRCYW5kID09PSAnbG93Jykge1xuICAgICAgICAgICAgbG93RW5lcmd5ID0gMC41ICsgKG1vc3RJbnRlbnNlLmludGVuc2l0eSAqIDAuNSk7IC8vIFNjYWxlIHRvIDAuNS0xLjBcbiAgICAgICAgfSBlbHNlIGlmIChtb3N0SW50ZW5zZS5kb21pbmFudEJhbmQgPT09ICdoaWdoJykge1xuICAgICAgICAgICAgaGlnaEVuZXJneSA9IDAuNSArIChtb3N0SW50ZW5zZS5pbnRlbnNpdHkgKiAwLjUpOyAvLyBTY2FsZSB0byAwLjUtMS4wXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaW5kIHJlY2VudCBkeW5hbWljIGNoYW5nZXMgZm9yIG92ZXJhbGwgZW5lcmd5XG4gICAgY29uc3QgcmVjZW50RHluYW1pY3MgPSB0aW1lbGluZS5maWx0ZXIoZXZlbnQgPT5cbiAgICAgICAgZXZlbnQudHlwZS5zdGFydHNXaXRoKCdkeW5hbWljXycpICYmXG4gICAgICAgIGV2ZW50LnRpbWUgPD0gY3VycmVudFRpbWUgJiZcbiAgICAgICAgY3VycmVudFRpbWUgLSBldmVudC50aW1lIDwgMC4zIC8vIFJldmVydGVkIHRvIHNtYWxsZXIgd2luZG93IChlLmcuLCA1MDBtcylcbiAgICApO1xuXG4gICAgbGV0IGVuZXJneSA9IDAuNTsgLy8gRGVmYXVsdCBlbmVyZ3lcblxuICAgIGlmIChyZWNlbnREeW5hbWljcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgbW9zdCBpbnRlbnNlIGR5bmFtaWMgY2hhbmdlXG4gICAgICAgIGNvbnN0IG1vc3RJbnRlbnNlID0gcmVjZW50RHluYW1pY3MucmVkdWNlKFxuICAgICAgICAgICAgKHByZXYsIGN1cnJlbnQpID0+IGN1cnJlbnQuaW50ZW5zaXR5ID4gcHJldi5pbnRlbnNpdHkgPyBjdXJyZW50IDogcHJldixcbiAgICAgICAgICAgIHJlY2VudER5bmFtaWNzWzBdXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU2NhbGUgaW50ZW5zaXR5IHRvIDAuNS0xLjBcbiAgICAgICAgZW5lcmd5ID0gMC41ICsgKG1vc3RJbnRlbnNlLmludGVuc2l0eSAqIDAuNSk7XG4gICAgfVxuXG4gICAgLy8gRGVjYXkgdmFsdWVzIG92ZXIgdGltZSBmb3Igc21vb3RoZXIgdHJhbnNpdGlvbnNcbiAgICBjb25zdCB0aW1lRnJvbUFjdGl2ZVRyYW5zaWVudCA9IGN1cnJlbnRUaW1lIC0gbW9zdEludGVuc2VUcmFuc2llbnRUaW1lO1xuXG4gICAgLy8gRGVjYXkgb3ZlciB+MC40IHNlY29uZHMgKDEuMCAvIDIuNSA9IDAuNHMpLiBBZGp1c3QgMi41IHRvIGNoYW5nZSBkZWNheSBzcGVlZC5cbiAgICBjb25zdCB0cmFuc2llbnREZWNheSA9IHJlY2VudFRyYW5zaWVudHMubGVuZ3RoID4gMCA/IE1hdGgubWF4KDAsIDEuMCAtICh0aW1lRnJvbUFjdGl2ZVRyYW5zaWVudCAqIDIuNSkpIDogMDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgZW5lcmd5LFxuICAgICAgICBsb3dFbmVyZ3ksXG4gICAgICAgIGhpZ2hFbmVyZ3ksXG4gICAgICAgIHRyYW5zaWVudHM6IHRyYW5zaWVudEludGVuc2l0eSAqIHRyYW5zaWVudERlY2F5LCAvLyB0cmFuc2llbnRJbnRlbnNpdHkgd2lsbCBiZSAwIGlmIG5vIHJlY2VudCB0cmFuc2llbnRzXG4gICAgICAgIHRpbWU6IGN1cnJlbnRUaW1lXG4gICAgfTtcblxuICAgIGNvbnN0IHByb2Nlc3NFbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBwcm9jZXNzVGltZSA9IHByb2Nlc3NFbmQgLSBwcm9jZXNzU3RhcnQ7XG5cbiAgICAvLyBPbmx5IGxvZyBzbG93IHByb2Nlc3NpbmcgdGltZXMgdG8gYXZvaWQgY29uc29sZSBzcGFtXG4gICAgaWYgKHByb2Nlc3NUaW1lID4gNSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW0FVRElPIFBST0MgREVCVUddIEF1ZGlvIHByb2Nlc3NpbmcgdG9vayAke3Byb2Nlc3NUaW1lLnRvRml4ZWQoMil9bXNgKTtcbiAgICB9XG5cbiAgICAvLyBMb2cgZXZlcnkgNjB0aCBmcmFtZSAocm91Z2hseSBvbmNlIHBlciBzZWNvbmQgYXQgNjBmcHMpXG4gICAgaWYgKHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIuZnJhbWVDb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIuZnJhbWVDb3VudCA9IDA7XG4gICAgfVxuICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIuZnJhbWVDb3VudCsrO1xuXG4gICAgaWYgKHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIuZnJhbWVDb3VudCAlIDYwID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbQVVESU8gUFJPQyBERUJVR10gRW5lcmd5IHZhbHVlcyAtIEU6JHtyZXN1bHQuZW5lcmd5LnRvRml4ZWQoMil9LCBgICtcbiAgICAgICAgICAgIGBMOiR7cmVzdWx0Lmxvd0VuZXJneS50b0ZpeGVkKDIpfSwgSDoke3Jlc3VsdC5oaWdoRW5lcmd5LnRvRml4ZWQoMil9LCBgICtcbiAgICAgICAgICAgIGBUOiR7cmVzdWx0LnRyYW5zaWVudHMudG9GaXhlZCgyKX1gKTtcbiAgICB9XG5cbiAgICBwcm9jZXNzQXVkaW9EYXRhRm9yU2hhZGVyLmxhc3RSZXN1bHQgPSByZXN1bHQ7XG4gICAgcHJvY2Vzc0F1ZGlvRGF0YUZvclNoYWRlci5sYXN0VGltZVN0YW1wID0gbm93O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVXBkYXRlcyBzaGFkZXIgcGFyYW1ldGVycyBpbiB0aGUgc21vb3RoZWQgc3RhdGVcbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIGV4dGVybmFsIGNvbXBvbmVudHMgdG8gZGlyZWN0bHkgY29udHJvbCBzaGFkZXIgcGFyYW1ldGVyc1xuICogd2l0aG91dCByZXNldHRpbmcgdGhlIGFuaW1hdGlvblxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gdXBkYXRlIChjb2xvcjEsIGNvbG9yMiwgZXRjKVxuICogQHJldHVybnMge09iamVjdH0gLSBUaGUgdXBkYXRlZCBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTaGFkZXJQYXJhbXMocGFyYW1zKSB7XG4gICAgLy8gSW1wb3J0IG5lZWRlZCBoZXJlIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICBjb25zdCB7IHNtb290aGVkVmFsdWVzIH0gPSByZXF1aXJlKCcuL1NoYWRlclVwZGF0ZScpO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAvLyBVcGRhdGUgY29sb3IgcGFyYW1ldGVyc1xuICAgIGlmIChwYXJhbXMuY29sb3IxKSB7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMS5yLnRhcmdldCA9IHBhcmFtcy5jb2xvcjEucjtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IxLmcudGFyZ2V0ID0gcGFyYW1zLmNvbG9yMS5nO1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjEuYi50YXJnZXQgPSBwYXJhbXMuY29sb3IxLmI7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jb2xvcjIpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IyLnIudGFyZ2V0ID0gcGFyYW1zLmNvbG9yMi5yO1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuZy50YXJnZXQgPSBwYXJhbXMuY29sb3IyLmc7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMi5iLnRhcmdldCA9IHBhcmFtcy5jb2xvcjIuYjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNvbG9yMykge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjMuci50YXJnZXQgPSBwYXJhbXMuY29sb3IzLnI7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5nLnRhcmdldCA9IHBhcmFtcy5jb2xvcjMuZztcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IzLmIudGFyZ2V0ID0gcGFyYW1zLmNvbG9yMy5iO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuZm9nQ29sb3IpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3Iuci50YXJnZXQgPSBwYXJhbXMuZm9nQ29sb3IucjtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3IuZy50YXJnZXQgPSBwYXJhbXMuZm9nQ29sb3IuZztcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3IuYi50YXJnZXQgPSBwYXJhbXMuZm9nQ29sb3IuYjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmdsb3dDb2xvcikge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3Iuci50YXJnZXQgPSBwYXJhbXMuZ2xvd0NvbG9yLnI7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5nLnRhcmdldCA9IHBhcmFtcy5nbG93Q29sb3IuZztcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuZ2xvd0NvbG9yLmIudGFyZ2V0ID0gcGFyYW1zLmdsb3dDb2xvci5iO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBzY2FsYXIgcGFyYW1ldGVyc1xuICAgIGlmIChwYXJhbXMuY2FtZXJhU3BlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5jYW1lcmFTcGVlZC50YXJnZXQgPSBwYXJhbXMuY2FtZXJhU3BlZWQ7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGVmZmVjdCBpbnRlbnNpdHkgcGFyYW1ldGVyc1xuICAgIGlmIChwYXJhbXMudHJhbnNpZW50RWZmZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMudHJhbnNpZW50RWZmZWN0LnRhcmdldCA9IHBhcmFtcy50cmFuc2llbnRFZmZlY3Q7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jb2xvckludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9ySW50ZW5zaXR5LnRhcmdldCA9IHBhcmFtcy5jb2xvckludGVuc2l0eTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgYXVkaW8gZWZmZWN0IGludGVuc2l0eSBwYXJhbWV0ZXJzXG4gICAgaWYgKHBhcmFtcy5lbmVyZ3lDYW1lcmFFZmZlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5lbmVyZ3lDYW1lcmFFZmZlY3QudGFyZ2V0ID0gcGFyYW1zLmVuZXJneUNhbWVyYUVmZmVjdDtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmVuZXJneUNvbG9yRWZmZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuZW5lcmd5Q29sb3JFZmZlY3QudGFyZ2V0ID0gcGFyYW1zLmVuZXJneUNvbG9yRWZmZWN0O1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMudHJhbnNpZW50Q2FtZXJhRWZmZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMudHJhbnNpZW50Q2FtZXJhRWZmZWN0LnRhcmdldCA9IHBhcmFtcy50cmFuc2llbnRDYW1lcmFFZmZlY3Q7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50cmFuc2llbnRDb2xvckVmZmVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLnRyYW5zaWVudENvbG9yRWZmZWN0LnRhcmdldCA9IHBhcmFtcy50cmFuc2llbnRDb2xvckVmZmVjdDtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgYWR2YW5jZWQgY2FtZXJhIG1vdmVtZW50IHBhcmFtZXRlcnNcbiAgICBpZiAocGFyYW1zLmJhc2VDYW1lcmFTcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLmJhc2VDYW1lcmFTcGVlZC50YXJnZXQgPSBwYXJhbXMuYmFzZUNhbWVyYVNwZWVkO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMubWF4Q2FtZXJhU3BlZWRCb29zdEZhY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLm1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3IudGFyZ2V0ID0gcGFyYW1zLm1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMudHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdC50YXJnZXQgPSBwYXJhbXMudHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdDtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmVuZXJneUJvb3N0RmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuZW5lcmd5Qm9vc3RGYWN0b3IudGFyZ2V0ID0gcGFyYW1zLmVuZXJneUJvb3N0RmFjdG9yO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aW1pbmcgYW5kIHNtb290aGluZyBwYXJhbWV0ZXJzXG4gICAgaWYgKHBhcmFtcy5jYW1lcmFTcGVlZFNtb290aGluZ0R1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbi50YXJnZXQgPSBwYXJhbXMuY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNvbG9yU21vb3RoaW5nRHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvclNtb290aGluZ0R1cmF0aW9uLnRhcmdldCA9IHBhcmFtcy5jb2xvclNtb290aGluZ0R1cmF0aW9uO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuc21vb3RoaW5nRHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5zbW9vdGhpbmdEdXJhdGlvbi50YXJnZXQgPSBwYXJhbXMuc21vb3RoaW5nRHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGJyZWF0aGluZyBwYXJhbWV0ZXJzXG4gICAgaWYgKHBhcmFtcy5icmVhdGhpbmdSYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuYnJlYXRoaW5nUmF0ZS50YXJnZXQgPSBwYXJhbXMuYnJlYXRoaW5nUmF0ZTtcbiAgICAgICAgY29uc29sZS5sb2coYFtTSEFERVIgTUFOQUdFUl0gVXBkYXRlZCBicmVhdGhpbmdSYXRlIHRvICR7cGFyYW1zLmJyZWF0aGluZ1JhdGV9YCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5icmVhdGhpbmdBbW91bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbW9vdGhlZFZhbHVlcy5icmVhdGhpbmdBbW91bnQudGFyZ2V0ID0gcGFyYW1zLmJyZWF0aGluZ0Ftb3VudDtcbiAgICAgICAgY29uc29sZS5sb2coYFtTSEFERVIgTUFOQUdFUl0gVXBkYXRlZCBicmVhdGhpbmdBbW91bnQgdG8gJHtwYXJhbXMuYnJlYXRoaW5nQW1vdW50fWApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjb2xvciBtb2RlIHRvZ2dsZVxuICAgIGlmIChwYXJhbXMudXNlQ29sb3JDb250cm9scyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNtb290aGVkVmFsdWVzLnVzZUNvbG9yQ29udHJvbHMudGFyZ2V0ID0gcGFyYW1zLnVzZUNvbG9yQ29udHJvbHM7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1tTSEFERVIgTUFOQUdFUl0gVXBkYXRlZCBzaGFkZXIgcGFyYW1ldGVyczonLCBwYXJhbXMpO1xuXG4gICAgLy8gUmV0dXJuIHVwZGF0ZWQgcGFyYW1ldGVycyBmb3IgcmVmZXJlbmNlXG4gICAgcmV0dXJuIHBhcmFtcztcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGxvYWRMaWJyYXJ5U2hhZGVyLFxuICAgIGxvYWRTaGFkZXJGcm9tVVJMLFxuICAgIGxvYWRDdXN0b21BdWRpb1NoYWRlcixcbiAgICBnZXRBdmFpbGFibGVTaGFkZXJzLFxuICAgIHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIsXG4gICAgc2hhZGVyTGlicmFyeSxcbiAgICB1cGRhdGVTaGFkZXJQYXJhbXNcbn07ICJdLCJuYW1lcyI6WyJ2b3J0ZXhTaGFkZXJTb3VyY2UiLCJyZXRyb1R1bm5lbFNoYWRlclNvdXJjZSIsIm9jZWFuRGVwdGhzVm9ydGV4U2hhZGVyU291cmNlIiwibmVvbkJhclNoYWRlclNvdXJjZSIsInNpbXBsZXhTaGFkZXJTb3VyY2UiLCJjb252ZXJ0ZWRBYnN0cmFjdFNwaXJhbFNoYWRlclNvdXJjZSIsImdob3N0bHlTcGlyaXRzU2hhZGVyU291cmNlIiwibmVidWxvdXNUdW5uZWxTaGFkZXJTb3VyY2UiLCJmaXJlU2hhZGVyU291cmNlIiwibW91bnRhaW5XYXZlc1NoYWRlclNvdXJjZSIsIm5lb25Ub3dlclNoYWRlclNvdXJjZSIsIm5lb25DdWJlc1NoYWRlclNvdXJjZSIsImRyZWFteUN1YmVzU2hhZGVyU291cmNlIiwiY29sb3JmdWxTd2lybHNTaGFkZXJTb3VyY2UiLCJncmVlbkZyYWN0YWxzU2hhZGVyU291cmNlIiwiY29sb3JmdWxDaXJjbGVzU2hhZGVyU291cmNlIiwiZW1lcmdpbmdDaXR5U2hhZGVyU291cmNlIiwiZW1lcmdpbmdBYnN0cmFjdFNoYXBlc1NoYWRlclNvdXJjZSIsImNvbG9yZnVsV29ybGRTaGFkZXJTb3VyY2UiLCJjb2xvcmZ1bFNpZGV3YXlzQ2l0eVNoYWRlclNvdXJjZSIsIndhdmVmb3JtU2hhZGVyU3JjIiwic2hhZGVyTGlicmFyeSIsInJldHJvVHVubmVsIiwibmFtZSIsImZyYWdTcmMiLCJvY2VhbkRlcHRoc1ZvcnRleCIsIm5lb25CYXIiLCJzaW1wbGV4IiwiZmlyZVRvcm5hZG8iLCJnaG9zdGx5U3Bpcml0cyIsIk5lYnVsb3VzVHVubmVsIiwiTW91bnRhaW5XYXZlcyIsIk5lb25Ub3dlciIsIk5lb25DdWJlcyIsIkRyZWFteUN1YmVzIiwiQ29sb3JmdWxTd2lybHMiLCJHcmVlbkZyYWN0YWxzIiwiQ29sb3JmdWxDaXJjbGVzIiwiRW1lcmdpbmdDaXR5IiwiRW1lcmdpbmdBYnN0cmFjdFNoYXBlcyIsIkNvbG9yZnVsV29ybGQiLCJDb2xvcmZ1bFNpZGV3YXlzQ2l0eSIsIldhdmVmb3JtIiwiQ1VTVE9NX1NIQURFUl9QQVRIIiwibG9hZExpYnJhcnlTaGFkZXIiLCJjb25zb2xlIiwibG9nIiwic2hhZGVyIiwid2FybiIsImxlbmd0aCIsImR5bmFtaWNMb2FkIiwicGF0aCIsImdldEZyYWdTcmMiLCJsb2FkU2hhZGVyRnJvbVVSTCIsImlkIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwidGV4dCIsImVycm9yIiwibG9hZEN1c3RvbUF1ZGlvU2hhZGVyIiwiZ2V0QXZhaWxhYmxlU2hhZGVycyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJwcm9jZXNzQXVkaW9EYXRhRm9yU2hhZGVyIiwiYXVkaW9EYXRhIiwicHJvY2Vzc1N0YXJ0IiwicGVyZm9ybWFuY2UiLCJub3ciLCJsYXN0UmVzdWx0IiwibGFzdFRpbWVTdGFtcCIsIkRhdGUiLCJ0aW1lbGluZSIsImRlZmF1bHRWYWx1ZXMiLCJlbmVyZ3kiLCJsb3dFbmVyZ3kiLCJoaWdoRW5lcmd5IiwidHJhbnNpZW50cyIsInRpbWUiLCJwcm9jZXNzRW5kIiwidG9GaXhlZCIsImN1cnJlbnRUaW1lIiwidHJhbnNpZW50SW50ZW5zaXR5IiwicmVjZW50VHJhbnNpZW50cyIsImZpbHRlciIsImV2ZW50IiwidHlwZSIsIm1vc3RJbnRlbnNlVHJhbnNpZW50VGltZSIsIm1vc3RJbnRlbnNlIiwicmVkdWNlIiwicHJldiIsImN1cnJlbnQiLCJpbnRlbnNpdHkiLCJkb21pbmFudEJhbmQiLCJyZWNlbnREeW5hbWljcyIsInN0YXJ0c1dpdGgiLCJ0aW1lRnJvbUFjdGl2ZVRyYW5zaWVudCIsInRyYW5zaWVudERlY2F5IiwiTWF0aCIsIm1heCIsInJlc3VsdCIsInByb2Nlc3NUaW1lIiwiZnJhbWVDb3VudCIsInVuZGVmaW5lZCIsInVwZGF0ZVNoYWRlclBhcmFtcyIsInBhcmFtcyIsInNtb290aGVkVmFsdWVzIiwicmVxdWlyZSIsImNvbG9yMSIsInIiLCJ0YXJnZXQiLCJnIiwiYiIsImNvbG9yMiIsImNvbG9yMyIsImZvZ0NvbG9yIiwiZ2xvd0NvbG9yIiwiY2FtZXJhU3BlZWQiLCJ0cmFuc2llbnRFZmZlY3QiLCJjb2xvckludGVuc2l0eSIsImVuZXJneUNhbWVyYUVmZmVjdCIsImVuZXJneUNvbG9yRWZmZWN0IiwidHJhbnNpZW50Q2FtZXJhRWZmZWN0IiwidHJhbnNpZW50Q29sb3JFZmZlY3QiLCJiYXNlQ2FtZXJhU3BlZWQiLCJtYXhDYW1lcmFTcGVlZEJvb3N0RmFjdG9yIiwidHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdCIsImVuZXJneUJvb3N0RmFjdG9yIiwiY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbiIsImNvbG9yU21vb3RoaW5nRHVyYXRpb24iLCJzbW9vdGhpbmdEdXJhdGlvbiIsImJyZWF0aGluZ1JhdGUiLCJicmVhdGhpbmdBbW91bnQiLCJ1c2VDb2xvckNvbnRyb2xzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/shaders/ShaderManager.js\n");

/***/ }),

/***/ "./utils/shaders/ShaderUpdate.js":
/*!***************************************!*\
  !*** ./utils/shaders/ShaderUpdate.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   smoothedValues: () => (/* binding */ smoothedValues),\n/* harmony export */   updateAudioUniforms: () => (/* binding */ updateAudioUniforms),\n/* harmony export */   updateFrame: () => (/* binding */ updateFrame)\n/* harmony export */ });\n/* harmony import */ var _ShaderManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShaderManager */ \"./utils/shaders/ShaderManager.js\");\n/* harmony import */ var _audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../audio/AudioAnalysisManager */ \"./utils/audio/AudioAnalysisManager.js\");\n/**\n * ShaderUpdate utility\n * Handles the combined logic for shader animation and audio data processing\n */ \n\n// Interpolation settings\nconst DEFAULT_SMOOTHING_DURATION = 700; // Transition duration in ms\nconst DEFAULT_COLOR_SMOOTHING_DURATION = 1000; // Longer duration for color transitions\nconst DEFAULT_CAMERA_SPEED_SMOOTHING_DURATION = 300; // Reduced for faster response to transients\n// Camera speed control constants - now using defaults that can be overridden\nconst DEFAULT_BASE_CAMERA_SPEED = 1.2;\nconst DEFAULT_MAX_CAMERA_SPEED_BOOST_FACTOR = 2.5; // Increased for more dramatic acceleration (1.2 * 2.5 = 3.0)\nconst DEFAULT_TRANSIENT_THRESHOLD_FOR_SPEED_BOOST = 0.1; // Lowered to make it more sensitive to transients\nconst DEFAULT_ENERGY_BOOST_FACTOR = 0.05; // Factor for energy's influence on camera speed\n// Export smoothedValues to allow direct manipulation from ShaderManager\nconst smoothedValues = {\n    transients: {\n        current: 0,\n        target: 0,\n        lastUpdateTime: 0\n    },\n    energy: {\n        current: 0.5,\n        target: 0.5,\n        lastUpdateTime: 0\n    },\n    lowEnergy: {\n        current: 0.5,\n        target: 0.5,\n        lastUpdateTime: 0\n    },\n    highEnergy: {\n        current: 0.5,\n        target: 0.5,\n        lastUpdateTime: 0\n    },\n    // Add new color states\n    color1: {\n        r: {\n            current: 0.4,\n            target: 0.4,\n            lastUpdateTime: 0\n        },\n        g: {\n            current: 1.0,\n            target: 1.0,\n            lastUpdateTime: 0\n        },\n        b: {\n            current: 0.2,\n            target: 0.2,\n            lastUpdateTime: 0\n        }\n    },\n    color2: {\n        r: {\n            current: 0.2,\n            target: 0.2,\n            lastUpdateTime: 0\n        },\n        g: {\n            current: 1.0,\n            target: 1.0,\n            lastUpdateTime: 0\n        },\n        b: {\n            current: 0.8,\n            target: 0.8,\n            lastUpdateTime: 0\n        }\n    },\n    color3: {\n        r: {\n            current: 1.0,\n            target: 1.0,\n            lastUpdateTime: 0\n        },\n        g: {\n            current: 0.2,\n            target: 0.2,\n            lastUpdateTime: 0\n        },\n        b: {\n            current: 0.8,\n            target: 0.8,\n            lastUpdateTime: 0\n        }\n    },\n    fogColor: {\n        r: {\n            current: 0.1,\n            target: 0.1,\n            lastUpdateTime: 0\n        },\n        g: {\n            current: 0.05,\n            target: 0.05,\n            lastUpdateTime: 0\n        },\n        b: {\n            current: 0.15,\n            target: 0.15,\n            lastUpdateTime: 0\n        }\n    },\n    glowColor: {\n        r: {\n            current: 0.1,\n            target: 0.1,\n            lastUpdateTime: 0\n        },\n        g: {\n            current: 0.05,\n            target: 0.05,\n            lastUpdateTime: 0\n        },\n        b: {\n            current: 0.2,\n            target: 0.2,\n            lastUpdateTime: 0\n        }\n    },\n    // Tunnel breathing effect parameters\n    breathingRate: {\n        current: 2.0,\n        target: 2.0,\n        lastUpdateTime: 0\n    },\n    breathingAmount: {\n        current: 6.0,\n        target: 6.0,\n        lastUpdateTime: 0\n    },\n    cameraSpeed: {\n        current: 1.2,\n        target: 1.2,\n        lastUpdateTime: 0\n    },\n    // Add new custom control states\n    transientEffect: {\n        current: 0.3,\n        target: 0.3,\n        lastUpdateTime: 0\n    },\n    colorIntensity: {\n        current: 0.5,\n        target: 0.5,\n        lastUpdateTime: 0\n    },\n    // Add new audio effect intensity controls\n    energyCameraEffect: {\n        current: 1.0,\n        target: 1.0,\n        lastUpdateTime: 0\n    },\n    energyColorEffect: {\n        current: 1.0,\n        target: 1.0,\n        lastUpdateTime: 0\n    },\n    transientCameraEffect: {\n        current: 1.0,\n        target: 1.0,\n        lastUpdateTime: 0\n    },\n    transientColorEffect: {\n        current: 1.0,\n        target: 1.0,\n        lastUpdateTime: 0\n    },\n    // Add new camera movement configuration controls\n    baseCameraSpeed: {\n        current: DEFAULT_BASE_CAMERA_SPEED,\n        target: DEFAULT_BASE_CAMERA_SPEED,\n        lastUpdateTime: 0\n    },\n    maxCameraSpeedBoostFactor: {\n        current: DEFAULT_MAX_CAMERA_SPEED_BOOST_FACTOR,\n        target: DEFAULT_MAX_CAMERA_SPEED_BOOST_FACTOR,\n        lastUpdateTime: 0\n    },\n    transientThresholdForSpeedBoost: {\n        current: DEFAULT_TRANSIENT_THRESHOLD_FOR_SPEED_BOOST,\n        target: DEFAULT_TRANSIENT_THRESHOLD_FOR_SPEED_BOOST,\n        lastUpdateTime: 0\n    },\n    energyBoostFactor: {\n        current: DEFAULT_ENERGY_BOOST_FACTOR,\n        target: DEFAULT_ENERGY_BOOST_FACTOR,\n        lastUpdateTime: 0\n    },\n    cameraSpeedSmoothingDuration: {\n        current: DEFAULT_CAMERA_SPEED_SMOOTHING_DURATION,\n        target: DEFAULT_CAMERA_SPEED_SMOOTHING_DURATION,\n        lastUpdateTime: 0\n    },\n    colorSmoothingDuration: {\n        current: DEFAULT_COLOR_SMOOTHING_DURATION,\n        target: DEFAULT_COLOR_SMOOTHING_DURATION,\n        lastUpdateTime: 0\n    },\n    smoothingDuration: {\n        current: DEFAULT_SMOOTHING_DURATION,\n        target: DEFAULT_SMOOTHING_DURATION,\n        lastUpdateTime: 0\n    },\n    // New toggle for using color controls vs random colors\n    useColorControls: {\n        current: true,\n        target: true,\n        lastUpdateTime: 0\n    }\n};\n// Playback state tracking for camera behavior\nlet lastPlayingState = false;\n// Store the time of the last transient that triggered a color change\nlet lastTransientColorChangeTime = 0;\n// Threshold for detecting a significant transient event\nconst TRANSIENT_THRESHOLD = 0.0;\n// Minimum interval between color changes triggered by transients (in milliseconds)\nconst MIN_COLOR_CHANGE_INTERVAL = 500;\n// Helper to generate a random float between min and max\nfunction randomRange(min, max) {\n    return Math.random() * (max - min) + min;\n}\n/**\n * Smoothly interpolate a single component (e.g., r, g, b, or a scalar uniform)\n * @param {Object} componentState - The state object for the component (e.g., smoothedValues.color1.r)\n * @param {number} targetValue - Target value to interpolate towards\n * @param {number} now - Current timestamp\n * @param {number} duration - Smoothing duration for this component\n * @returns {number} - Smoothly interpolated value\n */ function getSmoothComponentValue(componentState, targetValue, now, duration) {\n    // If this is a new target value, update the target\n    if (targetValue !== componentState.target) {\n        componentState.target = targetValue;\n        componentState.lastUpdateTime = now; // Reset time when target changes\n    }\n    // Calculate elapsed time since the last target change for this component\n    const elapsed = now - componentState.lastUpdateTime;\n    // Calculate interpolation progress (0 to 1)\n    let progress = Math.min(1.0, elapsed / duration);\n    // Use a smooth ease-in-out curve for interpolation\n    progress = progress < 0.5 ? 2 * progress * progress : 1 - Math.pow(-2 * progress + 2, 2) / 2;\n    // Interpolate between current and target values\n    const newValue = componentState.current + (componentState.target - componentState.current) * progress;\n    // If we've reached the target, update the current value\n    if (progress >= 0.999) {\n        componentState.current = componentState.target;\n    } else {\n        componentState.current = newValue;\n    }\n    return componentState.current;\n}\n/**\n * Smoothly interpolate between current and target values (for scalar uniforms)\n * @param {string} uniformName - Name of the uniform to interpolate (from smoothedValues)\n * @param {number} targetValue - Target value to interpolate towards\n * @param {number} now - Current timestamp\n * @returns {number} - Smoothly interpolated value\n */ function getSmoothValue(uniformName, targetValue, now) {\n    // This function now specifically handles scalar values like 'energy', 'transients'\n    const valueState = smoothedValues[uniformName];\n    return getSmoothComponentValue(valueState, targetValue, now, DEFAULT_SMOOTHING_DURATION);\n}\n/**\n * Smoothly interpolate an entire color object (r, g, b)\n * @param {string} colorName - Name of the color to interpolate (e.g., 'color1')\n * @param {{r: number, g: number, b: number}} targetColor - Target color object\n * @param {number} now - Current timestamp\n * @returns {{r: number, g: number, b: number}} - Smoothly interpolated color\n */ function getSmoothColor(colorName, targetColor, now) {\n    const colorState = smoothedValues[colorName];\n    const r = getSmoothComponentValue(colorState.r, targetColor.r, now, DEFAULT_COLOR_SMOOTHING_DURATION);\n    const g = getSmoothComponentValue(colorState.g, targetColor.g, now, DEFAULT_COLOR_SMOOTHING_DURATION);\n    const b = getSmoothComponentValue(colorState.b, targetColor.b, now, DEFAULT_COLOR_SMOOTHING_DURATION);\n    return {\n        r,\n        g,\n        b\n    };\n}\n/**\n * Process audio data and prepare shader uniforms\n * @param {Object} audioAnalysis - The complete audio analysis data\n * @param {number} currentTime - The current playback time in seconds\n * @param {boolean} isPlaying - Whether audio is currently playing\n * @param {Object} debugOptions - Options for debug logging\n * @returns {Object} - Uniform values for the shader\n */ function updateAudioUniforms(audioAnalysis, currentTime, isPlaying, debugOptions = {}) {\n    const now = Date.now();\n    // If not playing or no analysis data, return default values with smooth transitions\n    if (!isPlaying || !audioAnalysis) {\n        const defaultScalar = {\n            energy: getSmoothValue(\"energy\", 0.5, now),\n            lowEnergy: getSmoothValue(\"lowEnergy\", 0.5, now),\n            highEnergy: getSmoothValue(\"highEnergy\", 0.5, now),\n            transients: getSmoothValue(\"transients\", 0, now),\n            time: currentTime\n        };\n        // Also return current (smoothed) colors\n        return {\n            ...defaultScalar,\n            uColor1: {\n                r: smoothedValues.color1.r.current,\n                g: smoothedValues.color1.g.current,\n                b: smoothedValues.color1.b.current\n            },\n            uColor2: {\n                r: smoothedValues.color2.r.current,\n                g: smoothedValues.color2.g.current,\n                b: smoothedValues.color2.b.current\n            },\n            uColor3: {\n                r: smoothedValues.color3.r.current,\n                g: smoothedValues.color3.g.current,\n                b: smoothedValues.color3.b.current\n            },\n            uFogColor: {\n                r: smoothedValues.fogColor.r.current,\n                g: smoothedValues.fogColor.g.current,\n                b: smoothedValues.fogColor.b.current\n            },\n            uGlowColor: {\n                r: smoothedValues.glowColor.r.current,\n                g: smoothedValues.glowColor.g.current,\n                b: smoothedValues.glowColor.b.current\n            }\n        };\n    }\n    // Process audio data for the current time\n    const processedAudio = {\n        ...audioAnalysis,\n        currentTime\n    };\n    // Process the data to extract shader uniform values\n    const rawUniforms = (0,_ShaderManager__WEBPACK_IMPORTED_MODULE_0__.processAudioDataForShader)(processedAudio);\n    // --- Transient-based Color Change Logic ---\n    const newTransientDetected = rawUniforms.transients > TRANSIENT_THRESHOLD;\n    const sufficientTimePassed = now - lastTransientColorChangeTime > MIN_COLOR_CHANGE_INTERVAL;\n    // Apply custom transient effect multiplier to make transient effects more/less pronounced\n    const transientStrength = rawUniforms.transients * smoothedValues.transientEffect.current;\n    if (newTransientDetected && sufficientTimePassed) {\n        // Check if we should use color controls or random colors\n        const useColorControls = smoothedValues.useColorControls.current;\n        if (useColorControls) {\n            // Using user-defined colors from color controls\n            // Save the current color states\n            const currentColor1 = {\n                r: smoothedValues.color1.r.current,\n                g: smoothedValues.color1.g.current,\n                b: smoothedValues.color1.b.current\n            };\n            const currentColor2 = {\n                r: smoothedValues.color2.r.current,\n                g: smoothedValues.color2.g.current,\n                b: smoothedValues.color2.b.current\n            };\n            const currentColor3 = {\n                r: smoothedValues.color3.r.current,\n                g: smoothedValues.color3.g.current,\n                b: smoothedValues.color3.b.current\n            };\n            // Rotate the colors (12, 23, 31) with slight variations to add some dynamism\n            // Color1 gets Color2 with variation\n            smoothedValues.color1.r.target = currentColor2.r * (0.9 + 0.2 * Math.random());\n            smoothedValues.color1.g.target = currentColor2.g * (0.9 + 0.2 * Math.random());\n            smoothedValues.color1.b.target = currentColor2.b * (0.9 + 0.2 * Math.random());\n            // Color2 gets Color3 with variation\n            smoothedValues.color2.r.target = currentColor3.r * (0.9 + 0.2 * Math.random());\n            smoothedValues.color2.g.target = currentColor3.g * (0.9 + 0.2 * Math.random());\n            smoothedValues.color2.b.target = currentColor3.b * (0.9 + 0.2 * Math.random());\n            // Color3 gets Color1 with variation\n            smoothedValues.color3.r.target = currentColor1.r * (0.9 + 0.2 * Math.random());\n            smoothedValues.color3.g.target = currentColor1.g * (0.9 + 0.2 * Math.random());\n            smoothedValues.color3.b.target = currentColor1.b * (0.9 + 0.2 * Math.random());\n            // Keep fog and glow colors from their current values with minor variations\n            // This maintains the user-selected colors while adding some visual interest\n            smoothedValues.fogColor.r.target = smoothedValues.fogColor.r.current * (0.95 + 0.1 * Math.random());\n            smoothedValues.fogColor.g.target = smoothedValues.fogColor.g.current * (0.95 + 0.1 * Math.random());\n            smoothedValues.fogColor.b.target = smoothedValues.fogColor.b.current * (0.95 + 0.1 * Math.random());\n            smoothedValues.glowColor.r.target = smoothedValues.glowColor.r.current * (0.95 + 0.1 * Math.random());\n            smoothedValues.glowColor.g.target = smoothedValues.glowColor.g.current * (0.95 + 0.1 * Math.random());\n            smoothedValues.glowColor.b.target = smoothedValues.glowColor.b.current * (0.95 + 0.1 * Math.random());\n            if (debugOptions.shouldLog) {\n                console.log(`[COLOR CHANGE] New transient triggered color rotation at ${now}`);\n            }\n        } else {\n            // Using completely random colors\n            // Update target colors only on a new, significant transient\n            smoothedValues.color1.r.target = randomRange(0.2, 1.0);\n            smoothedValues.color1.g.target = randomRange(0.2, 1.0);\n            smoothedValues.color1.b.target = randomRange(0.2, 1.0);\n            smoothedValues.color2.r.target = randomRange(0.2, 1.0);\n            smoothedValues.color2.g.target = randomRange(0.2, 1.0);\n            smoothedValues.color2.b.target = randomRange(0.2, 1.0);\n            smoothedValues.color3.r.target = randomRange(0.2, 1.0);\n            smoothedValues.color3.g.target = randomRange(0.2, 1.0);\n            smoothedValues.color3.b.target = randomRange(0.2, 1.0);\n            // Fog colors should generally be darker\n            smoothedValues.fogColor.r.target = randomRange(0.0, 0.3);\n            smoothedValues.fogColor.g.target = randomRange(0.0, 0.2);\n            smoothedValues.fogColor.b.target = randomRange(0.0, 0.4);\n            // Glow colors can be a bit more vibrant but still somewhat controlled\n            smoothedValues.glowColor.r.target = randomRange(0.1, 0.5);\n            smoothedValues.glowColor.g.target = randomRange(0.1, 0.4);\n            smoothedValues.glowColor.b.target = randomRange(0.1, 0.6);\n            if (debugOptions.shouldLog) {\n                console.log(`[COLOR CHANGE] New transient triggered random color generation at ${now}`);\n            }\n        }\n        lastTransientColorChangeTime = now; // Record the time of this color change\n    }\n    // --- End Color Change Logic ---\n    // --- Camera Speed Logic ---\n    // Get the current dynamic values from smoothedValues\n    const baseCameraSpeed = smoothedValues.baseCameraSpeed.current;\n    const maxCameraSpeedBoostFactor = smoothedValues.maxCameraSpeedBoostFactor.current;\n    const transientThresholdForSpeedBoost = smoothedValues.transientThresholdForSpeedBoost.current;\n    const energyBoostFactor = smoothedValues.energyBoostFactor.current;\n    // Calculate the speed the camera *would* ideally go to based on current transients\n    let instantaneousTargetSpeed = baseCameraSpeed;\n    const energyBoost = rawUniforms.energy * energyBoostFactor; // Apply the adjustable energyBoostFactor\n    // If audio just started playing, give an initial acceleration boost\n    if (isPlaying && !lastPlayingState) {\n        instantaneousTargetSpeed = baseCameraSpeed * 2.0; // Initial acceleration when playback starts\n        if (debugOptions.shouldLog) {\n            console.log(`[CAMERA SPEED] Playback started - initial acceleration boost applied`);\n        }\n    }\n    lastPlayingState = isPlaying;\n    if (transientStrength > transientThresholdForSpeedBoost) {\n        // Map transient strength (above threshold) to a boost multiplier\n        // transientEffect will be 0 when transientStrength is at threshold, up to 1\n        const effectRange = 1.0 - transientThresholdForSpeedBoost;\n        // Ensure effectRange is not zero to prevent division by zero if threshold is 1.0\n        const safeEffectRange = Math.max(effectRange, 0.0001);\n        const transientEffect = Math.min(1.0, (transientStrength - transientThresholdForSpeedBoost) / safeEffectRange);\n        // The boost factor scales from 1.0 (no boost) to maxCameraSpeedBoostFactor\n        const currentBoostFactor = 1.0 + transientEffect * (maxCameraSpeedBoostFactor - 1.0);\n        // Combine transient-based speed with energy-based boost\n        instantaneousTargetSpeed = baseCameraSpeed * currentBoostFactor + energyBoost;\n        // Additional pulse boost on strong transients\n        if (transientStrength > 0.4) {\n            instantaneousTargetSpeed *= 1.2; // Extra boost for strong beats\n        }\n    } else {\n        // Even without transients, let energy influence the speed somewhat, but with reduced effect\n        instantaneousTargetSpeed += energyBoost;\n    }\n    // Ensure camera never goes below baseCameraSpeed (never goes backward)\n    instantaneousTargetSpeed = Math.max(instantaneousTargetSpeed, baseCameraSpeed);\n    // For smoothing, use either current speed or new target, whichever is higher\n    // This ensures we never decelerate below our current speed (no backward motion)\n    const finalTargetSpeedForSmoothing = Math.max(smoothedValues.cameraSpeed.current, instantaneousTargetSpeed // The desired speed based on current audio\n    );\n    // Get the current smoothing duration from state\n    const cameraSpeedSmoothingDuration = smoothedValues.cameraSpeedSmoothingDuration.current;\n    // Apply smoothing to camera speed - this smooths acceleration only\n    const smoothedCameraSpeed = getSmoothComponentValue(smoothedValues.cameraSpeed, finalTargetSpeedForSmoothing, now, cameraSpeedSmoothingDuration);\n    // Log camera speed changes (every ~60 frames)\n    if (debugOptions.shouldLog) {\n        console.log(`[CAMERA SPEED] Transient: ${transientStrength.toFixed(2)}, Target: ${instantaneousTargetSpeed.toFixed(2)}, Final: ${smoothedCameraSpeed.toFixed(2)}`);\n    }\n    // --- End Camera Speed Logic ---\n    // Apply smoothing to the uniforms with dynamic smoothing durations\n    const smoothingDuration = smoothedValues.smoothingDuration.current;\n    const colorSmoothingDuration = smoothedValues.colorSmoothingDuration.current;\n    const smoothedScalarUniforms = {\n        energy: getSmoothValue(\"energy\", rawUniforms.energy, now),\n        lowEnergy: getSmoothValue(\"lowEnergy\", rawUniforms.lowEnergy, now),\n        highEnergy: getSmoothValue(\"highEnergy\", rawUniforms.highEnergy, now),\n        transients: getSmoothValue(\"transients\", rawUniforms.transients, now),\n        time: currentTime,\n        // Add these new parameters\n        transientEffect: getSmoothComponentValue(smoothedValues.transientEffect, smoothedValues.transientEffect.target, now, smoothingDuration),\n        colorIntensity: getSmoothComponentValue(smoothedValues.colorIntensity, smoothedValues.colorIntensity.target, now, smoothingDuration),\n        energyCameraEffect: getSmoothComponentValue(smoothedValues.energyCameraEffect, smoothedValues.energyCameraEffect.target, now, smoothingDuration),\n        energyColorEffect: getSmoothComponentValue(smoothedValues.energyColorEffect, smoothedValues.energyColorEffect.target, now, smoothingDuration),\n        transientCameraEffect: getSmoothComponentValue(smoothedValues.transientCameraEffect, smoothedValues.transientCameraEffect.target, now, smoothingDuration),\n        transientColorEffect: getSmoothComponentValue(smoothedValues.transientColorEffect, smoothedValues.transientColorEffect.target, now, smoothingDuration),\n        // Add the breathing parameters\n        breathingRate: getSmoothComponentValue(smoothedValues.breathingRate, smoothedValues.breathingRate.target, now, smoothingDuration),\n        breathingAmount: getSmoothComponentValue(smoothedValues.breathingAmount, smoothedValues.breathingAmount.target, now, smoothingDuration),\n        // Add new camera movement configuration parameters\n        baseCameraSpeed: getSmoothComponentValue(smoothedValues.baseCameraSpeed, smoothedValues.baseCameraSpeed.target, now, smoothingDuration),\n        maxCameraSpeedBoostFactor: getSmoothComponentValue(smoothedValues.maxCameraSpeedBoostFactor, smoothedValues.maxCameraSpeedBoostFactor.target, now, smoothingDuration),\n        transientThresholdForSpeedBoost: getSmoothComponentValue(smoothedValues.transientThresholdForSpeedBoost, smoothedValues.transientThresholdForSpeedBoost.target, now, smoothingDuration),\n        energyBoostFactor: getSmoothComponentValue(smoothedValues.energyBoostFactor, smoothedValues.energyBoostFactor.target, now, smoothingDuration),\n        cameraSpeedSmoothingDuration: getSmoothComponentValue(smoothedValues.cameraSpeedSmoothingDuration, smoothedValues.cameraSpeedSmoothingDuration.target, now, smoothingDuration),\n        colorSmoothingDuration: getSmoothComponentValue(smoothedValues.colorSmoothingDuration, smoothedValues.colorSmoothingDuration.target, now, smoothingDuration),\n        smoothingDuration: getSmoothComponentValue(smoothedValues.smoothingDuration, smoothedValues.smoothingDuration.target, now, smoothingDuration),\n        // Add color mode toggle\n        useColorControls: getSmoothComponentValue(smoothedValues.useColorControls, smoothedValues.useColorControls.target, now, smoothingDuration)\n    };\n    // Get the current color intensity for amplifying colors\n    const colorIntensity = smoothedValues.colorIntensity.current;\n    // Get smoothed color values by directly calling getSmoothComponentValue for each component\n    // Apply colorIntensity to amplify the color values, using the dynamic colorSmoothingDuration\n    const uColor1 = {\n        r: Math.min(1.0, getSmoothComponentValue(smoothedValues.color1.r, smoothedValues.color1.r.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        g: Math.min(1.0, getSmoothComponentValue(smoothedValues.color1.g, smoothedValues.color1.g.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        b: Math.min(1.0, getSmoothComponentValue(smoothedValues.color1.b, smoothedValues.color1.b.target, now, colorSmoothingDuration) * colorIntensity * 1.5)\n    };\n    const uColor2 = {\n        r: Math.min(1.0, getSmoothComponentValue(smoothedValues.color2.r, smoothedValues.color2.r.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        g: Math.min(1.0, getSmoothComponentValue(smoothedValues.color2.g, smoothedValues.color2.g.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        b: Math.min(1.0, getSmoothComponentValue(smoothedValues.color2.b, smoothedValues.color2.b.target, now, colorSmoothingDuration) * colorIntensity * 1.5)\n    };\n    const uColor3 = {\n        r: Math.min(1.0, getSmoothComponentValue(smoothedValues.color3.r, smoothedValues.color3.r.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        g: Math.min(1.0, getSmoothComponentValue(smoothedValues.color3.g, smoothedValues.color3.g.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        b: Math.min(1.0, getSmoothComponentValue(smoothedValues.color3.b, smoothedValues.color3.b.target, now, colorSmoothingDuration) * colorIntensity * 1.5)\n    };\n    const uFogColor = {\n        r: getSmoothComponentValue(smoothedValues.fogColor.r, smoothedValues.fogColor.r.target, now, colorSmoothingDuration),\n        g: getSmoothComponentValue(smoothedValues.fogColor.g, smoothedValues.fogColor.g.target, now, colorSmoothingDuration),\n        b: getSmoothComponentValue(smoothedValues.fogColor.b, smoothedValues.fogColor.b.target, now, colorSmoothingDuration)\n    };\n    const uGlowColor = {\n        r: Math.min(1.0, getSmoothComponentValue(smoothedValues.glowColor.r, smoothedValues.glowColor.r.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        g: Math.min(1.0, getSmoothComponentValue(smoothedValues.glowColor.g, smoothedValues.glowColor.g.target, now, colorSmoothingDuration) * colorIntensity * 1.5),\n        b: Math.min(1.0, getSmoothComponentValue(smoothedValues.glowColor.b, smoothedValues.glowColor.b.target, now, colorSmoothingDuration) * colorIntensity * 1.5)\n    };\n    const smoothedUniforms = {\n        ...smoothedScalarUniforms,\n        uColor1,\n        uColor2,\n        uColor3,\n        uFogColor,\n        uGlowColor,\n        cameraSpeed: smoothedCameraSpeed // Add smoothed camera speed\n    };\n    // Optional debug logging for breathing parameters (every 60 frames)\n    if (debugOptions.shouldLog) {\n        console.log(`[UNIFORM DEBUG] Breathing parameters:`, `rate: ${smoothedUniforms.breathingRate.toFixed(2)} (target: ${smoothedValues.breathingRate.target.toFixed(2)}), ` + `amount: ${smoothedUniforms.breathingAmount.toFixed(2)} (target: ${smoothedValues.breathingAmount.target.toFixed(2)})`);\n    }\n    // Optional debug logging\n    if (debugOptions.shouldLog) {\n        console.log(`[UNIFORM DEBUG] Time: ${currentTime.toFixed(2)}s, Uniforms:`, `energy: ${smoothedUniforms.energy.toFixed(2)} (raw: ${rawUniforms.energy.toFixed(2)}), ` + `lowEnergy: ${smoothedUniforms.lowEnergy.toFixed(2)} (raw: ${rawUniforms.lowEnergy.toFixed(2)}), ` + `highEnergy: ${smoothedUniforms.highEnergy.toFixed(2)} (raw: ${rawUniforms.highEnergy.toFixed(2)}), ` + `transients: ${smoothedUniforms.transients.toFixed(2)} (raw: ${rawUniforms.transients.toFixed(2)})`);\n    }\n    return smoothedUniforms;\n}\n/**\n * Get current audio state from AudioAnalysisManager or from passed props\n * @param {Object} providedAudioState - Optional audio state passed directly\n * @returns {Object} - Combined audio state\n */ function getAudioState(providedAudioState = {}) {\n    // Get current state from the singleton\n    const managerState = _audio_AudioAnalysisManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState();\n    // Use provided values if they exist, otherwise use manager values\n    return {\n        analysis: providedAudioState.analysis || managerState.audioAnalysis,\n        currentTime: providedAudioState.currentTime !== undefined ? providedAudioState.currentTime : managerState.currentTime,\n        isPlaying: providedAudioState.isPlaying !== undefined ? providedAudioState.isPlaying : managerState.isPlaying\n    };\n}\n/**\n * Main update function that handles both animation and audio processing in one loop\n * @param {Object} params - Parameters for the update\n * @param {WebGLRenderingContext} params.gl - WebGL context\n * @param {Object} params.shaderProgram - The compiled shader program\n * @param {Object} params.buffers - GPU buffers for geometry\n * @param {Array} params.resolution - Canvas resolution [width, height]\n * @param {Date} params.startTime - Animation start time\n * @param {Object} params.audioState - Optional override for audio state\n * @param {Function} params.onUpdateUniforms - Callback when uniforms are updated\n * @returns {Object} - Current state including time, FPS, etc.\n */ function updateFrame({ gl, shaderProgram, buffers, resolution, startTime, audioState, frameCount, onUpdateUniforms }) {\n    // Safety checks\n    if (!gl || !shaderProgram || !shaderProgram.use) {\n        console.warn(\"[SHADER UPDATE] Missing required WebGL context or shader program\");\n        return {\n            frameCount: frameCount + 1,\n            time: 0,\n            audioUniforms: {}\n        };\n    }\n    const now = Date.now();\n    const newFrameCount = frameCount + 1;\n    try {\n        // Calculate animation time (elapsed time since start)\n        const animationTime = (now - (startTime || now)) / 1000;\n        // Get current audio state - combining singleton state with any passed props\n        const combinedAudioState = getAudioState(audioState);\n        // Log the combined state occasionally for debugging\n        if (newFrameCount % 120 === 0) {\n            console.log(`[SHADER AUDIO STATE] Combined audio state:`, `isPlaying: ${combinedAudioState.isPlaying}, `, `currentTime: ${combinedAudioState.currentTime}, `, `analysis: ${combinedAudioState.analysis ? \"available\" : \"none\"}`);\n        }\n        const audioUniforms = updateAudioUniforms(combinedAudioState.analysis, combinedAudioState.currentTime || 0, combinedAudioState.isPlaying || false, {\n            shouldLog: newFrameCount % 60 === 0\n        } // Log every ~1 second at 60fps\n        );\n        // Notify parent component of updated uniforms if needed\n        if (typeof onUpdateUniforms === \"function\") {\n            try {\n                onUpdateUniforms(audioUniforms);\n            } catch (callbackError) {\n                console.error(\"[SHADER UPDATE] Error in onUpdateUniforms callback:\", callbackError);\n            }\n        }\n        // Clear the canvas\n        gl.clearColor(0, 0, 0, 1);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        // Use shader program\n        shaderProgram.use();\n        // Set standard uniforms - safely handle missing resolution values\n        const safeResolution = resolution || [\n            1,\n            1\n        ];\n        shaderProgram.setUniform1f(\"uTime\", animationTime);\n        shaderProgram.setUniform2f(\"uResolution\", safeResolution[0] || 1, safeResolution[1] || 1);\n        // Set audio uniforms safely - these will be smoothly interpolated now\n        if (audioUniforms) {\n            if (audioUniforms.energy !== undefined) {\n                shaderProgram.setUniform1f(\"uEnergy\", audioUniforms.energy);\n                shaderProgram.setUniform1f(\"energy\", audioUniforms.energy);\n            }\n            if (audioUniforms.lowEnergy !== undefined) {\n                shaderProgram.setUniform1f(\"uLowEnergy\", audioUniforms.lowEnergy);\n                shaderProgram.setUniform1f(\"lowEnergy\", audioUniforms.lowEnergy);\n            }\n            if (audioUniforms.highEnergy !== undefined) {\n                shaderProgram.setUniform1f(\"uHighEnergy\", audioUniforms.highEnergy);\n                shaderProgram.setUniform1f(\"highEnergy\", audioUniforms.highEnergy);\n            }\n            if (audioUniforms.transients !== undefined) {\n                shaderProgram.setUniform1f(\"uTransients\", audioUniforms.transients);\n                shaderProgram.setUniform1f(\"transients\", audioUniforms.transients);\n            }\n            if (audioUniforms.time !== undefined) {\n                shaderProgram.setUniform1f(\"uAudioTime\", audioUniforms.time);\n                shaderProgram.setUniform1f(\"audioTime\", audioUniforms.time);\n            }\n            // Pass transientEffect as uTransientIntensity\n            if (audioUniforms.transientEffect !== undefined) {\n                shaderProgram.setUniform1f(\"uTransientIntensity\", audioUniforms.transientEffect);\n            }\n            // Set new color uniforms\n            if (audioUniforms.uColor1) {\n                shaderProgram.setUniform3f(\"uColor1\", audioUniforms.uColor1.r, audioUniforms.uColor1.g, audioUniforms.uColor1.b);\n            }\n            if (audioUniforms.uColor2) {\n                shaderProgram.setUniform3f(\"uColor2\", audioUniforms.uColor2.r, audioUniforms.uColor2.g, audioUniforms.uColor2.b);\n            }\n            if (audioUniforms.uColor3) {\n                shaderProgram.setUniform3f(\"uColor3\", audioUniforms.uColor3.r, audioUniforms.uColor3.g, audioUniforms.uColor3.b);\n            }\n            if (audioUniforms.uFogColor) {\n                shaderProgram.setUniform3f(\"uFogColor\", audioUniforms.uFogColor.r, audioUniforms.uFogColor.g, audioUniforms.uFogColor.b);\n            }\n            if (audioUniforms.uGlowColor) {\n                shaderProgram.setUniform3f(\"uGlowColor\", audioUniforms.uGlowColor.r, audioUniforms.uGlowColor.g, audioUniforms.uGlowColor.b);\n            }\n            // Set new camera speed uniform\n            if (audioUniforms.cameraSpeed !== undefined) {\n                shaderProgram.setUniform1f(\"uCameraSpeed\", audioUniforms.cameraSpeed);\n            }\n            // Set new effect control uniforms\n            if (audioUniforms.energyCameraEffect !== undefined) {\n                shaderProgram.setUniform1f(\"uEnergyCameraEffect\", audioUniforms.energyCameraEffect);\n            }\n            if (audioUniforms.energyColorEffect !== undefined) {\n                shaderProgram.setUniform1f(\"uEnergyColorEffect\", audioUniforms.energyColorEffect);\n            }\n            if (audioUniforms.transientCameraEffect !== undefined) {\n                shaderProgram.setUniform1f(\"uTransientCameraEffect\", audioUniforms.transientCameraEffect);\n            }\n            if (audioUniforms.transientColorEffect !== undefined) {\n                shaderProgram.setUniform1f(\"uTransientColorEffect\", audioUniforms.transientColorEffect);\n            }\n            // Set new breathing effect uniforms\n            if (audioUniforms.breathingRate !== undefined) {\n                shaderProgram.setUniform1f(\"uBreathingRate\", audioUniforms.breathingRate);\n                if (newFrameCount % 60 === 0) {\n                    console.log(`[SHADER UPDATE] Setting uBreathingRate: ${audioUniforms.breathingRate} (target: ${smoothedValues.breathingRate.target})`);\n                }\n            }\n            if (audioUniforms.breathingAmount !== undefined) {\n                shaderProgram.setUniform1f(\"uBreathingAmount\", audioUniforms.breathingAmount);\n                if (newFrameCount % 60 === 0) {\n                    console.log(`[SHADER UPDATE] Setting uBreathingAmount: ${audioUniforms.breathingAmount} (target: ${smoothedValues.breathingAmount.target})`);\n                }\n            }\n        }\n        // Return updated state\n        return {\n            time: animationTime,\n            frameCount: newFrameCount,\n            audioUniforms\n        };\n    } catch (error) {\n        console.error(\"[SHADER UPDATE] Error in updateFrame:\", error);\n        return {\n            time: 0,\n            frameCount: newFrameCount,\n            audioUniforms: {},\n            error\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    updateAudioUniforms,\n    updateFrame,\n    smoothedValues\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQlYsY0FBYzVGLGVBQWU7Z0JBQzVFLElBQUk2RixnQkFBZ0IsT0FBTyxHQUFHO29CQUMxQjlCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDBDQUEwQyxFQUFFNEIsY0FBYzVGLGVBQWUsQ0FBQyxVQUFVLEVBQUVqQixlQUFlaUIsZUFBZSxDQUFDZCxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUMvSTtZQUNKO1FBQ0o7UUFFQSx1QkFBdUI7UUFDdkIsT0FBTztZQUNIOEQsTUFBTThDO1lBQ05OLFlBQVlLO1lBQ1pEO1FBQ0o7SUFDSixFQUFFLE9BQU9LLE9BQU87UUFDWmxDLFFBQVFrQyxLQUFLLENBQUMseUNBQXlDQTtRQUN2RCxPQUFPO1lBQ0hqRCxNQUFNO1lBQ053QyxZQUFZSztZQUNaRCxlQUFlLENBQUM7WUFDaEJLO1FBQ0o7SUFDSjtBQUNKO0FBRUEsaUVBQWU7SUFDWHhEO0lBQ0F3QztJQUNBbEc7QUFDSixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8uL3V0aWxzL3NoYWRlcnMvU2hhZGVyVXBkYXRlLmpzP2MyM2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaGFkZXJVcGRhdGUgdXRpbGl0eVxuICogSGFuZGxlcyB0aGUgY29tYmluZWQgbG9naWMgZm9yIHNoYWRlciBhbmltYXRpb24gYW5kIGF1ZGlvIGRhdGEgcHJvY2Vzc2luZ1xuICovXG5cbmltcG9ydCB7IHByb2Nlc3NBdWRpb0RhdGFGb3JTaGFkZXIgfSBmcm9tICcuL1NoYWRlck1hbmFnZXInO1xuaW1wb3J0IEF1ZGlvQW5hbHlzaXNNYW5hZ2VyIGZyb20gJy4uL2F1ZGlvL0F1ZGlvQW5hbHlzaXNNYW5hZ2VyJztcblxuLy8gSW50ZXJwb2xhdGlvbiBzZXR0aW5nc1xuY29uc3QgREVGQVVMVF9TTU9PVEhJTkdfRFVSQVRJT04gPSA3MDA7IC8vIFRyYW5zaXRpb24gZHVyYXRpb24gaW4gbXNcbmNvbnN0IERFRkFVTFRfQ09MT1JfU01PT1RISU5HX0RVUkFUSU9OID0gMTAwMDsgLy8gTG9uZ2VyIGR1cmF0aW9uIGZvciBjb2xvciB0cmFuc2l0aW9uc1xuY29uc3QgREVGQVVMVF9DQU1FUkFfU1BFRURfU01PT1RISU5HX0RVUkFUSU9OID0gMzAwOyAvLyBSZWR1Y2VkIGZvciBmYXN0ZXIgcmVzcG9uc2UgdG8gdHJhbnNpZW50c1xuXG4vLyBDYW1lcmEgc3BlZWQgY29udHJvbCBjb25zdGFudHMgLSBub3cgdXNpbmcgZGVmYXVsdHMgdGhhdCBjYW4gYmUgb3ZlcnJpZGRlblxuY29uc3QgREVGQVVMVF9CQVNFX0NBTUVSQV9TUEVFRCA9IDEuMjtcbmNvbnN0IERFRkFVTFRfTUFYX0NBTUVSQV9TUEVFRF9CT09TVF9GQUNUT1IgPSAyLjU7IC8vIEluY3JlYXNlZCBmb3IgbW9yZSBkcmFtYXRpYyBhY2NlbGVyYXRpb24gKDEuMiAqIDIuNSA9IDMuMClcbmNvbnN0IERFRkFVTFRfVFJBTlNJRU5UX1RIUkVTSE9MRF9GT1JfU1BFRURfQk9PU1QgPSAwLjE7IC8vIExvd2VyZWQgdG8gbWFrZSBpdCBtb3JlIHNlbnNpdGl2ZSB0byB0cmFuc2llbnRzXG5jb25zdCBERUZBVUxUX0VORVJHWV9CT09TVF9GQUNUT1IgPSAwLjA1OyAvLyBGYWN0b3IgZm9yIGVuZXJneSdzIGluZmx1ZW5jZSBvbiBjYW1lcmEgc3BlZWRcblxuLy8gRXhwb3J0IHNtb290aGVkVmFsdWVzIHRvIGFsbG93IGRpcmVjdCBtYW5pcHVsYXRpb24gZnJvbSBTaGFkZXJNYW5hZ2VyXG5leHBvcnQgY29uc3Qgc21vb3RoZWRWYWx1ZXMgPSB7XG4gICAgdHJhbnNpZW50czoge1xuICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICB0YXJnZXQ6IDAsXG4gICAgICAgIGxhc3RVcGRhdGVUaW1lOiAwXG4gICAgfSxcbiAgICBlbmVyZ3k6IHtcbiAgICAgICAgY3VycmVudDogMC41LFxuICAgICAgICB0YXJnZXQ6IDAuNSxcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIGxvd0VuZXJneToge1xuICAgICAgICBjdXJyZW50OiAwLjUsXG4gICAgICAgIHRhcmdldDogMC41LFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgaGlnaEVuZXJneToge1xuICAgICAgICBjdXJyZW50OiAwLjUsXG4gICAgICAgIHRhcmdldDogMC41LFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgLy8gQWRkIG5ldyBjb2xvciBzdGF0ZXNcbiAgICBjb2xvcjE6IHtcbiAgICAgICAgcjogeyBjdXJyZW50OiAwLjQsIHRhcmdldDogMC40LCBsYXN0VXBkYXRlVGltZTogMCB9LFxuICAgICAgICBnOiB7IGN1cnJlbnQ6IDEuMCwgdGFyZ2V0OiAxLjAsIGxhc3RVcGRhdGVUaW1lOiAwIH0sXG4gICAgICAgIGI6IHsgY3VycmVudDogMC4yLCB0YXJnZXQ6IDAuMiwgbGFzdFVwZGF0ZVRpbWU6IDAgfVxuICAgIH0sXG4gICAgY29sb3IyOiB7XG4gICAgICAgIHI6IHsgY3VycmVudDogMC4yLCB0YXJnZXQ6IDAuMiwgbGFzdFVwZGF0ZVRpbWU6IDAgfSxcbiAgICAgICAgZzogeyBjdXJyZW50OiAxLjAsIHRhcmdldDogMS4wLCBsYXN0VXBkYXRlVGltZTogMCB9LFxuICAgICAgICBiOiB7IGN1cnJlbnQ6IDAuOCwgdGFyZ2V0OiAwLjgsIGxhc3RVcGRhdGVUaW1lOiAwIH1cbiAgICB9LFxuICAgIGNvbG9yMzoge1xuICAgICAgICByOiB7IGN1cnJlbnQ6IDEuMCwgdGFyZ2V0OiAxLjAsIGxhc3RVcGRhdGVUaW1lOiAwIH0sXG4gICAgICAgIGc6IHsgY3VycmVudDogMC4yLCB0YXJnZXQ6IDAuMiwgbGFzdFVwZGF0ZVRpbWU6IDAgfSxcbiAgICAgICAgYjogeyBjdXJyZW50OiAwLjgsIHRhcmdldDogMC44LCBsYXN0VXBkYXRlVGltZTogMCB9XG4gICAgfSxcbiAgICBmb2dDb2xvcjoge1xuICAgICAgICByOiB7IGN1cnJlbnQ6IDAuMSwgdGFyZ2V0OiAwLjEsIGxhc3RVcGRhdGVUaW1lOiAwIH0sXG4gICAgICAgIGc6IHsgY3VycmVudDogMC4wNSwgdGFyZ2V0OiAwLjA1LCBsYXN0VXBkYXRlVGltZTogMCB9LFxuICAgICAgICBiOiB7IGN1cnJlbnQ6IDAuMTUsIHRhcmdldDogMC4xNSwgbGFzdFVwZGF0ZVRpbWU6IDAgfVxuICAgIH0sXG4gICAgZ2xvd0NvbG9yOiB7XG4gICAgICAgIHI6IHsgY3VycmVudDogMC4xLCB0YXJnZXQ6IDAuMSwgbGFzdFVwZGF0ZVRpbWU6IDAgfSxcbiAgICAgICAgZzogeyBjdXJyZW50OiAwLjA1LCB0YXJnZXQ6IDAuMDUsIGxhc3RVcGRhdGVUaW1lOiAwIH0sXG4gICAgICAgIGI6IHsgY3VycmVudDogMC4yLCB0YXJnZXQ6IDAuMiwgbGFzdFVwZGF0ZVRpbWU6IDAgfVxuICAgIH0sXG4gICAgLy8gVHVubmVsIGJyZWF0aGluZyBlZmZlY3QgcGFyYW1ldGVyc1xuICAgIGJyZWF0aGluZ1JhdGU6IHtcbiAgICAgICAgY3VycmVudDogMi4wLFxuICAgICAgICB0YXJnZXQ6IDIuMCxcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIGJyZWF0aGluZ0Ftb3VudDoge1xuICAgICAgICBjdXJyZW50OiA2LjAsXG4gICAgICAgIHRhcmdldDogNi4wLFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgY2FtZXJhU3BlZWQ6IHtcbiAgICAgICAgY3VycmVudDogMS4yLCAvLyBJbml0aWFsIGJhc2Ugc3BlZWQgbWF0Y2hpbmcgQkFTRV9DQU1FUkFfU1BFRURcbiAgICAgICAgdGFyZ2V0OiAxLjIsICAvLyBJbml0aWFsIHRhcmdldCBzcGVlZFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgLy8gQWRkIG5ldyBjdXN0b20gY29udHJvbCBzdGF0ZXNcbiAgICB0cmFuc2llbnRFZmZlY3Q6IHtcbiAgICAgICAgY3VycmVudDogMC4zLFxuICAgICAgICB0YXJnZXQ6IDAuMyxcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIGNvbG9ySW50ZW5zaXR5OiB7XG4gICAgICAgIGN1cnJlbnQ6IDAuNSxcbiAgICAgICAgdGFyZ2V0OiAwLjUsXG4gICAgICAgIGxhc3RVcGRhdGVUaW1lOiAwXG4gICAgfSxcbiAgICAvLyBBZGQgbmV3IGF1ZGlvIGVmZmVjdCBpbnRlbnNpdHkgY29udHJvbHNcbiAgICBlbmVyZ3lDYW1lcmFFZmZlY3Q6IHtcbiAgICAgICAgY3VycmVudDogMS4wLFxuICAgICAgICB0YXJnZXQ6IDEuMCxcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIGVuZXJneUNvbG9yRWZmZWN0OiB7XG4gICAgICAgIGN1cnJlbnQ6IDEuMCxcbiAgICAgICAgdGFyZ2V0OiAxLjAsXG4gICAgICAgIGxhc3RVcGRhdGVUaW1lOiAwXG4gICAgfSxcbiAgICB0cmFuc2llbnRDYW1lcmFFZmZlY3Q6IHtcbiAgICAgICAgY3VycmVudDogMS4wLFxuICAgICAgICB0YXJnZXQ6IDEuMCxcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIHRyYW5zaWVudENvbG9yRWZmZWN0OiB7XG4gICAgICAgIGN1cnJlbnQ6IDEuMCxcbiAgICAgICAgdGFyZ2V0OiAxLjAsXG4gICAgICAgIGxhc3RVcGRhdGVUaW1lOiAwXG4gICAgfSxcbiAgICAvLyBBZGQgbmV3IGNhbWVyYSBtb3ZlbWVudCBjb25maWd1cmF0aW9uIGNvbnRyb2xzXG4gICAgYmFzZUNhbWVyYVNwZWVkOiB7XG4gICAgICAgIGN1cnJlbnQ6IERFRkFVTFRfQkFTRV9DQU1FUkFfU1BFRUQsXG4gICAgICAgIHRhcmdldDogREVGQVVMVF9CQVNFX0NBTUVSQV9TUEVFRCxcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIG1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3I6IHtcbiAgICAgICAgY3VycmVudDogREVGQVVMVF9NQVhfQ0FNRVJBX1NQRUVEX0JPT1NUX0ZBQ1RPUixcbiAgICAgICAgdGFyZ2V0OiBERUZBVUxUX01BWF9DQU1FUkFfU1BFRURfQk9PU1RfRkFDVE9SLFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgdHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdDoge1xuICAgICAgICBjdXJyZW50OiBERUZBVUxUX1RSQU5TSUVOVF9USFJFU0hPTERfRk9SX1NQRUVEX0JPT1NULFxuICAgICAgICB0YXJnZXQ6IERFRkFVTFRfVFJBTlNJRU5UX1RIUkVTSE9MRF9GT1JfU1BFRURfQk9PU1QsXG4gICAgICAgIGxhc3RVcGRhdGVUaW1lOiAwXG4gICAgfSxcbiAgICBlbmVyZ3lCb29zdEZhY3Rvcjoge1xuICAgICAgICBjdXJyZW50OiBERUZBVUxUX0VORVJHWV9CT09TVF9GQUNUT1IsXG4gICAgICAgIHRhcmdldDogREVGQVVMVF9FTkVSR1lfQk9PU1RfRkFDVE9SLFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbjoge1xuICAgICAgICBjdXJyZW50OiBERUZBVUxUX0NBTUVSQV9TUEVFRF9TTU9PVEhJTkdfRFVSQVRJT04sXG4gICAgICAgIHRhcmdldDogREVGQVVMVF9DQU1FUkFfU1BFRURfU01PT1RISU5HX0RVUkFUSU9OLFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgY29sb3JTbW9vdGhpbmdEdXJhdGlvbjoge1xuICAgICAgICBjdXJyZW50OiBERUZBVUxUX0NPTE9SX1NNT09USElOR19EVVJBVElPTixcbiAgICAgICAgdGFyZ2V0OiBERUZBVUxUX0NPTE9SX1NNT09USElOR19EVVJBVElPTixcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWU6IDBcbiAgICB9LFxuICAgIHNtb290aGluZ0R1cmF0aW9uOiB7XG4gICAgICAgIGN1cnJlbnQ6IERFRkFVTFRfU01PT1RISU5HX0RVUkFUSU9OLFxuICAgICAgICB0YXJnZXQ6IERFRkFVTFRfU01PT1RISU5HX0RVUkFUSU9OLFxuICAgICAgICBsYXN0VXBkYXRlVGltZTogMFxuICAgIH0sXG4gICAgLy8gTmV3IHRvZ2dsZSBmb3IgdXNpbmcgY29sb3IgY29udHJvbHMgdnMgcmFuZG9tIGNvbG9yc1xuICAgIHVzZUNvbG9yQ29udHJvbHM6IHtcbiAgICAgICAgY3VycmVudDogdHJ1ZSwgLy8gRGVmYXVsdCB0byB1c2luZyBjb2xvciBjb250cm9sc1xuICAgICAgICB0YXJnZXQ6IHRydWUsXG4gICAgICAgIGxhc3RVcGRhdGVUaW1lOiAwXG4gICAgfVxufTtcblxuLy8gUGxheWJhY2sgc3RhdGUgdHJhY2tpbmcgZm9yIGNhbWVyYSBiZWhhdmlvclxubGV0IGxhc3RQbGF5aW5nU3RhdGUgPSBmYWxzZTtcblxuLy8gU3RvcmUgdGhlIHRpbWUgb2YgdGhlIGxhc3QgdHJhbnNpZW50IHRoYXQgdHJpZ2dlcmVkIGEgY29sb3IgY2hhbmdlXG5sZXQgbGFzdFRyYW5zaWVudENvbG9yQ2hhbmdlVGltZSA9IDA7XG4vLyBUaHJlc2hvbGQgZm9yIGRldGVjdGluZyBhIHNpZ25pZmljYW50IHRyYW5zaWVudCBldmVudFxuY29uc3QgVFJBTlNJRU5UX1RIUkVTSE9MRCA9IDAuMDtcbi8vIE1pbmltdW0gaW50ZXJ2YWwgYmV0d2VlbiBjb2xvciBjaGFuZ2VzIHRyaWdnZXJlZCBieSB0cmFuc2llbnRzIChpbiBtaWxsaXNlY29uZHMpXG5jb25zdCBNSU5fQ09MT1JfQ0hBTkdFX0lOVEVSVkFMID0gNTAwO1xuXG4vLyBIZWxwZXIgdG8gZ2VuZXJhdGUgYSByYW5kb20gZmxvYXQgYmV0d2VlbiBtaW4gYW5kIG1heFxuZnVuY3Rpb24gcmFuZG9tUmFuZ2UobWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xufVxuXG4vKipcbiAqIFNtb290aGx5IGludGVycG9sYXRlIGEgc2luZ2xlIGNvbXBvbmVudCAoZS5nLiwgciwgZywgYiwgb3IgYSBzY2FsYXIgdW5pZm9ybSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnRTdGF0ZSAtIFRoZSBzdGF0ZSBvYmplY3QgZm9yIHRoZSBjb21wb25lbnQgKGUuZy4sIHNtb290aGVkVmFsdWVzLmNvbG9yMS5yKVxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFZhbHVlIC0gVGFyZ2V0IHZhbHVlIHRvIGludGVycG9sYXRlIHRvd2FyZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBub3cgLSBDdXJyZW50IHRpbWVzdGFtcFxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIC0gU21vb3RoaW5nIGR1cmF0aW9uIGZvciB0aGlzIGNvbXBvbmVudFxuICogQHJldHVybnMge251bWJlcn0gLSBTbW9vdGhseSBpbnRlcnBvbGF0ZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoY29tcG9uZW50U3RhdGUsIHRhcmdldFZhbHVlLCBub3csIGR1cmF0aW9uKSB7XG4gICAgLy8gSWYgdGhpcyBpcyBhIG5ldyB0YXJnZXQgdmFsdWUsIHVwZGF0ZSB0aGUgdGFyZ2V0XG4gICAgaWYgKHRhcmdldFZhbHVlICE9PSBjb21wb25lbnRTdGF0ZS50YXJnZXQpIHtcbiAgICAgICAgY29tcG9uZW50U3RhdGUudGFyZ2V0ID0gdGFyZ2V0VmFsdWU7XG4gICAgICAgIGNvbXBvbmVudFN0YXRlLmxhc3RVcGRhdGVUaW1lID0gbm93OyAvLyBSZXNldCB0aW1lIHdoZW4gdGFyZ2V0IGNoYW5nZXNcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgZWxhcHNlZCB0aW1lIHNpbmNlIHRoZSBsYXN0IHRhcmdldCBjaGFuZ2UgZm9yIHRoaXMgY29tcG9uZW50XG4gICAgY29uc3QgZWxhcHNlZCA9IG5vdyAtIGNvbXBvbmVudFN0YXRlLmxhc3RVcGRhdGVUaW1lO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGludGVycG9sYXRpb24gcHJvZ3Jlc3MgKDAgdG8gMSlcbiAgICBsZXQgcHJvZ3Jlc3MgPSBNYXRoLm1pbigxLjAsIGVsYXBzZWQgLyBkdXJhdGlvbik7XG5cbiAgICAvLyBVc2UgYSBzbW9vdGggZWFzZS1pbi1vdXQgY3VydmUgZm9yIGludGVycG9sYXRpb25cbiAgICBwcm9ncmVzcyA9IHByb2dyZXNzIDwgMC41XG4gICAgICAgID8gMiAqIHByb2dyZXNzICogcHJvZ3Jlc3NcbiAgICAgICAgOiAxIC0gTWF0aC5wb3coLTIgKiBwcm9ncmVzcyArIDIsIDIpIC8gMjtcblxuICAgIC8vIEludGVycG9sYXRlIGJldHdlZW4gY3VycmVudCBhbmQgdGFyZ2V0IHZhbHVlc1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gY29tcG9uZW50U3RhdGUuY3VycmVudCArIChjb21wb25lbnRTdGF0ZS50YXJnZXQgLSBjb21wb25lbnRTdGF0ZS5jdXJyZW50KSAqIHByb2dyZXNzO1xuXG4gICAgLy8gSWYgd2UndmUgcmVhY2hlZCB0aGUgdGFyZ2V0LCB1cGRhdGUgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICBpZiAocHJvZ3Jlc3MgPj0gMC45OTkpIHsgLy8gVXNlIGEgdGhyZXNob2xkIHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IGlzc3Vlc1xuICAgICAgICBjb21wb25lbnRTdGF0ZS5jdXJyZW50ID0gY29tcG9uZW50U3RhdGUudGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBvbmVudFN0YXRlLmN1cnJlbnQgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudFN0YXRlLmN1cnJlbnQ7XG59XG5cbi8qKlxuICogU21vb3RobHkgaW50ZXJwb2xhdGUgYmV0d2VlbiBjdXJyZW50IGFuZCB0YXJnZXQgdmFsdWVzIChmb3Igc2NhbGFyIHVuaWZvcm1zKVxuICogQHBhcmFtIHtzdHJpbmd9IHVuaWZvcm1OYW1lIC0gTmFtZSBvZiB0aGUgdW5pZm9ybSB0byBpbnRlcnBvbGF0ZSAoZnJvbSBzbW9vdGhlZFZhbHVlcylcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRWYWx1ZSAtIFRhcmdldCB2YWx1ZSB0byBpbnRlcnBvbGF0ZSB0b3dhcmRzXG4gKiBAcGFyYW0ge251bWJlcn0gbm93IC0gQ3VycmVudCB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gU21vb3RobHkgaW50ZXJwb2xhdGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGdldFNtb290aFZhbHVlKHVuaWZvcm1OYW1lLCB0YXJnZXRWYWx1ZSwgbm93KSB7XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBub3cgc3BlY2lmaWNhbGx5IGhhbmRsZXMgc2NhbGFyIHZhbHVlcyBsaWtlICdlbmVyZ3knLCAndHJhbnNpZW50cydcbiAgICBjb25zdCB2YWx1ZVN0YXRlID0gc21vb3RoZWRWYWx1ZXNbdW5pZm9ybU5hbWVdO1xuICAgIHJldHVybiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZSh2YWx1ZVN0YXRlLCB0YXJnZXRWYWx1ZSwgbm93LCBERUZBVUxUX1NNT09USElOR19EVVJBVElPTik7XG59XG5cbi8qKlxuICogU21vb3RobHkgaW50ZXJwb2xhdGUgYW4gZW50aXJlIGNvbG9yIG9iamVjdCAociwgZywgYilcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvck5hbWUgLSBOYW1lIG9mIHRoZSBjb2xvciB0byBpbnRlcnBvbGF0ZSAoZS5nLiwgJ2NvbG9yMScpXG4gKiBAcGFyYW0ge3tyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyfX0gdGFyZ2V0Q29sb3IgLSBUYXJnZXQgY29sb3Igb2JqZWN0XG4gKiBAcGFyYW0ge251bWJlcn0gbm93IC0gQ3VycmVudCB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIHt7cjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcn19IC0gU21vb3RobHkgaW50ZXJwb2xhdGVkIGNvbG9yXG4gKi9cbmZ1bmN0aW9uIGdldFNtb290aENvbG9yKGNvbG9yTmFtZSwgdGFyZ2V0Q29sb3IsIG5vdykge1xuICAgIGNvbnN0IGNvbG9yU3RhdGUgPSBzbW9vdGhlZFZhbHVlc1tjb2xvck5hbWVdO1xuICAgIGNvbnN0IHIgPSBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShjb2xvclN0YXRlLnIsIHRhcmdldENvbG9yLnIsIG5vdywgREVGQVVMVF9DT0xPUl9TTU9PVEhJTkdfRFVSQVRJT04pO1xuICAgIGNvbnN0IGcgPSBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShjb2xvclN0YXRlLmcsIHRhcmdldENvbG9yLmcsIG5vdywgREVGQVVMVF9DT0xPUl9TTU9PVEhJTkdfRFVSQVRJT04pO1xuICAgIGNvbnN0IGIgPSBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShjb2xvclN0YXRlLmIsIHRhcmdldENvbG9yLmIsIG5vdywgREVGQVVMVF9DT0xPUl9TTU9PVEhJTkdfRFVSQVRJT04pO1xuICAgIHJldHVybiB7IHIsIGcsIGIgfTtcbn1cblxuLyoqXG4gKiBQcm9jZXNzIGF1ZGlvIGRhdGEgYW5kIHByZXBhcmUgc2hhZGVyIHVuaWZvcm1zXG4gKiBAcGFyYW0ge09iamVjdH0gYXVkaW9BbmFseXNpcyAtIFRoZSBjb21wbGV0ZSBhdWRpbyBhbmFseXNpcyBkYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFRpbWUgLSBUaGUgY3VycmVudCBwbGF5YmFjayB0aW1lIGluIHNlY29uZHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNQbGF5aW5nIC0gV2hldGhlciBhdWRpbyBpcyBjdXJyZW50bHkgcGxheWluZ1xuICogQHBhcmFtIHtPYmplY3R9IGRlYnVnT3B0aW9ucyAtIE9wdGlvbnMgZm9yIGRlYnVnIGxvZ2dpbmdcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0gVW5pZm9ybSB2YWx1ZXMgZm9yIHRoZSBzaGFkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF1ZGlvVW5pZm9ybXMoYXVkaW9BbmFseXNpcywgY3VycmVudFRpbWUsIGlzUGxheWluZywgZGVidWdPcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gSWYgbm90IHBsYXlpbmcgb3Igbm8gYW5hbHlzaXMgZGF0YSwgcmV0dXJuIGRlZmF1bHQgdmFsdWVzIHdpdGggc21vb3RoIHRyYW5zaXRpb25zXG4gICAgaWYgKCFpc1BsYXlpbmcgfHwgIWF1ZGlvQW5hbHlzaXMpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNjYWxhciA9IHtcbiAgICAgICAgICAgIGVuZXJneTogZ2V0U21vb3RoVmFsdWUoJ2VuZXJneScsIDAuNSwgbm93KSxcbiAgICAgICAgICAgIGxvd0VuZXJneTogZ2V0U21vb3RoVmFsdWUoJ2xvd0VuZXJneScsIDAuNSwgbm93KSxcbiAgICAgICAgICAgIGhpZ2hFbmVyZ3k6IGdldFNtb290aFZhbHVlKCdoaWdoRW5lcmd5JywgMC41LCBub3cpLFxuICAgICAgICAgICAgdHJhbnNpZW50czogZ2V0U21vb3RoVmFsdWUoJ3RyYW5zaWVudHMnLCAwLCBub3cpLFxuICAgICAgICAgICAgdGltZTogY3VycmVudFRpbWVcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQWxzbyByZXR1cm4gY3VycmVudCAoc21vb3RoZWQpIGNvbG9yc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZGVmYXVsdFNjYWxhcixcbiAgICAgICAgICAgIHVDb2xvcjE6IHsgcjogc21vb3RoZWRWYWx1ZXMuY29sb3IxLnIuY3VycmVudCwgZzogc21vb3RoZWRWYWx1ZXMuY29sb3IxLmcuY3VycmVudCwgYjogc21vb3RoZWRWYWx1ZXMuY29sb3IxLmIuY3VycmVudCB9LFxuICAgICAgICAgICAgdUNvbG9yMjogeyByOiBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuci5jdXJyZW50LCBnOiBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuZy5jdXJyZW50LCBiOiBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuYi5jdXJyZW50IH0sXG4gICAgICAgICAgICB1Q29sb3IzOiB7IHI6IHNtb290aGVkVmFsdWVzLmNvbG9yMy5yLmN1cnJlbnQsIGc6IHNtb290aGVkVmFsdWVzLmNvbG9yMy5nLmN1cnJlbnQsIGI6IHNtb290aGVkVmFsdWVzLmNvbG9yMy5iLmN1cnJlbnQgfSxcbiAgICAgICAgICAgIHVGb2dDb2xvcjogeyByOiBzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5yLmN1cnJlbnQsIGc6IHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLmcuY3VycmVudCwgYjogc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3IuYi5jdXJyZW50IH0sXG4gICAgICAgICAgICB1R2xvd0NvbG9yOiB7IHI6IHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5yLmN1cnJlbnQsIGc6IHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5nLmN1cnJlbnQsIGI6IHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5iLmN1cnJlbnQgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGF1ZGlvIGRhdGEgZm9yIHRoZSBjdXJyZW50IHRpbWVcbiAgICBjb25zdCBwcm9jZXNzZWRBdWRpbyA9IHtcbiAgICAgICAgLi4uYXVkaW9BbmFseXNpcyxcbiAgICAgICAgY3VycmVudFRpbWVcbiAgICB9O1xuXG4gICAgLy8gUHJvY2VzcyB0aGUgZGF0YSB0byBleHRyYWN0IHNoYWRlciB1bmlmb3JtIHZhbHVlc1xuICAgIGNvbnN0IHJhd1VuaWZvcm1zID0gcHJvY2Vzc0F1ZGlvRGF0YUZvclNoYWRlcihwcm9jZXNzZWRBdWRpbyk7XG5cbiAgICAvLyAtLS0gVHJhbnNpZW50LWJhc2VkIENvbG9yIENoYW5nZSBMb2dpYyAtLS1cbiAgICBjb25zdCBuZXdUcmFuc2llbnREZXRlY3RlZCA9IHJhd1VuaWZvcm1zLnRyYW5zaWVudHMgPiBUUkFOU0lFTlRfVEhSRVNIT0xEO1xuICAgIGNvbnN0IHN1ZmZpY2llbnRUaW1lUGFzc2VkID0gKG5vdyAtIGxhc3RUcmFuc2llbnRDb2xvckNoYW5nZVRpbWUpID4gTUlOX0NPTE9SX0NIQU5HRV9JTlRFUlZBTDtcblxuICAgIC8vIEFwcGx5IGN1c3RvbSB0cmFuc2llbnQgZWZmZWN0IG11bHRpcGxpZXIgdG8gbWFrZSB0cmFuc2llbnQgZWZmZWN0cyBtb3JlL2xlc3MgcHJvbm91bmNlZFxuICAgIGNvbnN0IHRyYW5zaWVudFN0cmVuZ3RoID0gcmF3VW5pZm9ybXMudHJhbnNpZW50cyAqIHNtb290aGVkVmFsdWVzLnRyYW5zaWVudEVmZmVjdC5jdXJyZW50O1xuXG4gICAgaWYgKG5ld1RyYW5zaWVudERldGVjdGVkICYmIHN1ZmZpY2llbnRUaW1lUGFzc2VkKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCB1c2UgY29sb3IgY29udHJvbHMgb3IgcmFuZG9tIGNvbG9yc1xuICAgICAgICBjb25zdCB1c2VDb2xvckNvbnRyb2xzID0gc21vb3RoZWRWYWx1ZXMudXNlQ29sb3JDb250cm9scy5jdXJyZW50O1xuXG4gICAgICAgIGlmICh1c2VDb2xvckNvbnRyb2xzKSB7XG4gICAgICAgICAgICAvLyBVc2luZyB1c2VyLWRlZmluZWQgY29sb3JzIGZyb20gY29sb3IgY29udHJvbHNcbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgY29sb3Igc3RhdGVzXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29sb3IxID0ge1xuICAgICAgICAgICAgICAgIHI6IHNtb290aGVkVmFsdWVzLmNvbG9yMS5yLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZzogc21vb3RoZWRWYWx1ZXMuY29sb3IxLmcuY3VycmVudCxcbiAgICAgICAgICAgICAgICBiOiBzbW9vdGhlZFZhbHVlcy5jb2xvcjEuYi5jdXJyZW50XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29sb3IyID0ge1xuICAgICAgICAgICAgICAgIHI6IHNtb290aGVkVmFsdWVzLmNvbG9yMi5yLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZzogc21vb3RoZWRWYWx1ZXMuY29sb3IyLmcuY3VycmVudCxcbiAgICAgICAgICAgICAgICBiOiBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuYi5jdXJyZW50XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29sb3IzID0ge1xuICAgICAgICAgICAgICAgIHI6IHNtb290aGVkVmFsdWVzLmNvbG9yMy5yLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZzogc21vb3RoZWRWYWx1ZXMuY29sb3IzLmcuY3VycmVudCxcbiAgICAgICAgICAgICAgICBiOiBzbW9vdGhlZFZhbHVlcy5jb2xvcjMuYi5jdXJyZW50XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBSb3RhdGUgdGhlIGNvbG9ycyAoMeKGkjIsIDLihpIzLCAz4oaSMSkgd2l0aCBzbGlnaHQgdmFyaWF0aW9ucyB0byBhZGQgc29tZSBkeW5hbWlzbVxuICAgICAgICAgICAgLy8gQ29sb3IxIGdldHMgQ29sb3IyIHdpdGggdmFyaWF0aW9uXG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjEuci50YXJnZXQgPSBjdXJyZW50Q29sb3IyLnIgKiAoMC45ICsgMC4yICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjEuZy50YXJnZXQgPSBjdXJyZW50Q29sb3IyLmcgKiAoMC45ICsgMC4yICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjEuYi50YXJnZXQgPSBjdXJyZW50Q29sb3IyLmIgKiAoMC45ICsgMC4yICogTWF0aC5yYW5kb20oKSk7XG5cbiAgICAgICAgICAgIC8vIENvbG9yMiBnZXRzIENvbG9yMyB3aXRoIHZhcmlhdGlvblxuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IyLnIudGFyZ2V0ID0gY3VycmVudENvbG9yMy5yICogKDAuOSArIDAuMiAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IyLmcudGFyZ2V0ID0gY3VycmVudENvbG9yMy5nICogKDAuOSArIDAuMiAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IyLmIudGFyZ2V0ID0gY3VycmVudENvbG9yMy5iICogKDAuOSArIDAuMiAqIE1hdGgucmFuZG9tKCkpO1xuXG4gICAgICAgICAgICAvLyBDb2xvcjMgZ2V0cyBDb2xvcjEgd2l0aCB2YXJpYXRpb25cbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5yLnRhcmdldCA9IGN1cnJlbnRDb2xvcjEuciAqICgwLjkgKyAwLjIgKiBNYXRoLnJhbmRvbSgpKTtcbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5nLnRhcmdldCA9IGN1cnJlbnRDb2xvcjEuZyAqICgwLjkgKyAwLjIgKiBNYXRoLnJhbmRvbSgpKTtcbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5iLnRhcmdldCA9IGN1cnJlbnRDb2xvcjEuYiAqICgwLjkgKyAwLjIgKiBNYXRoLnJhbmRvbSgpKTtcblxuICAgICAgICAgICAgLy8gS2VlcCBmb2cgYW5kIGdsb3cgY29sb3JzIGZyb20gdGhlaXIgY3VycmVudCB2YWx1ZXMgd2l0aCBtaW5vciB2YXJpYXRpb25zXG4gICAgICAgICAgICAvLyBUaGlzIG1haW50YWlucyB0aGUgdXNlci1zZWxlY3RlZCBjb2xvcnMgd2hpbGUgYWRkaW5nIHNvbWUgdmlzdWFsIGludGVyZXN0XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5yLnRhcmdldCA9IHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLnIuY3VycmVudCAqICgwLjk1ICsgMC4xICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5nLnRhcmdldCA9IHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLmcuY3VycmVudCAqICgwLjk1ICsgMC4xICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5iLnRhcmdldCA9IHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLmIuY3VycmVudCAqICgwLjk1ICsgMC4xICogTWF0aC5yYW5kb20oKSk7XG5cbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5yLnRhcmdldCA9IHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5yLmN1cnJlbnQgKiAoMC45NSArIDAuMSAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuZ2xvd0NvbG9yLmcudGFyZ2V0ID0gc21vb3RoZWRWYWx1ZXMuZ2xvd0NvbG9yLmcuY3VycmVudCAqICgwLjk1ICsgMC4xICogTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3IuYi50YXJnZXQgPSBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3IuYi5jdXJyZW50ICogKDAuOTUgKyAwLjEgKiBNYXRoLnJhbmRvbSgpKTtcblxuICAgICAgICAgICAgaWYgKGRlYnVnT3B0aW9ucy5zaG91bGRMb2cpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0NPTE9SIENIQU5HRV0gTmV3IHRyYW5zaWVudCB0cmlnZ2VyZWQgY29sb3Igcm90YXRpb24gYXQgJHtub3d9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2luZyBjb21wbGV0ZWx5IHJhbmRvbSBjb2xvcnNcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YXJnZXQgY29sb3JzIG9ubHkgb24gYSBuZXcsIHNpZ25pZmljYW50IHRyYW5zaWVudFxuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IxLnIudGFyZ2V0ID0gcmFuZG9tUmFuZ2UoMC4yLCAxLjApO1xuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IxLmcudGFyZ2V0ID0gcmFuZG9tUmFuZ2UoMC4yLCAxLjApO1xuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuY29sb3IxLmIudGFyZ2V0ID0gcmFuZG9tUmFuZ2UoMC4yLCAxLjApO1xuXG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuci50YXJnZXQgPSByYW5kb21SYW5nZSgwLjIsIDEuMCk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuZy50YXJnZXQgPSByYW5kb21SYW5nZSgwLjIsIDEuMCk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuYi50YXJnZXQgPSByYW5kb21SYW5nZSgwLjIsIDEuMCk7XG5cbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5yLnRhcmdldCA9IHJhbmRvbVJhbmdlKDAuMiwgMS4wKTtcbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5nLnRhcmdldCA9IHJhbmRvbVJhbmdlKDAuMiwgMS4wKTtcbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmNvbG9yMy5iLnRhcmdldCA9IHJhbmRvbVJhbmdlKDAuMiwgMS4wKTtcblxuICAgICAgICAgICAgLy8gRm9nIGNvbG9ycyBzaG91bGQgZ2VuZXJhbGx5IGJlIGRhcmtlclxuICAgICAgICAgICAgc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3Iuci50YXJnZXQgPSByYW5kb21SYW5nZSgwLjAsIDAuMyk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5nLnRhcmdldCA9IHJhbmRvbVJhbmdlKDAuMCwgMC4yKTtcbiAgICAgICAgICAgIHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLmIudGFyZ2V0ID0gcmFuZG9tUmFuZ2UoMC4wLCAwLjQpO1xuXG4gICAgICAgICAgICAvLyBHbG93IGNvbG9ycyBjYW4gYmUgYSBiaXQgbW9yZSB2aWJyYW50IGJ1dCBzdGlsbCBzb21ld2hhdCBjb250cm9sbGVkXG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3Iuci50YXJnZXQgPSByYW5kb21SYW5nZSgwLjEsIDAuNSk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3IuZy50YXJnZXQgPSByYW5kb21SYW5nZSgwLjEsIDAuNCk7XG4gICAgICAgICAgICBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3IuYi50YXJnZXQgPSByYW5kb21SYW5nZSgwLjEsIDAuNik7XG5cbiAgICAgICAgICAgIGlmIChkZWJ1Z09wdGlvbnMuc2hvdWxkTG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtDT0xPUiBDSEFOR0VdIE5ldyB0cmFuc2llbnQgdHJpZ2dlcmVkIHJhbmRvbSBjb2xvciBnZW5lcmF0aW9uIGF0ICR7bm93fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRyYW5zaWVudENvbG9yQ2hhbmdlVGltZSA9IG5vdzsgLy8gUmVjb3JkIHRoZSB0aW1lIG9mIHRoaXMgY29sb3IgY2hhbmdlXG4gICAgfVxuICAgIC8vIC0tLSBFbmQgQ29sb3IgQ2hhbmdlIExvZ2ljIC0tLVxuXG4gICAgLy8gLS0tIENhbWVyYSBTcGVlZCBMb2dpYyAtLS1cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgZHluYW1pYyB2YWx1ZXMgZnJvbSBzbW9vdGhlZFZhbHVlc1xuICAgIGNvbnN0IGJhc2VDYW1lcmFTcGVlZCA9IHNtb290aGVkVmFsdWVzLmJhc2VDYW1lcmFTcGVlZC5jdXJyZW50O1xuICAgIGNvbnN0IG1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3IgPSBzbW9vdGhlZFZhbHVlcy5tYXhDYW1lcmFTcGVlZEJvb3N0RmFjdG9yLmN1cnJlbnQ7XG4gICAgY29uc3QgdHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdCA9IHNtb290aGVkVmFsdWVzLnRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3QuY3VycmVudDtcbiAgICBjb25zdCBlbmVyZ3lCb29zdEZhY3RvciA9IHNtb290aGVkVmFsdWVzLmVuZXJneUJvb3N0RmFjdG9yLmN1cnJlbnQ7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHNwZWVkIHRoZSBjYW1lcmEgKndvdWxkKiBpZGVhbGx5IGdvIHRvIGJhc2VkIG9uIGN1cnJlbnQgdHJhbnNpZW50c1xuICAgIGxldCBpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQgPSBiYXNlQ2FtZXJhU3BlZWQ7XG4gICAgY29uc3QgZW5lcmd5Qm9vc3QgPSByYXdVbmlmb3Jtcy5lbmVyZ3kgKiBlbmVyZ3lCb29zdEZhY3RvcjsgLy8gQXBwbHkgdGhlIGFkanVzdGFibGUgZW5lcmd5Qm9vc3RGYWN0b3JcblxuICAgIC8vIElmIGF1ZGlvIGp1c3Qgc3RhcnRlZCBwbGF5aW5nLCBnaXZlIGFuIGluaXRpYWwgYWNjZWxlcmF0aW9uIGJvb3N0XG4gICAgaWYgKGlzUGxheWluZyAmJiAhbGFzdFBsYXlpbmdTdGF0ZSkge1xuICAgICAgICBpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQgPSBiYXNlQ2FtZXJhU3BlZWQgKiAyLjA7IC8vIEluaXRpYWwgYWNjZWxlcmF0aW9uIHdoZW4gcGxheWJhY2sgc3RhcnRzXG4gICAgICAgIGlmIChkZWJ1Z09wdGlvbnMuc2hvdWxkTG9nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW0NBTUVSQSBTUEVFRF0gUGxheWJhY2sgc3RhcnRlZCAtIGluaXRpYWwgYWNjZWxlcmF0aW9uIGJvb3N0IGFwcGxpZWRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsYXN0UGxheWluZ1N0YXRlID0gaXNQbGF5aW5nO1xuXG4gICAgaWYgKHRyYW5zaWVudFN0cmVuZ3RoID4gdHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdCkge1xuICAgICAgICAvLyBNYXAgdHJhbnNpZW50IHN0cmVuZ3RoIChhYm92ZSB0aHJlc2hvbGQpIHRvIGEgYm9vc3QgbXVsdGlwbGllclxuICAgICAgICAvLyB0cmFuc2llbnRFZmZlY3Qgd2lsbCBiZSAwIHdoZW4gdHJhbnNpZW50U3RyZW5ndGggaXMgYXQgdGhyZXNob2xkLCB1cCB0byAxXG4gICAgICAgIGNvbnN0IGVmZmVjdFJhbmdlID0gMS4wIC0gdHJhbnNpZW50VGhyZXNob2xkRm9yU3BlZWRCb29zdDtcbiAgICAgICAgLy8gRW5zdXJlIGVmZmVjdFJhbmdlIGlzIG5vdCB6ZXJvIHRvIHByZXZlbnQgZGl2aXNpb24gYnkgemVybyBpZiB0aHJlc2hvbGQgaXMgMS4wXG4gICAgICAgIGNvbnN0IHNhZmVFZmZlY3RSYW5nZSA9IE1hdGgubWF4KGVmZmVjdFJhbmdlLCAwLjAwMDEpO1xuICAgICAgICBjb25zdCB0cmFuc2llbnRFZmZlY3QgPSBNYXRoLm1pbigxLjAsICh0cmFuc2llbnRTdHJlbmd0aCAtIHRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3QpIC8gc2FmZUVmZmVjdFJhbmdlKTtcblxuICAgICAgICAvLyBUaGUgYm9vc3QgZmFjdG9yIHNjYWxlcyBmcm9tIDEuMCAobm8gYm9vc3QpIHRvIG1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3JcbiAgICAgICAgY29uc3QgY3VycmVudEJvb3N0RmFjdG9yID0gMS4wICsgdHJhbnNpZW50RWZmZWN0ICogKG1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3IgLSAxLjApO1xuXG4gICAgICAgIC8vIENvbWJpbmUgdHJhbnNpZW50LWJhc2VkIHNwZWVkIHdpdGggZW5lcmd5LWJhc2VkIGJvb3N0XG4gICAgICAgIGluc3RhbnRhbmVvdXNUYXJnZXRTcGVlZCA9IGJhc2VDYW1lcmFTcGVlZCAqIGN1cnJlbnRCb29zdEZhY3RvciArIGVuZXJneUJvb3N0O1xuXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgcHVsc2UgYm9vc3Qgb24gc3Ryb25nIHRyYW5zaWVudHNcbiAgICAgICAgaWYgKHRyYW5zaWVudFN0cmVuZ3RoID4gMC40KSB7XG4gICAgICAgICAgICBpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQgKj0gMS4yOyAvLyBFeHRyYSBib29zdCBmb3Igc3Ryb25nIGJlYXRzXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFdmVuIHdpdGhvdXQgdHJhbnNpZW50cywgbGV0IGVuZXJneSBpbmZsdWVuY2UgdGhlIHNwZWVkIHNvbWV3aGF0LCBidXQgd2l0aCByZWR1Y2VkIGVmZmVjdFxuICAgICAgICBpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQgKz0gZW5lcmd5Qm9vc3Q7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGNhbWVyYSBuZXZlciBnb2VzIGJlbG93IGJhc2VDYW1lcmFTcGVlZCAobmV2ZXIgZ29lcyBiYWNrd2FyZClcbiAgICBpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQgPSBNYXRoLm1heChpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQsIGJhc2VDYW1lcmFTcGVlZCk7XG5cbiAgICAvLyBGb3Igc21vb3RoaW5nLCB1c2UgZWl0aGVyIGN1cnJlbnQgc3BlZWQgb3IgbmV3IHRhcmdldCwgd2hpY2hldmVyIGlzIGhpZ2hlclxuICAgIC8vIFRoaXMgZW5zdXJlcyB3ZSBuZXZlciBkZWNlbGVyYXRlIGJlbG93IG91ciBjdXJyZW50IHNwZWVkIChubyBiYWNrd2FyZCBtb3Rpb24pXG4gICAgY29uc3QgZmluYWxUYXJnZXRTcGVlZEZvclNtb290aGluZyA9IE1hdGgubWF4KFxuICAgICAgICBzbW9vdGhlZFZhbHVlcy5jYW1lcmFTcGVlZC5jdXJyZW50LCAvLyBUaGUgY3VycmVudCBhY3R1YWwgc3BlZWRcbiAgICAgICAgaW5zdGFudGFuZW91c1RhcmdldFNwZWVkICAgICAgICAgICAgLy8gVGhlIGRlc2lyZWQgc3BlZWQgYmFzZWQgb24gY3VycmVudCBhdWRpb1xuICAgICk7XG5cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgc21vb3RoaW5nIGR1cmF0aW9uIGZyb20gc3RhdGVcbiAgICBjb25zdCBjYW1lcmFTcGVlZFNtb290aGluZ0R1cmF0aW9uID0gc21vb3RoZWRWYWx1ZXMuY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbi5jdXJyZW50O1xuXG4gICAgLy8gQXBwbHkgc21vb3RoaW5nIHRvIGNhbWVyYSBzcGVlZCAtIHRoaXMgc21vb3RocyBhY2NlbGVyYXRpb24gb25seVxuICAgIGNvbnN0IHNtb290aGVkQ2FtZXJhU3BlZWQgPSBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShcbiAgICAgICAgc21vb3RoZWRWYWx1ZXMuY2FtZXJhU3BlZWQsICAgICAgICAgLy8gVGhlIHN0YXRlIG9iamVjdCBmb3IgY2FtZXJhU3BlZWRcbiAgICAgICAgZmluYWxUYXJnZXRTcGVlZEZvclNtb290aGluZywgICAgICAgLy8gVGhlIG5ldyB0YXJnZXQsIHdoaWNoIHdvbid0IGNhdXNlIGRlY2VsZXJhdGlvblxuICAgICAgICBub3csXG4gICAgICAgIGNhbWVyYVNwZWVkU21vb3RoaW5nRHVyYXRpb25cbiAgICApO1xuXG4gICAgLy8gTG9nIGNhbWVyYSBzcGVlZCBjaGFuZ2VzIChldmVyeSB+NjAgZnJhbWVzKVxuICAgIGlmIChkZWJ1Z09wdGlvbnMuc2hvdWxkTG9nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbQ0FNRVJBIFNQRUVEXSBUcmFuc2llbnQ6ICR7dHJhbnNpZW50U3RyZW5ndGgudG9GaXhlZCgyKX0sIFRhcmdldDogJHtpbnN0YW50YW5lb3VzVGFyZ2V0U3BlZWQudG9GaXhlZCgyKX0sIEZpbmFsOiAke3Ntb290aGVkQ2FtZXJhU3BlZWQudG9GaXhlZCgyKX1gKTtcbiAgICB9XG4gICAgLy8gLS0tIEVuZCBDYW1lcmEgU3BlZWQgTG9naWMgLS0tXG5cbiAgICAvLyBBcHBseSBzbW9vdGhpbmcgdG8gdGhlIHVuaWZvcm1zIHdpdGggZHluYW1pYyBzbW9vdGhpbmcgZHVyYXRpb25zXG4gICAgY29uc3Qgc21vb3RoaW5nRHVyYXRpb24gPSBzbW9vdGhlZFZhbHVlcy5zbW9vdGhpbmdEdXJhdGlvbi5jdXJyZW50O1xuICAgIGNvbnN0IGNvbG9yU21vb3RoaW5nRHVyYXRpb24gPSBzbW9vdGhlZFZhbHVlcy5jb2xvclNtb290aGluZ0R1cmF0aW9uLmN1cnJlbnQ7XG5cbiAgICBjb25zdCBzbW9vdGhlZFNjYWxhclVuaWZvcm1zID0ge1xuICAgICAgICBlbmVyZ3k6IGdldFNtb290aFZhbHVlKCdlbmVyZ3knLCByYXdVbmlmb3Jtcy5lbmVyZ3ksIG5vdyksXG4gICAgICAgIGxvd0VuZXJneTogZ2V0U21vb3RoVmFsdWUoJ2xvd0VuZXJneScsIHJhd1VuaWZvcm1zLmxvd0VuZXJneSwgbm93KSxcbiAgICAgICAgaGlnaEVuZXJneTogZ2V0U21vb3RoVmFsdWUoJ2hpZ2hFbmVyZ3knLCByYXdVbmlmb3Jtcy5oaWdoRW5lcmd5LCBub3cpLFxuICAgICAgICB0cmFuc2llbnRzOiBnZXRTbW9vdGhWYWx1ZSgndHJhbnNpZW50cycsIHJhd1VuaWZvcm1zLnRyYW5zaWVudHMsIG5vdyksXG4gICAgICAgIHRpbWU6IGN1cnJlbnRUaW1lLFxuICAgICAgICAvLyBBZGQgdGhlc2UgbmV3IHBhcmFtZXRlcnNcbiAgICAgICAgdHJhbnNpZW50RWZmZWN0OiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy50cmFuc2llbnRFZmZlY3QsIHNtb290aGVkVmFsdWVzLnRyYW5zaWVudEVmZmVjdC50YXJnZXQsIG5vdywgc21vb3RoaW5nRHVyYXRpb24pLFxuICAgICAgICBjb2xvckludGVuc2l0eTogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuY29sb3JJbnRlbnNpdHksIHNtb290aGVkVmFsdWVzLmNvbG9ySW50ZW5zaXR5LnRhcmdldCwgbm93LCBzbW9vdGhpbmdEdXJhdGlvbiksXG4gICAgICAgIGVuZXJneUNhbWVyYUVmZmVjdDogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuZW5lcmd5Q2FtZXJhRWZmZWN0LCBzbW9vdGhlZFZhbHVlcy5lbmVyZ3lDYW1lcmFFZmZlY3QudGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgZW5lcmd5Q29sb3JFZmZlY3Q6IGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLmVuZXJneUNvbG9yRWZmZWN0LCBzbW9vdGhlZFZhbHVlcy5lbmVyZ3lDb2xvckVmZmVjdC50YXJnZXQsIG5vdywgc21vb3RoaW5nRHVyYXRpb24pLFxuICAgICAgICB0cmFuc2llbnRDYW1lcmFFZmZlY3Q6IGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLnRyYW5zaWVudENhbWVyYUVmZmVjdCwgc21vb3RoZWRWYWx1ZXMudHJhbnNpZW50Q2FtZXJhRWZmZWN0LnRhcmdldCwgbm93LCBzbW9vdGhpbmdEdXJhdGlvbiksXG4gICAgICAgIHRyYW5zaWVudENvbG9yRWZmZWN0OiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy50cmFuc2llbnRDb2xvckVmZmVjdCwgc21vb3RoZWRWYWx1ZXMudHJhbnNpZW50Q29sb3JFZmZlY3QudGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgLy8gQWRkIHRoZSBicmVhdGhpbmcgcGFyYW1ldGVyc1xuICAgICAgICBicmVhdGhpbmdSYXRlOiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5icmVhdGhpbmdSYXRlLCBzbW9vdGhlZFZhbHVlcy5icmVhdGhpbmdSYXRlLnRhcmdldCwgbm93LCBzbW9vdGhpbmdEdXJhdGlvbiksXG4gICAgICAgIGJyZWF0aGluZ0Ftb3VudDogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuYnJlYXRoaW5nQW1vdW50LCBzbW9vdGhlZFZhbHVlcy5icmVhdGhpbmdBbW91bnQudGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgLy8gQWRkIG5ldyBjYW1lcmEgbW92ZW1lbnQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgIGJhc2VDYW1lcmFTcGVlZDogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuYmFzZUNhbWVyYVNwZWVkLCBzbW9vdGhlZFZhbHVlcy5iYXNlQ2FtZXJhU3BlZWQudGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgbWF4Q2FtZXJhU3BlZWRCb29zdEZhY3RvcjogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMubWF4Q2FtZXJhU3BlZWRCb29zdEZhY3Rvciwgc21vb3RoZWRWYWx1ZXMubWF4Q2FtZXJhU3BlZWRCb29zdEZhY3Rvci50YXJnZXQsIG5vdywgc21vb3RoaW5nRHVyYXRpb24pLFxuICAgICAgICB0cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0OiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy50cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0LCBzbW9vdGhlZFZhbHVlcy50cmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0LnRhcmdldCwgbm93LCBzbW9vdGhpbmdEdXJhdGlvbiksXG4gICAgICAgIGVuZXJneUJvb3N0RmFjdG9yOiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5lbmVyZ3lCb29zdEZhY3Rvciwgc21vb3RoZWRWYWx1ZXMuZW5lcmd5Qm9vc3RGYWN0b3IudGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbjogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbiwgc21vb3RoZWRWYWx1ZXMuY2FtZXJhU3BlZWRTbW9vdGhpbmdEdXJhdGlvbi50YXJnZXQsIG5vdywgc21vb3RoaW5nRHVyYXRpb24pLFxuICAgICAgICBjb2xvclNtb290aGluZ0R1cmF0aW9uOiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5jb2xvclNtb290aGluZ0R1cmF0aW9uLCBzbW9vdGhlZFZhbHVlcy5jb2xvclNtb290aGluZ0R1cmF0aW9uLnRhcmdldCwgbm93LCBzbW9vdGhpbmdEdXJhdGlvbiksXG4gICAgICAgIHNtb290aGluZ0R1cmF0aW9uOiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5zbW9vdGhpbmdEdXJhdGlvbiwgc21vb3RoZWRWYWx1ZXMuc21vb3RoaW5nRHVyYXRpb24udGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgLy8gQWRkIGNvbG9yIG1vZGUgdG9nZ2xlXG4gICAgICAgIHVzZUNvbG9yQ29udHJvbHM6IGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLnVzZUNvbG9yQ29udHJvbHMsIHNtb290aGVkVmFsdWVzLnVzZUNvbG9yQ29udHJvbHMudGFyZ2V0LCBub3csIHNtb290aGluZ0R1cmF0aW9uKVxuICAgIH07XG5cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgY29sb3IgaW50ZW5zaXR5IGZvciBhbXBsaWZ5aW5nIGNvbG9yc1xuICAgIGNvbnN0IGNvbG9ySW50ZW5zaXR5ID0gc21vb3RoZWRWYWx1ZXMuY29sb3JJbnRlbnNpdHkuY3VycmVudDtcblxuICAgIC8vIEdldCBzbW9vdGhlZCBjb2xvciB2YWx1ZXMgYnkgZGlyZWN0bHkgY2FsbGluZyBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZSBmb3IgZWFjaCBjb21wb25lbnRcbiAgICAvLyBBcHBseSBjb2xvckludGVuc2l0eSB0byBhbXBsaWZ5IHRoZSBjb2xvciB2YWx1ZXMsIHVzaW5nIHRoZSBkeW5hbWljIGNvbG9yU21vb3RoaW5nRHVyYXRpb25cbiAgICBjb25zdCB1Q29sb3IxID0ge1xuICAgICAgICByOiBNYXRoLm1pbigxLjAsIGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLmNvbG9yMS5yLCBzbW9vdGhlZFZhbHVlcy5jb2xvcjEuci50YXJnZXQsIG5vdywgY29sb3JTbW9vdGhpbmdEdXJhdGlvbikgKiBjb2xvckludGVuc2l0eSAqIDEuNSksXG4gICAgICAgIGc6IE1hdGgubWluKDEuMCwgZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuY29sb3IxLmcsIHNtb290aGVkVmFsdWVzLmNvbG9yMS5nLnRhcmdldCwgbm93LCBjb2xvclNtb290aGluZ0R1cmF0aW9uKSAqIGNvbG9ySW50ZW5zaXR5ICogMS41KSxcbiAgICAgICAgYjogTWF0aC5taW4oMS4wLCBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5jb2xvcjEuYiwgc21vb3RoZWRWYWx1ZXMuY29sb3IxLmIudGFyZ2V0LCBub3csIGNvbG9yU21vb3RoaW5nRHVyYXRpb24pICogY29sb3JJbnRlbnNpdHkgKiAxLjUpXG4gICAgfTtcbiAgICBjb25zdCB1Q29sb3IyID0ge1xuICAgICAgICByOiBNYXRoLm1pbigxLjAsIGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLmNvbG9yMi5yLCBzbW9vdGhlZFZhbHVlcy5jb2xvcjIuci50YXJnZXQsIG5vdywgY29sb3JTbW9vdGhpbmdEdXJhdGlvbikgKiBjb2xvckludGVuc2l0eSAqIDEuNSksXG4gICAgICAgIGc6IE1hdGgubWluKDEuMCwgZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuY29sb3IyLmcsIHNtb290aGVkVmFsdWVzLmNvbG9yMi5nLnRhcmdldCwgbm93LCBjb2xvclNtb290aGluZ0R1cmF0aW9uKSAqIGNvbG9ySW50ZW5zaXR5ICogMS41KSxcbiAgICAgICAgYjogTWF0aC5taW4oMS4wLCBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5jb2xvcjIuYiwgc21vb3RoZWRWYWx1ZXMuY29sb3IyLmIudGFyZ2V0LCBub3csIGNvbG9yU21vb3RoaW5nRHVyYXRpb24pICogY29sb3JJbnRlbnNpdHkgKiAxLjUpXG4gICAgfTtcbiAgICBjb25zdCB1Q29sb3IzID0ge1xuICAgICAgICByOiBNYXRoLm1pbigxLjAsIGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLmNvbG9yMy5yLCBzbW9vdGhlZFZhbHVlcy5jb2xvcjMuci50YXJnZXQsIG5vdywgY29sb3JTbW9vdGhpbmdEdXJhdGlvbikgKiBjb2xvckludGVuc2l0eSAqIDEuNSksXG4gICAgICAgIGc6IE1hdGgubWluKDEuMCwgZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuY29sb3IzLmcsIHNtb290aGVkVmFsdWVzLmNvbG9yMy5nLnRhcmdldCwgbm93LCBjb2xvclNtb290aGluZ0R1cmF0aW9uKSAqIGNvbG9ySW50ZW5zaXR5ICogMS41KSxcbiAgICAgICAgYjogTWF0aC5taW4oMS4wLCBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5jb2xvcjMuYiwgc21vb3RoZWRWYWx1ZXMuY29sb3IzLmIudGFyZ2V0LCBub3csIGNvbG9yU21vb3RoaW5nRHVyYXRpb24pICogY29sb3JJbnRlbnNpdHkgKiAxLjUpXG4gICAgfTtcbiAgICBjb25zdCB1Rm9nQ29sb3IgPSB7XG4gICAgICAgIHI6IGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLnIsIHNtb290aGVkVmFsdWVzLmZvZ0NvbG9yLnIudGFyZ2V0LCBub3csIGNvbG9yU21vb3RoaW5nRHVyYXRpb24pLFxuICAgICAgICBnOiBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5nLCBzbW9vdGhlZFZhbHVlcy5mb2dDb2xvci5nLnRhcmdldCwgbm93LCBjb2xvclNtb290aGluZ0R1cmF0aW9uKSxcbiAgICAgICAgYjogZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3IuYiwgc21vb3RoZWRWYWx1ZXMuZm9nQ29sb3IuYi50YXJnZXQsIG5vdywgY29sb3JTbW9vdGhpbmdEdXJhdGlvbilcbiAgICB9O1xuICAgIGNvbnN0IHVHbG93Q29sb3IgPSB7XG4gICAgICAgIHI6IE1hdGgubWluKDEuMCwgZ2V0U21vb3RoQ29tcG9uZW50VmFsdWUoc21vb3RoZWRWYWx1ZXMuZ2xvd0NvbG9yLnIsIHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5yLnRhcmdldCwgbm93LCBjb2xvclNtb290aGluZ0R1cmF0aW9uKSAqIGNvbG9ySW50ZW5zaXR5ICogMS41KSxcbiAgICAgICAgZzogTWF0aC5taW4oMS4wLCBnZXRTbW9vdGhDb21wb25lbnRWYWx1ZShzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3IuZywgc21vb3RoZWRWYWx1ZXMuZ2xvd0NvbG9yLmcudGFyZ2V0LCBub3csIGNvbG9yU21vb3RoaW5nRHVyYXRpb24pICogY29sb3JJbnRlbnNpdHkgKiAxLjUpLFxuICAgICAgICBiOiBNYXRoLm1pbigxLjAsIGdldFNtb290aENvbXBvbmVudFZhbHVlKHNtb290aGVkVmFsdWVzLmdsb3dDb2xvci5iLCBzbW9vdGhlZFZhbHVlcy5nbG93Q29sb3IuYi50YXJnZXQsIG5vdywgY29sb3JTbW9vdGhpbmdEdXJhdGlvbikgKiBjb2xvckludGVuc2l0eSAqIDEuNSlcbiAgICB9O1xuXG4gICAgY29uc3Qgc21vb3RoZWRVbmlmb3JtcyA9IHtcbiAgICAgICAgLi4uc21vb3RoZWRTY2FsYXJVbmlmb3JtcyxcbiAgICAgICAgdUNvbG9yMSxcbiAgICAgICAgdUNvbG9yMixcbiAgICAgICAgdUNvbG9yMyxcbiAgICAgICAgdUZvZ0NvbG9yLFxuICAgICAgICB1R2xvd0NvbG9yLFxuICAgICAgICBjYW1lcmFTcGVlZDogc21vb3RoZWRDYW1lcmFTcGVlZCAvLyBBZGQgc21vb3RoZWQgY2FtZXJhIHNwZWVkXG4gICAgfTtcblxuICAgIC8vIE9wdGlvbmFsIGRlYnVnIGxvZ2dpbmcgZm9yIGJyZWF0aGluZyBwYXJhbWV0ZXJzIChldmVyeSA2MCBmcmFtZXMpXG4gICAgaWYgKGRlYnVnT3B0aW9ucy5zaG91bGRMb2cpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtVTklGT1JNIERFQlVHXSBCcmVhdGhpbmcgcGFyYW1ldGVyczpgLFxuICAgICAgICAgICAgYHJhdGU6ICR7c21vb3RoZWRVbmlmb3Jtcy5icmVhdGhpbmdSYXRlLnRvRml4ZWQoMil9ICh0YXJnZXQ6ICR7c21vb3RoZWRWYWx1ZXMuYnJlYXRoaW5nUmF0ZS50YXJnZXQudG9GaXhlZCgyKX0pLCBgICtcbiAgICAgICAgICAgIGBhbW91bnQ6ICR7c21vb3RoZWRVbmlmb3Jtcy5icmVhdGhpbmdBbW91bnQudG9GaXhlZCgyKX0gKHRhcmdldDogJHtzbW9vdGhlZFZhbHVlcy5icmVhdGhpbmdBbW91bnQudGFyZ2V0LnRvRml4ZWQoMil9KWApO1xuICAgIH1cblxuICAgIC8vIE9wdGlvbmFsIGRlYnVnIGxvZ2dpbmdcbiAgICBpZiAoZGVidWdPcHRpb25zLnNob3VsZExvZykge1xuICAgICAgICBjb25zb2xlLmxvZyhgW1VOSUZPUk0gREVCVUddIFRpbWU6ICR7Y3VycmVudFRpbWUudG9GaXhlZCgyKX1zLCBVbmlmb3JtczpgLFxuICAgICAgICAgICAgYGVuZXJneTogJHtzbW9vdGhlZFVuaWZvcm1zLmVuZXJneS50b0ZpeGVkKDIpfSAocmF3OiAke3Jhd1VuaWZvcm1zLmVuZXJneS50b0ZpeGVkKDIpfSksIGAgK1xuICAgICAgICAgICAgYGxvd0VuZXJneTogJHtzbW9vdGhlZFVuaWZvcm1zLmxvd0VuZXJneS50b0ZpeGVkKDIpfSAocmF3OiAke3Jhd1VuaWZvcm1zLmxvd0VuZXJneS50b0ZpeGVkKDIpfSksIGAgK1xuICAgICAgICAgICAgYGhpZ2hFbmVyZ3k6ICR7c21vb3RoZWRVbmlmb3Jtcy5oaWdoRW5lcmd5LnRvRml4ZWQoMil9IChyYXc6ICR7cmF3VW5pZm9ybXMuaGlnaEVuZXJneS50b0ZpeGVkKDIpfSksIGAgK1xuICAgICAgICAgICAgYHRyYW5zaWVudHM6ICR7c21vb3RoZWRVbmlmb3Jtcy50cmFuc2llbnRzLnRvRml4ZWQoMil9IChyYXc6ICR7cmF3VW5pZm9ybXMudHJhbnNpZW50cy50b0ZpeGVkKDIpfSlgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc21vb3RoZWRVbmlmb3Jtcztcbn1cblxuLyoqXG4gKiBHZXQgY3VycmVudCBhdWRpbyBzdGF0ZSBmcm9tIEF1ZGlvQW5hbHlzaXNNYW5hZ2VyIG9yIGZyb20gcGFzc2VkIHByb3BzXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdmlkZWRBdWRpb1N0YXRlIC0gT3B0aW9uYWwgYXVkaW8gc3RhdGUgcGFzc2VkIGRpcmVjdGx5XG4gKiBAcmV0dXJucyB7T2JqZWN0fSAtIENvbWJpbmVkIGF1ZGlvIHN0YXRlXG4gKi9cbmZ1bmN0aW9uIGdldEF1ZGlvU3RhdGUocHJvdmlkZWRBdWRpb1N0YXRlID0ge30pIHtcbiAgICAvLyBHZXQgY3VycmVudCBzdGF0ZSBmcm9tIHRoZSBzaW5nbGV0b25cbiAgICBjb25zdCBtYW5hZ2VyU3RhdGUgPSBBdWRpb0FuYWx5c2lzTWFuYWdlci5nZXRTdGF0ZSgpO1xuXG4gICAgLy8gVXNlIHByb3ZpZGVkIHZhbHVlcyBpZiB0aGV5IGV4aXN0LCBvdGhlcndpc2UgdXNlIG1hbmFnZXIgdmFsdWVzXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYW5hbHlzaXM6IHByb3ZpZGVkQXVkaW9TdGF0ZS5hbmFseXNpcyB8fCBtYW5hZ2VyU3RhdGUuYXVkaW9BbmFseXNpcyxcbiAgICAgICAgY3VycmVudFRpbWU6IHByb3ZpZGVkQXVkaW9TdGF0ZS5jdXJyZW50VGltZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIHByb3ZpZGVkQXVkaW9TdGF0ZS5jdXJyZW50VGltZSA6IG1hbmFnZXJTdGF0ZS5jdXJyZW50VGltZSxcbiAgICAgICAgaXNQbGF5aW5nOiBwcm92aWRlZEF1ZGlvU3RhdGUuaXNQbGF5aW5nICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgcHJvdmlkZWRBdWRpb1N0YXRlLmlzUGxheWluZyA6IG1hbmFnZXJTdGF0ZS5pc1BsYXlpbmdcbiAgICB9O1xufVxuXG4vKipcbiAqIE1haW4gdXBkYXRlIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyBib3RoIGFuaW1hdGlvbiBhbmQgYXVkaW8gcHJvY2Vzc2luZyBpbiBvbmUgbG9vcFxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFBhcmFtZXRlcnMgZm9yIHRoZSB1cGRhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBwYXJhbXMuZ2wgLSBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zLnNoYWRlclByb2dyYW0gLSBUaGUgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMuYnVmZmVycyAtIEdQVSBidWZmZXJzIGZvciBnZW9tZXRyeVxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zLnJlc29sdXRpb24gLSBDYW52YXMgcmVzb2x1dGlvbiBbd2lkdGgsIGhlaWdodF1cbiAqIEBwYXJhbSB7RGF0ZX0gcGFyYW1zLnN0YXJ0VGltZSAtIEFuaW1hdGlvbiBzdGFydCB0aW1lXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zLmF1ZGlvU3RhdGUgLSBPcHRpb25hbCBvdmVycmlkZSBmb3IgYXVkaW8gc3RhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhcmFtcy5vblVwZGF0ZVVuaWZvcm1zIC0gQ2FsbGJhY2sgd2hlbiB1bmlmb3JtcyBhcmUgdXBkYXRlZFxuICogQHJldHVybnMge09iamVjdH0gLSBDdXJyZW50IHN0YXRlIGluY2x1ZGluZyB0aW1lLCBGUFMsIGV0Yy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUZyYW1lKHtcbiAgICBnbCxcbiAgICBzaGFkZXJQcm9ncmFtLFxuICAgIGJ1ZmZlcnMsXG4gICAgcmVzb2x1dGlvbixcbiAgICBzdGFydFRpbWUsXG4gICAgYXVkaW9TdGF0ZSxcbiAgICBmcmFtZUNvdW50LFxuICAgIG9uVXBkYXRlVW5pZm9ybXNcbn0pIHtcbiAgICAvLyBTYWZldHkgY2hlY2tzXG4gICAgaWYgKCFnbCB8fCAhc2hhZGVyUHJvZ3JhbSB8fCAhc2hhZGVyUHJvZ3JhbS51c2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbU0hBREVSIFVQREFURV0gTWlzc2luZyByZXF1aXJlZCBXZWJHTCBjb250ZXh0IG9yIHNoYWRlciBwcm9ncmFtJyk7XG4gICAgICAgIHJldHVybiB7IGZyYW1lQ291bnQ6IGZyYW1lQ291bnQgKyAxLCB0aW1lOiAwLCBhdWRpb1VuaWZvcm1zOiB7fSB9O1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgbmV3RnJhbWVDb3VudCA9IGZyYW1lQ291bnQgKyAxO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGFuaW1hdGlvbiB0aW1lIChlbGFwc2VkIHRpbWUgc2luY2Ugc3RhcnQpXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvblRpbWUgPSAobm93IC0gKHN0YXJ0VGltZSB8fCBub3cpKSAvIDEwMDA7XG5cbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgYXVkaW8gc3RhdGUgLSBjb21iaW5pbmcgc2luZ2xldG9uIHN0YXRlIHdpdGggYW55IHBhc3NlZCBwcm9wc1xuICAgICAgICBjb25zdCBjb21iaW5lZEF1ZGlvU3RhdGUgPSBnZXRBdWRpb1N0YXRlKGF1ZGlvU3RhdGUpO1xuXG4gICAgICAgIC8vIExvZyB0aGUgY29tYmluZWQgc3RhdGUgb2NjYXNpb25hbGx5IGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWYgKG5ld0ZyYW1lQ291bnQgJSAxMjAgPT09IDApIHsgIC8vIEV2ZXJ5IH4yIHNlY29uZHMgYXQgNjBmcHNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU0hBREVSIEFVRElPIFNUQVRFXSBDb21iaW5lZCBhdWRpbyBzdGF0ZTpgLFxuICAgICAgICAgICAgICAgIGBpc1BsYXlpbmc6ICR7Y29tYmluZWRBdWRpb1N0YXRlLmlzUGxheWluZ30sIGAsXG4gICAgICAgICAgICAgICAgYGN1cnJlbnRUaW1lOiAke2NvbWJpbmVkQXVkaW9TdGF0ZS5jdXJyZW50VGltZX0sIGAsXG4gICAgICAgICAgICAgICAgYGFuYWx5c2lzOiAke2NvbWJpbmVkQXVkaW9TdGF0ZS5hbmFseXNpcyA/ICdhdmFpbGFibGUnIDogJ25vbmUnfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXVkaW9Vbmlmb3JtcyA9IHVwZGF0ZUF1ZGlvVW5pZm9ybXMoXG4gICAgICAgICAgICBjb21iaW5lZEF1ZGlvU3RhdGUuYW5hbHlzaXMsXG4gICAgICAgICAgICBjb21iaW5lZEF1ZGlvU3RhdGUuY3VycmVudFRpbWUgfHwgMCxcbiAgICAgICAgICAgIGNvbWJpbmVkQXVkaW9TdGF0ZS5pc1BsYXlpbmcgfHwgZmFsc2UsXG4gICAgICAgICAgICB7IHNob3VsZExvZzogbmV3RnJhbWVDb3VudCAlIDYwID09PSAwIH0gLy8gTG9nIGV2ZXJ5IH4xIHNlY29uZCBhdCA2MGZwc1xuICAgICAgICApO1xuXG4gICAgICAgIC8vIE5vdGlmeSBwYXJlbnQgY29tcG9uZW50IG9mIHVwZGF0ZWQgdW5pZm9ybXMgaWYgbmVlZGVkXG4gICAgICAgIGlmICh0eXBlb2Ygb25VcGRhdGVVbmlmb3JtcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvblVwZGF0ZVVuaWZvcm1zKGF1ZGlvVW5pZm9ybXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoY2FsbGJhY2tFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTSEFERVIgVVBEQVRFXSBFcnJvciBpbiBvblVwZGF0ZVVuaWZvcm1zIGNhbGxiYWNrOicsIGNhbGxiYWNrRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICAgICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICAvLyBVc2Ugc2hhZGVyIHByb2dyYW1cbiAgICAgICAgc2hhZGVyUHJvZ3JhbS51c2UoKTtcblxuICAgICAgICAvLyBTZXQgc3RhbmRhcmQgdW5pZm9ybXMgLSBzYWZlbHkgaGFuZGxlIG1pc3NpbmcgcmVzb2x1dGlvbiB2YWx1ZXNcbiAgICAgICAgY29uc3Qgc2FmZVJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IFsxLCAxXTtcbiAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VUaW1lJywgYW5pbWF0aW9uVGltZSk7XG4gICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTJmKCd1UmVzb2x1dGlvbicsIHNhZmVSZXNvbHV0aW9uWzBdIHx8IDEsIHNhZmVSZXNvbHV0aW9uWzFdIHx8IDEpO1xuXG4gICAgICAgIC8vIFNldCBhdWRpbyB1bmlmb3JtcyBzYWZlbHkgLSB0aGVzZSB3aWxsIGJlIHNtb290aGx5IGludGVycG9sYXRlZCBub3dcbiAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMpIHtcbiAgICAgICAgICAgIGlmIChhdWRpb1VuaWZvcm1zLmVuZXJneSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VFbmVyZ3knLCBhdWRpb1VuaWZvcm1zLmVuZXJneSk7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ2VuZXJneScsIGF1ZGlvVW5pZm9ybXMuZW5lcmd5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb1VuaWZvcm1zLmxvd0VuZXJneSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VMb3dFbmVyZ3knLCBhdWRpb1VuaWZvcm1zLmxvd0VuZXJneSk7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ2xvd0VuZXJneScsIGF1ZGlvVW5pZm9ybXMubG93RW5lcmd5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb1VuaWZvcm1zLmhpZ2hFbmVyZ3kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTFmKCd1SGlnaEVuZXJneScsIGF1ZGlvVW5pZm9ybXMuaGlnaEVuZXJneSk7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ2hpZ2hFbmVyZ3knLCBhdWRpb1VuaWZvcm1zLmhpZ2hFbmVyZ3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMudHJhbnNpZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VUcmFuc2llbnRzJywgYXVkaW9Vbmlmb3Jtcy50cmFuc2llbnRzKTtcbiAgICAgICAgICAgICAgICBzaGFkZXJQcm9ncmFtLnNldFVuaWZvcm0xZigndHJhbnNpZW50cycsIGF1ZGlvVW5pZm9ybXMudHJhbnNpZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXVkaW9Vbmlmb3Jtcy50aW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXJQcm9ncmFtLnNldFVuaWZvcm0xZigndUF1ZGlvVGltZScsIGF1ZGlvVW5pZm9ybXMudGltZSk7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ2F1ZGlvVGltZScsIGF1ZGlvVW5pZm9ybXMudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXNzIHRyYW5zaWVudEVmZmVjdCBhcyB1VHJhbnNpZW50SW50ZW5zaXR5XG4gICAgICAgICAgICBpZiAoYXVkaW9Vbmlmb3Jtcy50cmFuc2llbnRFZmZlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTFmKCd1VHJhbnNpZW50SW50ZW5zaXR5JywgYXVkaW9Vbmlmb3Jtcy50cmFuc2llbnRFZmZlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IG5ldyBjb2xvciB1bmlmb3Jtc1xuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMudUNvbG9yMSkge1xuICAgICAgICAgICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTNmKCd1Q29sb3IxJywgYXVkaW9Vbmlmb3Jtcy51Q29sb3IxLnIsIGF1ZGlvVW5pZm9ybXMudUNvbG9yMS5nLCBhdWRpb1VuaWZvcm1zLnVDb2xvcjEuYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXVkaW9Vbmlmb3Jtcy51Q29sb3IyKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtM2YoJ3VDb2xvcjInLCBhdWRpb1VuaWZvcm1zLnVDb2xvcjIuciwgYXVkaW9Vbmlmb3Jtcy51Q29sb3IyLmcsIGF1ZGlvVW5pZm9ybXMudUNvbG9yMi5iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb1VuaWZvcm1zLnVDb2xvcjMpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXJQcm9ncmFtLnNldFVuaWZvcm0zZigndUNvbG9yMycsIGF1ZGlvVW5pZm9ybXMudUNvbG9yMy5yLCBhdWRpb1VuaWZvcm1zLnVDb2xvcjMuZywgYXVkaW9Vbmlmb3Jtcy51Q29sb3IzLmIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMudUZvZ0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtM2YoJ3VGb2dDb2xvcicsIGF1ZGlvVW5pZm9ybXMudUZvZ0NvbG9yLnIsIGF1ZGlvVW5pZm9ybXMudUZvZ0NvbG9yLmcsIGF1ZGlvVW5pZm9ybXMudUZvZ0NvbG9yLmIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMudUdsb3dDb2xvcikge1xuICAgICAgICAgICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTNmKCd1R2xvd0NvbG9yJywgYXVkaW9Vbmlmb3Jtcy51R2xvd0NvbG9yLnIsIGF1ZGlvVW5pZm9ybXMudUdsb3dDb2xvci5nLCBhdWRpb1VuaWZvcm1zLnVHbG93Q29sb3IuYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgbmV3IGNhbWVyYSBzcGVlZCB1bmlmb3JtXG4gICAgICAgICAgICBpZiAoYXVkaW9Vbmlmb3Jtcy5jYW1lcmFTcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VDYW1lcmFTcGVlZCcsIGF1ZGlvVW5pZm9ybXMuY2FtZXJhU3BlZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IG5ldyBlZmZlY3QgY29udHJvbCB1bmlmb3Jtc1xuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMuZW5lcmd5Q2FtZXJhRWZmZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXJQcm9ncmFtLnNldFVuaWZvcm0xZigndUVuZXJneUNhbWVyYUVmZmVjdCcsIGF1ZGlvVW5pZm9ybXMuZW5lcmd5Q2FtZXJhRWZmZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb1VuaWZvcm1zLmVuZXJneUNvbG9yRWZmZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXJQcm9ncmFtLnNldFVuaWZvcm0xZigndUVuZXJneUNvbG9yRWZmZWN0JywgYXVkaW9Vbmlmb3Jtcy5lbmVyZ3lDb2xvckVmZmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXVkaW9Vbmlmb3Jtcy50cmFuc2llbnRDYW1lcmFFZmZlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTFmKCd1VHJhbnNpZW50Q2FtZXJhRWZmZWN0JywgYXVkaW9Vbmlmb3Jtcy50cmFuc2llbnRDYW1lcmFFZmZlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMudHJhbnNpZW50Q29sb3JFZmZlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNoYWRlclByb2dyYW0uc2V0VW5pZm9ybTFmKCd1VHJhbnNpZW50Q29sb3JFZmZlY3QnLCBhdWRpb1VuaWZvcm1zLnRyYW5zaWVudENvbG9yRWZmZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCBuZXcgYnJlYXRoaW5nIGVmZmVjdCB1bmlmb3Jtc1xuICAgICAgICAgICAgaWYgKGF1ZGlvVW5pZm9ybXMuYnJlYXRoaW5nUmF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VCcmVhdGhpbmdSYXRlJywgYXVkaW9Vbmlmb3Jtcy5icmVhdGhpbmdSYXRlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RnJhbWVDb3VudCAlIDYwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU0hBREVSIFVQREFURV0gU2V0dGluZyB1QnJlYXRoaW5nUmF0ZTogJHthdWRpb1VuaWZvcm1zLmJyZWF0aGluZ1JhdGV9ICh0YXJnZXQ6ICR7c21vb3RoZWRWYWx1ZXMuYnJlYXRoaW5nUmF0ZS50YXJnZXR9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb1VuaWZvcm1zLmJyZWF0aGluZ0Ftb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyUHJvZ3JhbS5zZXRVbmlmb3JtMWYoJ3VCcmVhdGhpbmdBbW91bnQnLCBhdWRpb1VuaWZvcm1zLmJyZWF0aGluZ0Ftb3VudCk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0ZyYW1lQ291bnQgJSA2MCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1NIQURFUiBVUERBVEVdIFNldHRpbmcgdUJyZWF0aGluZ0Ftb3VudDogJHthdWRpb1VuaWZvcm1zLmJyZWF0aGluZ0Ftb3VudH0gKHRhcmdldDogJHtzbW9vdGhlZFZhbHVlcy5icmVhdGhpbmdBbW91bnQudGFyZ2V0fSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdXBkYXRlZCBzdGF0ZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZTogYW5pbWF0aW9uVGltZSxcbiAgICAgICAgICAgIGZyYW1lQ291bnQ6IG5ld0ZyYW1lQ291bnQsXG4gICAgICAgICAgICBhdWRpb1VuaWZvcm1zXG4gICAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW1NIQURFUiBVUERBVEVdIEVycm9yIGluIHVwZGF0ZUZyYW1lOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpbWU6IDAsXG4gICAgICAgICAgICBmcmFtZUNvdW50OiBuZXdGcmFtZUNvdW50LFxuICAgICAgICAgICAgYXVkaW9Vbmlmb3Jtczoge30sXG4gICAgICAgICAgICBlcnJvclxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHVwZGF0ZUF1ZGlvVW5pZm9ybXMsXG4gICAgdXBkYXRlRnJhbWUsXG4gICAgc21vb3RoZWRWYWx1ZXNcbn07ICJdLCJuYW1lcyI6WyJwcm9jZXNzQXVkaW9EYXRhRm9yU2hhZGVyIiwiQXVkaW9BbmFseXNpc01hbmFnZXIiLCJERUZBVUxUX1NNT09USElOR19EVVJBVElPTiIsIkRFRkFVTFRfQ09MT1JfU01PT1RISU5HX0RVUkFUSU9OIiwiREVGQVVMVF9DQU1FUkFfU1BFRURfU01PT1RISU5HX0RVUkFUSU9OIiwiREVGQVVMVF9CQVNFX0NBTUVSQV9TUEVFRCIsIkRFRkFVTFRfTUFYX0NBTUVSQV9TUEVFRF9CT09TVF9GQUNUT1IiLCJERUZBVUxUX1RSQU5TSUVOVF9USFJFU0hPTERfRk9SX1NQRUVEX0JPT1NUIiwiREVGQVVMVF9FTkVSR1lfQk9PU1RfRkFDVE9SIiwic21vb3RoZWRWYWx1ZXMiLCJ0cmFuc2llbnRzIiwiY3VycmVudCIsInRhcmdldCIsImxhc3RVcGRhdGVUaW1lIiwiZW5lcmd5IiwibG93RW5lcmd5IiwiaGlnaEVuZXJneSIsImNvbG9yMSIsInIiLCJnIiwiYiIsImNvbG9yMiIsImNvbG9yMyIsImZvZ0NvbG9yIiwiZ2xvd0NvbG9yIiwiYnJlYXRoaW5nUmF0ZSIsImJyZWF0aGluZ0Ftb3VudCIsImNhbWVyYVNwZWVkIiwidHJhbnNpZW50RWZmZWN0IiwiY29sb3JJbnRlbnNpdHkiLCJlbmVyZ3lDYW1lcmFFZmZlY3QiLCJlbmVyZ3lDb2xvckVmZmVjdCIsInRyYW5zaWVudENhbWVyYUVmZmVjdCIsInRyYW5zaWVudENvbG9yRWZmZWN0IiwiYmFzZUNhbWVyYVNwZWVkIiwibWF4Q2FtZXJhU3BlZWRCb29zdEZhY3RvciIsInRyYW5zaWVudFRocmVzaG9sZEZvclNwZWVkQm9vc3QiLCJlbmVyZ3lCb29zdEZhY3RvciIsImNhbWVyYVNwZWVkU21vb3RoaW5nRHVyYXRpb24iLCJjb2xvclNtb290aGluZ0R1cmF0aW9uIiwic21vb3RoaW5nRHVyYXRpb24iLCJ1c2VDb2xvckNvbnRyb2xzIiwibGFzdFBsYXlpbmdTdGF0ZSIsImxhc3RUcmFuc2llbnRDb2xvckNoYW5nZVRpbWUiLCJUUkFOU0lFTlRfVEhSRVNIT0xEIiwiTUlOX0NPTE9SX0NIQU5HRV9JTlRFUlZBTCIsInJhbmRvbVJhbmdlIiwibWluIiwibWF4IiwiTWF0aCIsInJhbmRvbSIsImdldFNtb290aENvbXBvbmVudFZhbHVlIiwiY29tcG9uZW50U3RhdGUiLCJ0YXJnZXRWYWx1ZSIsIm5vdyIsImR1cmF0aW9uIiwiZWxhcHNlZCIsInByb2dyZXNzIiwicG93IiwibmV3VmFsdWUiLCJnZXRTbW9vdGhWYWx1ZSIsInVuaWZvcm1OYW1lIiwidmFsdWVTdGF0ZSIsImdldFNtb290aENvbG9yIiwiY29sb3JOYW1lIiwidGFyZ2V0Q29sb3IiLCJjb2xvclN0YXRlIiwidXBkYXRlQXVkaW9Vbmlmb3JtcyIsImF1ZGlvQW5hbHlzaXMiLCJjdXJyZW50VGltZSIsImlzUGxheWluZyIsImRlYnVnT3B0aW9ucyIsIkRhdGUiLCJkZWZhdWx0U2NhbGFyIiwidGltZSIsInVDb2xvcjEiLCJ1Q29sb3IyIiwidUNvbG9yMyIsInVGb2dDb2xvciIsInVHbG93Q29sb3IiLCJwcm9jZXNzZWRBdWRpbyIsInJhd1VuaWZvcm1zIiwibmV3VHJhbnNpZW50RGV0ZWN0ZWQiLCJzdWZmaWNpZW50VGltZVBhc3NlZCIsInRyYW5zaWVudFN0cmVuZ3RoIiwiY3VycmVudENvbG9yMSIsImN1cnJlbnRDb2xvcjIiLCJjdXJyZW50Q29sb3IzIiwic2hvdWxkTG9nIiwiY29uc29sZSIsImxvZyIsImluc3RhbnRhbmVvdXNUYXJnZXRTcGVlZCIsImVuZXJneUJvb3N0IiwiZWZmZWN0UmFuZ2UiLCJzYWZlRWZmZWN0UmFuZ2UiLCJjdXJyZW50Qm9vc3RGYWN0b3IiLCJmaW5hbFRhcmdldFNwZWVkRm9yU21vb3RoaW5nIiwic21vb3RoZWRDYW1lcmFTcGVlZCIsInRvRml4ZWQiLCJzbW9vdGhlZFNjYWxhclVuaWZvcm1zIiwic21vb3RoZWRVbmlmb3JtcyIsImdldEF1ZGlvU3RhdGUiLCJwcm92aWRlZEF1ZGlvU3RhdGUiLCJtYW5hZ2VyU3RhdGUiLCJnZXRTdGF0ZSIsImFuYWx5c2lzIiwidW5kZWZpbmVkIiwidXBkYXRlRnJhbWUiLCJnbCIsInNoYWRlclByb2dyYW0iLCJidWZmZXJzIiwicmVzb2x1dGlvbiIsInN0YXJ0VGltZSIsImF1ZGlvU3RhdGUiLCJmcmFtZUNvdW50Iiwib25VcGRhdGVVbmlmb3JtcyIsInVzZSIsIndhcm4iLCJhdWRpb1VuaWZvcm1zIiwibmV3RnJhbWVDb3VudCIsImFuaW1hdGlvblRpbWUiLCJjb21iaW5lZEF1ZGlvU3RhdGUiLCJjYWxsYmFja0Vycm9yIiwiZXJyb3IiLCJjbGVhckNvbG9yIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwic2FmZVJlc29sdXRpb24iLCJzZXRVbmlmb3JtMWYiLCJzZXRVbmlmb3JtMmYiLCJzZXRVbmlmb3JtM2YiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/ShaderUpdate.js\n");

/***/ }),

/***/ "./utils/shaders/SimplexShader.js":
/*!****************************************!*\
  !*** ./utils/shaders/SimplexShader.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * SimplexShader.js\n * This is a standalone version, not requiring the ShaderToy wrapper.\n */ const simplexShaderSource = `#version 300 es\nprecision highp float; // ShaderToy often uses highp\n\n// Uniforms that were previously provided by the ShaderToy wrapper\nuniform vec2 uResolution; // Canvas resolution (width, height)\nuniform float uTime;     // Elapsed time in seconds\n\n// Audio-reactive uniforms (declared for consistency with other shaders, though not used by this specific one)\nuniform float energy;\nuniform float lowEnergy;\nuniform float midEnergy;\nuniform float highEnergy;\nuniform float transients;\n\n// --- New uniforms from AudioShaderControls.js ---\n\n// Color controls\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uFogColor;\nuniform vec3 uGlowColor;\n\n// Camera & movement controls\nuniform float uCameraSpeed; // Already used by ShaderUpdate.js\n\n// Tunnel breathing controls\nuniform float uBreathingRate; // Already used by ShaderUpdate.js\nuniform float uBreathingAmount; // Already used by ShaderUpdate.js\n\n// Effect intensity\nuniform float uTransientIntensity; // Corresponds to transientEffect, as used in ShaderUpdate.js\nuniform float uColorIntensity;\n\n// Audio effect intensity controls\nuniform float uEnergyCameraEffect; // Already used by ShaderUpdate.js\nuniform float uEnergyColorEffect; // Already used by ShaderUpdate.js\nuniform float uTransientCameraEffect; // Already used by ShaderUpdate.js\nuniform float uTransientColorEffect; // Already used by ShaderUpdate.js\n\n// Advanced camera movement parameters\nuniform float uBaseCameraSpeed;\nuniform float uMaxCameraSpeedBoostFactor;\nuniform float uTransientThresholdForSpeedBoost;\nuniform float uEnergyBoostFactor;\n\n// Timing and smoothing parameters (durations)\nuniform float uCameraSpeedSmoothingDuration;\nuniform float uColorSmoothingDuration;\nuniform float uSmoothingDuration;\n\n// Color mode toggle\nuniform bool uUseColorControls;\n\n// Standard output for a fragment shader\nout vec4 fragColor;\n\n// If this shader were to use texture coordinates from a vertex shader,\n// it would be declared as: in vec2 vTexCoord;\n// However, this shader uses gl_FragCoord directly to emulate ShaderToy's 'I'.\n\nvoid main()\n{\n    // Replicating ShaderToy 'I' input (pixel coordinates)\n    vec2 I = gl_FragCoord.xy;\n\n    // Replicating ShaderToy 'iResolution' uniform (vec3)\n    // The z-component is often 1.0 (pixelAspectRatio) or uResolution.y, depending on the shader.\n    // The original wrapper used vec3(uResolution, 1.0)\n    vec3 iResolution = vec3(uResolution, 1.0);\n\n    // Replicating ShaderToy 'iTime' uniform\n    float iTime = uTime;\n\n    // --- Original mainImage logic, adapted ---\n    // Variable names from the 'mainImage(out vec4 O, vec2 I)' version:\n    // O -> fragColor\n    // i (iterator) -> loop_iter\n    // v (temp vec3) -> temp_v\n\n    float loop_iter = 0.0;\n    float z_depth = 0.0; // 'z' from original\n    float d_step;        // 'd' from original\n    vec3 temp_v;\n\n    // Initialize output color.\n    fragColor = vec4(0.0, 0.0, 0.0, 0.0); // Start with zero alpha too\n\n    for(; loop_iter < 50.0; loop_iter++)\n    {\n        // Original calculation for point 'p'\n        vec3 p = z_depth * normalize(vec3(I + I - iResolution.xy, -iResolution.y));\n\n        // --- Camera Speed Integration ---\n        // Modulate time by uCameraSpeed and audio-reactive camera effects\n        float camSpeedFactor = uCameraSpeed * (1.0 + energy * uEnergyCameraEffect + transients * uTransientCameraEffect);\n        // Scroll 'p' in time\n        p.z -= iTime * camSpeedFactor; // Use the calculated effective time\n        \n        // --- Breathing Effect ---\n        // Modulate p.xy for tunnel breathing effect\n        // A small multiplier (e.g., 0.01 to 0.05) for uBreathingAmount might be needed depending on desired strength\n        p.xy *= (1.0 + sin(iTime * uBreathingRate) * uBreathingAmount * 0.02); \n\n        // Compute distance for sine pattern\n        temp_v = cos(p) - sin(p).yzx; \n        d_step = 0.0001 + 0.5 * length(max(temp_v, temp_v.yzx * 0.2)); // Added 1e-4 for safety\n        z_depth += d_step;\n\n        // --- Determine the base color contribution ---\n        vec3 baseColorContribution;\n\n        if (uUseColorControls) {\n            // --- New 3-Color Energy-Modulated Blending Logic ---\n            \n            // 1. Modulate base colors by energy (e.g., pulse brightness)\n            // Adjust (0.7 + 0.6 * energy) for desired sensitivity and range\n            float energyMod = 0.7 + 0.6 * energy; \n            vec3 eColor1 = uColor1 * energyMod;\n            vec3 eColor2 = uColor2 * energyMod;\n            vec3 eColor3 = uColor3 * energyMod;\n\n            // 2. Spatially blend these three energy-modulated colors.\n            // Using a factor from p.z and loop_iter to cycle through mixing them.\n            // Adjust multipliers for p.z (0.1) and loop_iter (0.01) for desired pattern speed/scale.\n            float mixFactor = fract(p.z * 0.1 + loop_iter * 0.01); \n\n            if (mixFactor < 0.33333) {\n                baseColorContribution = mix(eColor1, eColor2, smoothstep(0.0, 0.33333, mixFactor));\n            } else if (mixFactor < 0.66666) {\n                baseColorContribution = mix(eColor2, eColor3, smoothstep(0.33333, 0.66666, mixFactor));\n            } else {\n                baseColorContribution = mix(eColor3, eColor1, smoothstep(0.66666, 1.0, mixFactor));\n            }\n            // Ensure colors resulting from modulation/mixing don't go negative.\n            baseColorContribution = max(baseColorContribution, vec3(0.0));\n\n        } else {\n            // Fallback: Use the original Simplex noise inspired coloring if not using color controls\n            // This was the (cos(p) + 1.2) part from the original shader before extensive color edits.\n            baseColorContribution = cos(p) + 1.2;\n        }\n\n        // Apply overall color intensity (applies to both modes)\n        baseColorContribution *= uColorIntensity;\n\n        // Apply audio-reactive color effects (multiplicative, applies to both modes)\n        baseColorContribution *= (1.0 + energy * uEnergyColorEffect + transients * uTransientColorEffect);\n        \n        // Additive glow effect, scaled by transients and transient intensity (applies to both modes)\n        // uGlowColor alpha component could be used for glow strength if it were vec4\n        baseColorContribution += uGlowColor * transients * uTransientIntensity;\n\n        // Apply fog\n        // Adjust fogDensityFactor (e.g., 0.01 to 0.1) for desired fog strength\n        float fogDensityFactor = 0.03; \n        float fogFactor = clamp(z_depth * fogDensityFactor, 0.0, 1.0);\n        baseColorContribution = mix(baseColorContribution, uFogColor, fogFactor);\n        \n        // Accumulate color\n        // The division by d_step is kept from the original\n        fragColor.rgb += baseColorContribution / d_step;\n    }\n    \n    // Tonemapping\n    fragColor /= (fragColor + 1000.0);\n    \n    // Ensure final alpha is 1.0, as the ShaderToy wrapper used to do.\n    fragColor.a = 1.0;\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (simplexShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL1NpbXBsZXhTaGFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Q0FHQyxHQUVELE1BQU1BLHNCQUFzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBLN0IsQ0FBQztBQUVELGlFQUFlQSxtQkFBbUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWtlbXVzaWN2aWRlby8uL3V0aWxzL3NoYWRlcnMvU2ltcGxleFNoYWRlci5qcz9lMTZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxleFNoYWRlci5qc1xuICogVGhpcyBpcyBhIHN0YW5kYWxvbmUgdmVyc2lvbiwgbm90IHJlcXVpcmluZyB0aGUgU2hhZGVyVG95IHdyYXBwZXIuXG4gKi9cblxuY29uc3Qgc2ltcGxleFNoYWRlclNvdXJjZSA9IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDsgLy8gU2hhZGVyVG95IG9mdGVuIHVzZXMgaGlnaHBcblxuLy8gVW5pZm9ybXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcHJvdmlkZWQgYnkgdGhlIFNoYWRlclRveSB3cmFwcGVyXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247IC8vIENhbnZhcyByZXNvbHV0aW9uICh3aWR0aCwgaGVpZ2h0KVxudW5pZm9ybSBmbG9hdCB1VGltZTsgICAgIC8vIEVsYXBzZWQgdGltZSBpbiBzZWNvbmRzXG5cbi8vIEF1ZGlvLXJlYWN0aXZlIHVuaWZvcm1zIChkZWNsYXJlZCBmb3IgY29uc2lzdGVuY3kgd2l0aCBvdGhlciBzaGFkZXJzLCB0aG91Z2ggbm90IHVzZWQgYnkgdGhpcyBzcGVjaWZpYyBvbmUpXG51bmlmb3JtIGZsb2F0IGVuZXJneTtcbnVuaWZvcm0gZmxvYXQgbG93RW5lcmd5O1xudW5pZm9ybSBmbG9hdCBtaWRFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IGhpZ2hFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IHRyYW5zaWVudHM7XG5cbi8vIC0tLSBOZXcgdW5pZm9ybXMgZnJvbSBBdWRpb1NoYWRlckNvbnRyb2xzLmpzIC0tLVxuXG4vLyBDb2xvciBjb250cm9sc1xudW5pZm9ybSB2ZWMzIHVDb2xvcjE7XG51bmlmb3JtIHZlYzMgdUNvbG9yMjtcbnVuaWZvcm0gdmVjMyB1Q29sb3IzO1xudW5pZm9ybSB2ZWMzIHVGb2dDb2xvcjtcbnVuaWZvcm0gdmVjMyB1R2xvd0NvbG9yO1xuXG4vLyBDYW1lcmEgJiBtb3ZlbWVudCBjb250cm9sc1xudW5pZm9ybSBmbG9hdCB1Q2FtZXJhU3BlZWQ7IC8vIEFscmVhZHkgdXNlZCBieSBTaGFkZXJVcGRhdGUuanNcblxuLy8gVHVubmVsIGJyZWF0aGluZyBjb250cm9sc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nUmF0ZTsgLy8gQWxyZWFkeSB1c2VkIGJ5IFNoYWRlclVwZGF0ZS5qc1xudW5pZm9ybSBmbG9hdCB1QnJlYXRoaW5nQW1vdW50OyAvLyBBbHJlYWR5IHVzZWQgYnkgU2hhZGVyVXBkYXRlLmpzXG5cbi8vIEVmZmVjdCBpbnRlbnNpdHlcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudEludGVuc2l0eTsgLy8gQ29ycmVzcG9uZHMgdG8gdHJhbnNpZW50RWZmZWN0LCBhcyB1c2VkIGluIFNoYWRlclVwZGF0ZS5qc1xudW5pZm9ybSBmbG9hdCB1Q29sb3JJbnRlbnNpdHk7XG5cbi8vIEF1ZGlvIGVmZmVjdCBpbnRlbnNpdHkgY29udHJvbHNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneUNhbWVyYUVmZmVjdDsgLy8gQWxyZWFkeSB1c2VkIGJ5IFNoYWRlclVwZGF0ZS5qc1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Q29sb3JFZmZlY3Q7IC8vIEFscmVhZHkgdXNlZCBieSBTaGFkZXJVcGRhdGUuanNcbnVuaWZvcm0gZmxvYXQgdVRyYW5zaWVudENhbWVyYUVmZmVjdDsgLy8gQWxyZWFkeSB1c2VkIGJ5IFNoYWRlclVwZGF0ZS5qc1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50Q29sb3JFZmZlY3Q7IC8vIEFscmVhZHkgdXNlZCBieSBTaGFkZXJVcGRhdGUuanNcblxuLy8gQWR2YW5jZWQgY2FtZXJhIG1vdmVtZW50IHBhcmFtZXRlcnNcbnVuaWZvcm0gZmxvYXQgdUJhc2VDYW1lcmFTcGVlZDtcbnVuaWZvcm0gZmxvYXQgdU1heENhbWVyYVNwZWVkQm9vc3RGYWN0b3I7XG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRUaHJlc2hvbGRGb3JTcGVlZEJvb3N0O1xudW5pZm9ybSBmbG9hdCB1RW5lcmd5Qm9vc3RGYWN0b3I7XG5cbi8vIFRpbWluZyBhbmQgc21vb3RoaW5nIHBhcmFtZXRlcnMgKGR1cmF0aW9ucylcbnVuaWZvcm0gZmxvYXQgdUNhbWVyYVNwZWVkU21vb3RoaW5nRHVyYXRpb247XG51bmlmb3JtIGZsb2F0IHVDb2xvclNtb290aGluZ0R1cmF0aW9uO1xudW5pZm9ybSBmbG9hdCB1U21vb3RoaW5nRHVyYXRpb247XG5cbi8vIENvbG9yIG1vZGUgdG9nZ2xlXG51bmlmb3JtIGJvb2wgdVVzZUNvbG9yQ29udHJvbHM7XG5cbi8vIFN0YW5kYXJkIG91dHB1dCBmb3IgYSBmcmFnbWVudCBzaGFkZXJcbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gSWYgdGhpcyBzaGFkZXIgd2VyZSB0byB1c2UgdGV4dHVyZSBjb29yZGluYXRlcyBmcm9tIGEgdmVydGV4IHNoYWRlcixcbi8vIGl0IHdvdWxkIGJlIGRlY2xhcmVkIGFzOiBpbiB2ZWMyIHZUZXhDb29yZDtcbi8vIEhvd2V2ZXIsIHRoaXMgc2hhZGVyIHVzZXMgZ2xfRnJhZ0Nvb3JkIGRpcmVjdGx5IHRvIGVtdWxhdGUgU2hhZGVyVG95J3MgJ0knLlxuXG52b2lkIG1haW4oKVxue1xuICAgIC8vIFJlcGxpY2F0aW5nIFNoYWRlclRveSAnSScgaW5wdXQgKHBpeGVsIGNvb3JkaW5hdGVzKVxuICAgIHZlYzIgSSA9IGdsX0ZyYWdDb29yZC54eTtcblxuICAgIC8vIFJlcGxpY2F0aW5nIFNoYWRlclRveSAnaVJlc29sdXRpb24nIHVuaWZvcm0gKHZlYzMpXG4gICAgLy8gVGhlIHotY29tcG9uZW50IGlzIG9mdGVuIDEuMCAocGl4ZWxBc3BlY3RSYXRpbykgb3IgdVJlc29sdXRpb24ueSwgZGVwZW5kaW5nIG9uIHRoZSBzaGFkZXIuXG4gICAgLy8gVGhlIG9yaWdpbmFsIHdyYXBwZXIgdXNlZCB2ZWMzKHVSZXNvbHV0aW9uLCAxLjApXG4gICAgdmVjMyBpUmVzb2x1dGlvbiA9IHZlYzModVJlc29sdXRpb24sIDEuMCk7XG5cbiAgICAvLyBSZXBsaWNhdGluZyBTaGFkZXJUb3kgJ2lUaW1lJyB1bmlmb3JtXG4gICAgZmxvYXQgaVRpbWUgPSB1VGltZTtcblxuICAgIC8vIC0tLSBPcmlnaW5hbCBtYWluSW1hZ2UgbG9naWMsIGFkYXB0ZWQgLS0tXG4gICAgLy8gVmFyaWFibGUgbmFtZXMgZnJvbSB0aGUgJ21haW5JbWFnZShvdXQgdmVjNCBPLCB2ZWMyIEkpJyB2ZXJzaW9uOlxuICAgIC8vIE8gLT4gZnJhZ0NvbG9yXG4gICAgLy8gaSAoaXRlcmF0b3IpIC0+IGxvb3BfaXRlclxuICAgIC8vIHYgKHRlbXAgdmVjMykgLT4gdGVtcF92XG5cbiAgICBmbG9hdCBsb29wX2l0ZXIgPSAwLjA7XG4gICAgZmxvYXQgel9kZXB0aCA9IDAuMDsgLy8gJ3onIGZyb20gb3JpZ2luYWxcbiAgICBmbG9hdCBkX3N0ZXA7ICAgICAgICAvLyAnZCcgZnJvbSBvcmlnaW5hbFxuICAgIHZlYzMgdGVtcF92O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBvdXRwdXQgY29sb3IuXG4gICAgZnJhZ0NvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAwLjApOyAvLyBTdGFydCB3aXRoIHplcm8gYWxwaGEgdG9vXG5cbiAgICBmb3IoOyBsb29wX2l0ZXIgPCA1MC4wOyBsb29wX2l0ZXIrKylcbiAgICB7XG4gICAgICAgIC8vIE9yaWdpbmFsIGNhbGN1bGF0aW9uIGZvciBwb2ludCAncCdcbiAgICAgICAgdmVjMyBwID0gel9kZXB0aCAqIG5vcm1hbGl6ZSh2ZWMzKEkgKyBJIC0gaVJlc29sdXRpb24ueHksIC1pUmVzb2x1dGlvbi55KSk7XG5cbiAgICAgICAgLy8gLS0tIENhbWVyYSBTcGVlZCBJbnRlZ3JhdGlvbiAtLS1cbiAgICAgICAgLy8gTW9kdWxhdGUgdGltZSBieSB1Q2FtZXJhU3BlZWQgYW5kIGF1ZGlvLXJlYWN0aXZlIGNhbWVyYSBlZmZlY3RzXG4gICAgICAgIGZsb2F0IGNhbVNwZWVkRmFjdG9yID0gdUNhbWVyYVNwZWVkICogKDEuMCArIGVuZXJneSAqIHVFbmVyZ3lDYW1lcmFFZmZlY3QgKyB0cmFuc2llbnRzICogdVRyYW5zaWVudENhbWVyYUVmZmVjdCk7XG4gICAgICAgIC8vIFNjcm9sbCAncCcgaW4gdGltZVxuICAgICAgICBwLnogLT0gaVRpbWUgKiBjYW1TcGVlZEZhY3RvcjsgLy8gVXNlIHRoZSBjYWxjdWxhdGVkIGVmZmVjdGl2ZSB0aW1lXG4gICAgICAgIFxuICAgICAgICAvLyAtLS0gQnJlYXRoaW5nIEVmZmVjdCAtLS1cbiAgICAgICAgLy8gTW9kdWxhdGUgcC54eSBmb3IgdHVubmVsIGJyZWF0aGluZyBlZmZlY3RcbiAgICAgICAgLy8gQSBzbWFsbCBtdWx0aXBsaWVyIChlLmcuLCAwLjAxIHRvIDAuMDUpIGZvciB1QnJlYXRoaW5nQW1vdW50IG1pZ2h0IGJlIG5lZWRlZCBkZXBlbmRpbmcgb24gZGVzaXJlZCBzdHJlbmd0aFxuICAgICAgICBwLnh5ICo9ICgxLjAgKyBzaW4oaVRpbWUgKiB1QnJlYXRoaW5nUmF0ZSkgKiB1QnJlYXRoaW5nQW1vdW50ICogMC4wMik7IFxuXG4gICAgICAgIC8vIENvbXB1dGUgZGlzdGFuY2UgZm9yIHNpbmUgcGF0dGVyblxuICAgICAgICB0ZW1wX3YgPSBjb3MocCkgLSBzaW4ocCkueXp4OyBcbiAgICAgICAgZF9zdGVwID0gMC4wMDAxICsgMC41ICogbGVuZ3RoKG1heCh0ZW1wX3YsIHRlbXBfdi55enggKiAwLjIpKTsgLy8gQWRkZWQgMWUtNCBmb3Igc2FmZXR5XG4gICAgICAgIHpfZGVwdGggKz0gZF9zdGVwO1xuXG4gICAgICAgIC8vIC0tLSBEZXRlcm1pbmUgdGhlIGJhc2UgY29sb3IgY29udHJpYnV0aW9uIC0tLVxuICAgICAgICB2ZWMzIGJhc2VDb2xvckNvbnRyaWJ1dGlvbjtcblxuICAgICAgICBpZiAodVVzZUNvbG9yQ29udHJvbHMpIHtcbiAgICAgICAgICAgIC8vIC0tLSBOZXcgMy1Db2xvciBFbmVyZ3ktTW9kdWxhdGVkIEJsZW5kaW5nIExvZ2ljIC0tLVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyAxLiBNb2R1bGF0ZSBiYXNlIGNvbG9ycyBieSBlbmVyZ3kgKGUuZy4sIHB1bHNlIGJyaWdodG5lc3MpXG4gICAgICAgICAgICAvLyBBZGp1c3QgKDAuNyArIDAuNiAqIGVuZXJneSkgZm9yIGRlc2lyZWQgc2Vuc2l0aXZpdHkgYW5kIHJhbmdlXG4gICAgICAgICAgICBmbG9hdCBlbmVyZ3lNb2QgPSAwLjcgKyAwLjYgKiBlbmVyZ3k7IFxuICAgICAgICAgICAgdmVjMyBlQ29sb3IxID0gdUNvbG9yMSAqIGVuZXJneU1vZDtcbiAgICAgICAgICAgIHZlYzMgZUNvbG9yMiA9IHVDb2xvcjIgKiBlbmVyZ3lNb2Q7XG4gICAgICAgICAgICB2ZWMzIGVDb2xvcjMgPSB1Q29sb3IzICogZW5lcmd5TW9kO1xuXG4gICAgICAgICAgICAvLyAyLiBTcGF0aWFsbHkgYmxlbmQgdGhlc2UgdGhyZWUgZW5lcmd5LW1vZHVsYXRlZCBjb2xvcnMuXG4gICAgICAgICAgICAvLyBVc2luZyBhIGZhY3RvciBmcm9tIHAueiBhbmQgbG9vcF9pdGVyIHRvIGN5Y2xlIHRocm91Z2ggbWl4aW5nIHRoZW0uXG4gICAgICAgICAgICAvLyBBZGp1c3QgbXVsdGlwbGllcnMgZm9yIHAueiAoMC4xKSBhbmQgbG9vcF9pdGVyICgwLjAxKSBmb3IgZGVzaXJlZCBwYXR0ZXJuIHNwZWVkL3NjYWxlLlxuICAgICAgICAgICAgZmxvYXQgbWl4RmFjdG9yID0gZnJhY3QocC56ICogMC4xICsgbG9vcF9pdGVyICogMC4wMSk7IFxuXG4gICAgICAgICAgICBpZiAobWl4RmFjdG9yIDwgMC4zMzMzMykge1xuICAgICAgICAgICAgICAgIGJhc2VDb2xvckNvbnRyaWJ1dGlvbiA9IG1peChlQ29sb3IxLCBlQ29sb3IyLCBzbW9vdGhzdGVwKDAuMCwgMC4zMzMzMywgbWl4RmFjdG9yKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1peEZhY3RvciA8IDAuNjY2NjYpIHtcbiAgICAgICAgICAgICAgICBiYXNlQ29sb3JDb250cmlidXRpb24gPSBtaXgoZUNvbG9yMiwgZUNvbG9yMywgc21vb3Roc3RlcCgwLjMzMzMzLCAwLjY2NjY2LCBtaXhGYWN0b3IpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmFzZUNvbG9yQ29udHJpYnV0aW9uID0gbWl4KGVDb2xvcjMsIGVDb2xvcjEsIHNtb290aHN0ZXAoMC42NjY2NiwgMS4wLCBtaXhGYWN0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVuc3VyZSBjb2xvcnMgcmVzdWx0aW5nIGZyb20gbW9kdWxhdGlvbi9taXhpbmcgZG9uJ3QgZ28gbmVnYXRpdmUuXG4gICAgICAgICAgICBiYXNlQ29sb3JDb250cmlidXRpb24gPSBtYXgoYmFzZUNvbG9yQ29udHJpYnV0aW9uLCB2ZWMzKDAuMCkpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogVXNlIHRoZSBvcmlnaW5hbCBTaW1wbGV4IG5vaXNlIGluc3BpcmVkIGNvbG9yaW5nIGlmIG5vdCB1c2luZyBjb2xvciBjb250cm9sc1xuICAgICAgICAgICAgLy8gVGhpcyB3YXMgdGhlIChjb3MocCkgKyAxLjIpIHBhcnQgZnJvbSB0aGUgb3JpZ2luYWwgc2hhZGVyIGJlZm9yZSBleHRlbnNpdmUgY29sb3IgZWRpdHMuXG4gICAgICAgICAgICBiYXNlQ29sb3JDb250cmlidXRpb24gPSBjb3MocCkgKyAxLjI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBvdmVyYWxsIGNvbG9yIGludGVuc2l0eSAoYXBwbGllcyB0byBib3RoIG1vZGVzKVxuICAgICAgICBiYXNlQ29sb3JDb250cmlidXRpb24gKj0gdUNvbG9ySW50ZW5zaXR5O1xuXG4gICAgICAgIC8vIEFwcGx5IGF1ZGlvLXJlYWN0aXZlIGNvbG9yIGVmZmVjdHMgKG11bHRpcGxpY2F0aXZlLCBhcHBsaWVzIHRvIGJvdGggbW9kZXMpXG4gICAgICAgIGJhc2VDb2xvckNvbnRyaWJ1dGlvbiAqPSAoMS4wICsgZW5lcmd5ICogdUVuZXJneUNvbG9yRWZmZWN0ICsgdHJhbnNpZW50cyAqIHVUcmFuc2llbnRDb2xvckVmZmVjdCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGRpdGl2ZSBnbG93IGVmZmVjdCwgc2NhbGVkIGJ5IHRyYW5zaWVudHMgYW5kIHRyYW5zaWVudCBpbnRlbnNpdHkgKGFwcGxpZXMgdG8gYm90aCBtb2RlcylcbiAgICAgICAgLy8gdUdsb3dDb2xvciBhbHBoYSBjb21wb25lbnQgY291bGQgYmUgdXNlZCBmb3IgZ2xvdyBzdHJlbmd0aCBpZiBpdCB3ZXJlIHZlYzRcbiAgICAgICAgYmFzZUNvbG9yQ29udHJpYnV0aW9uICs9IHVHbG93Q29sb3IgKiB0cmFuc2llbnRzICogdVRyYW5zaWVudEludGVuc2l0eTtcblxuICAgICAgICAvLyBBcHBseSBmb2dcbiAgICAgICAgLy8gQWRqdXN0IGZvZ0RlbnNpdHlGYWN0b3IgKGUuZy4sIDAuMDEgdG8gMC4xKSBmb3IgZGVzaXJlZCBmb2cgc3RyZW5ndGhcbiAgICAgICAgZmxvYXQgZm9nRGVuc2l0eUZhY3RvciA9IDAuMDM7IFxuICAgICAgICBmbG9hdCBmb2dGYWN0b3IgPSBjbGFtcCh6X2RlcHRoICogZm9nRGVuc2l0eUZhY3RvciwgMC4wLCAxLjApO1xuICAgICAgICBiYXNlQ29sb3JDb250cmlidXRpb24gPSBtaXgoYmFzZUNvbG9yQ29udHJpYnV0aW9uLCB1Rm9nQ29sb3IsIGZvZ0ZhY3Rvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBBY2N1bXVsYXRlIGNvbG9yXG4gICAgICAgIC8vIFRoZSBkaXZpc2lvbiBieSBkX3N0ZXAgaXMga2VwdCBmcm9tIHRoZSBvcmlnaW5hbFxuICAgICAgICBmcmFnQ29sb3IucmdiICs9IGJhc2VDb2xvckNvbnRyaWJ1dGlvbiAvIGRfc3RlcDtcbiAgICB9XG4gICAgXG4gICAgLy8gVG9uZW1hcHBpbmdcbiAgICBmcmFnQ29sb3IgLz0gKGZyYWdDb2xvciArIDEwMDAuMCk7XG4gICAgXG4gICAgLy8gRW5zdXJlIGZpbmFsIGFscGhhIGlzIDEuMCwgYXMgdGhlIFNoYWRlclRveSB3cmFwcGVyIHVzZWQgdG8gZG8uXG4gICAgZnJhZ0NvbG9yLmEgPSAxLjA7XG59XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBzaW1wbGV4U2hhZGVyU291cmNlOyAiXSwibmFtZXMiOlsic2ltcGxleFNoYWRlclNvdXJjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/shaders/SimplexShader.js\n");

/***/ }),

/***/ "./utils/shaders/VortexShader.js":
/*!***************************************!*\
  !*** ./utils/shaders/VortexShader.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * VortexShader.js\n * Exports the vortex shader code as a string for direct use in JavaScript.\n */ const vortexShaderSource = `#version 300 es\nprecision mediump float;\nin vec2 vTexCoord;\n\n// Common uniforms\nuniform float uTime;\nuniform vec2 uResolution;\n\n// Audio reactive uniforms\nuniform float uEnergy;\nuniform float uLowEnergy;\nuniform float uHighEnergy;\nuniform float uTransients;\n\nout vec4 fragColor; // GLSL ES 3.0 output\n\n// Constants\n#define MAX_STEPS 100 // Maximum raymarching steps\n#define STEP_SCALE 0.15 // Reduced for finer sampling\n#define TURB_NUM 10.0 // Turbulence iterations for swirling water currents\n#define TURB_AMP 0.7 // Increased amplitude for stronger vortex distortions\n#define TURB_FREQ 0.8 // Adjusted frequency for smoother currents\n#define TURB_SPEED 0.6 // Slightly faster animation for the vortex swirl\n#define TURB_EXP 1.4 // Increased for more variation in turbulence\n\n// 2D rotation matrix function\nmat2 rotate2D(float angle) {\n    float s = sin(angle), c = cos(angle);\n    return mat2(c, -s, s, c);\n}\n\n// 3D rotation matrix around an axis\nmat3 rotate3D(float angle, vec3 axis) {\n    float s = sin(angle), c = cos(angle), ic = 1.0 - c;\n    vec3 n = normalize(axis);\n    float x = n.x, y = n.y, z = n.z;\n    return mat3(\n        ic * x * x + c, ic * x * y - z * s, ic * x * z + y * s,\n        ic * x * y + z * s, ic * y * y + c, ic * y * z - x * s,\n        ic * x * z - y * s, ic * y * z + x * s, ic * z * z + c\n    );\n}\n\n// Simple noise function for particulate matter (bubbles and debris)\nfloat hash(vec3 p) {\n    p = fract(p * 0.3183099 + 0.1);\n    return fract(p.x * p.y * p.z * (p.x + p.y + p.z));\n}\n\nfloat noise(vec3 p) {\n    vec3 i = floor(p);\n    vec3 f = fract(p);\n    vec3 u = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix(hash(i + vec3(0.0, 0.0, 0.0)), hash(i + vec3(1.0, 0.0, 0.0)), u.x),\n                   mix(hash(i + vec3(0.0, 1.0, 0.0)), hash(i + vec3(1.0, 1.0, 0.0)), u.x), u.y),\n               mix(mix(hash(i + vec3(0.0, 0.0, 1.0)), hash(i + vec3(1.0, 0.0, 1.0)), u.x),\n                   mix(hash(i + vec3(0.0, 1.0, 1.0)), hash(i + vec3(1.0, 1.0, 1.0)), u.x), u.y), u.z);\n}\n\n// Basic caustic light pattern function\nfloat causticPattern(vec2 p_caustic, float t_caustic) {\n    vec2 p1_c = p_caustic + vec2(sin(t_caustic * 0.22), cos(t_caustic * 0.33)) * 0.25;\n    vec2 p2_c = p_caustic + vec2(cos(t_caustic * 0.27), sin(t_caustic * 0.38)) * 0.35;\n    float n1_c = noise(vec3(p1_c * 3.5, t_caustic * 0.11));\n    float n2_c = noise(vec3(p2_c * 5.5, t_caustic * 0.16));\n    float n3_c = noise(vec3(p_caustic * 7.5, t_caustic * 0.21));\n    return pow(max(0.0, n1_c * 0.5 + n2_c * 0.35 + n3_c * 0.15 - 0.4), 3.0) * 3.0;\n}\n\n// Function to compute the vortex shape at a given center position\nfloat vortexShape(vec3 p, vec3 center, float t, float speedOffset) {\n    // Adjust position relative to the vortex center\n    vec3 q = p - center;\n    \n    // Create a vortex effect by rotating the position around the y-axis\n    float vortexAngle = length(q.xz) * 0.8 - t * (TURB_SPEED + speedOffset);\n    q.xz *= rotate2D(vortexAngle);\n    \n    // Turbulence loop for water currents with fixed iterations\n    float d_turb = 1.0; // Renamed to avoid conflict with distance variable d in other scopes\n    float freq = TURB_FREQ;\n    \n    // Unroll turbulence loop for WebGL compatibility\n    // Iteration 1\n    q += TURB_AMP * sin(q.yzx * freq + t * (TURB_SPEED + speedOffset)) / freq;\n    q *= rotate3D(freq * 0.3, vec3(0.5, 1.0, 0.2));\n    freq *= TURB_EXP;\n    d_turb += d_turb;\n    \n    // Iteration 2\n    q += TURB_AMP * sin(q.yzx * freq + t * (TURB_SPEED + speedOffset)) / freq;\n    q *= rotate3D(freq * 0.3, vec3(0.5, 1.0, 0.2));\n    freq *= TURB_EXP;\n    d_turb += d_turb;\n    \n    // Iteration 3\n    q += TURB_AMP * sin(q.yzx * freq + t * (TURB_SPEED + speedOffset)) / freq;\n    q *= rotate3D(freq * 0.3, vec3(0.5, 1.0, 0.2));\n    freq *= TURB_EXP;\n    d_turb += d_turb;\n    \n    // Define the vortex shape: a cylindrical shape with distortions\n    float r = length(q.xz);\n    float s = r - 2.0 + 0.7 * sin(q.y * 1.5 + t * 0.4);\n    s += 0.5 * cos(q.y * 1.0 + q.z * 0.7 + t * 0.3);\n    s *= 0.8;\n    return s;\n}\n\nvoid main() {\n    // Normalized pixel coordinates (from 0 to 1, centered)\n    vec2 uv = (vTexCoord * 2.0 - 1.0);\n    uv.x *= uResolution.x / uResolution.y; // Aspect ratio correction\n    \n    vec4 o = vec4(0.0); // Output color\n    float t_anim = uTime; // Time for animation (renamed from t to avoid conflict)\n    \n    // Make the vortexes respond to audio -- MODIFIED FOR COLOR ONLY\n    float audioAmplitude = 0.7; // FIXED value - Bass no longer affects amplitude here\n    // float audioSpeed = 1.0 + 2.0 * uHighEnergy;    // REMOVED: High frequencies affect speed\n    float audioSpeed = 1.0; // FIXED value\n    // float audioTurbulence = 0.8 + 1.0 * uEnergy;   // REMOVED: Overall energy affects turbulence\n    float audioTurbulence = 0.8; // FIXED value\n    // float audioTransients = uTransients * 2.0;     // REMOVED: Transients create pulses (for time)\n    \n    // Add audio-reactive effects to time -- MODIFIED\n    // t_anim = t_anim * audioSpeed + audioTransients; // REMOVED audio influence on time\n    // t_anim is now just uTime (or uTime * fixed_speed if desired, but audioSpeed is 1.0)\n    \n    // Zoom in by scaling down the UV coordinates (narrower FOV)\n    float zoom = 0.5; // Smaller value = more zoomed in\n    uv *= zoom;\n    \n    // Ray setup: origin at (0,0,0), direction based on pixel position\n    vec3 rayDir = normalize(vec3(uv, -5.0)); // Ray direction (negative z-axis)\n    \n    // Rotate the ray slightly downward to frame the vortex\n    rayDir.yz *= rotate2D(5.0);\n    \n    // Add subtle camera movement based on energy -- REMOVED\n    // rayDir.xy *= rotate2D(sin(t_anim * 0.1) * 0.05 * uEnergy);\n    \n    // Raymarching loop (100 iterations)\n    float z_dist = 0.0; // Distance along the ray (renamed from z to avoid conflict)\n    // Fixed loop iteration for WebGL compatibility\n    for (int i = 0; i < MAX_STEPS; i++) { // Use MAX_STEPS define\n        // Current position along the ray\n        vec3 p = z_dist * rayDir;\n        \n        // Apply time-based animation for the scene motion\n        p.z += t_anim * 0.3;\n        \n        // Define multiple vortex centers that move with audio -- MODIFIED\n        vec3 center1 = vec3(0.0, 0.0, 0.0); // Main vortex at the origin\n        // vec3 center2 = vec3(3.0 + sin(t_anim * 0.2) * uEnergy, 0.0, 2.0); // Second vortex offset to the right\n        vec3 center2 = vec3(3.0 + sin(t_anim * 0.2), 0.0, 2.0); // REMOVED uEnergy\n        // vec3 center3 = vec3(-3.0 - cos(t_anim * 0.3) * uEnergy, 0.0, 1.0); // Third vortex offset to the left\n        vec3 center3 = vec3(-3.0 - cos(t_anim * 0.3), 0.0, 1.0); // REMOVED uEnergy\n        // vec3 center4 = vec3(0.0, 0.0, -4.0 + sin(t_anim * 0.15) * uLowEnergy * 2.0); // Fourth vortex further back\n        vec3 center4 = vec3(0.0, 0.0, -4.0 + sin(t_anim * 0.15) * 2.0); // REMOVED uLowEnergy\n        \n        // Compute the distance to each vortex and take the minimum\n        float s1 = vortexShape(p, center1, t_anim, 0.0);\n        // float s2 = vortexShape(p, center2, t_anim, 0.1 * audioSpeed); // audioSpeed is now 1.0\n        float s2 = vortexShape(p, center2, t_anim, 0.1);\n        // float s3 = vortexShape(p, center3, t_anim, -0.05 * audioSpeed); // audioSpeed is now 1.0\n        float s3 = vortexShape(p, center3, t_anim, -0.05);\n        // float s4 = vortexShape(p, center4, t_anim, 0.15 * audioSpeed); // audioSpeed is now 1.0\n        float s4 = vortexShape(p, center4, t_anim, 0.15);\n        float s_dist = min(min(s1, s2), min(s3, s4)); // Combine all vortexes (renamed from s)\n        \n        // Raymarching step size (volumetric density) -- MODIFIED\n        // float d_step = STEP_SCALE * (0.005 + 0.5 * max(s_dist, -s_dist * 0.3 * audioTurbulence)); // audioTurbulence is now fixed\n        float d_step = STEP_SCALE * (0.005 + 0.5 * max(s_dist, -s_dist * 0.3 * 0.8)); // Using fixed audioTurbulence 0.8\n        z_dist += d_step;\n        \n        // Simulate light scattering from above (shafts of light)\n        float light = 0.7 + 0.5 * cos(p.x * 0.7 + p.z * 0.5 + t_anim * 0.2);\n        light *= exp(-z_dist * 0.03);\n        light *= 1.0 - smoothstep(0.0, 1.0, abs(p.y));\n        \n        // Add particulate matter (bubbles and debris) using noise\n        float particles = noise(p * 3.0 + t_anim * 0.2) * 0.5;\n        \n        // Volumetric coloring for the underwater vortex\n        vec4 waterColor = vec4(0.0, 0.0, 0.0, 1.0); // Initialize with black for color to be purely audio-driven\n        \n        // Add audio reactivity to the color\n        // Shift base color hue with overall energy. If uEnergy is 0, mix_factor is 0, color remains black.\n        waterColor.rgb = mix(waterColor.rgb, vec3(0.6, 0.2, 0.4), smoothstep(0.0, 1.0, uEnergy)); \n        \n        // Add low energy (bass) influence - more red/orange\n        waterColor.rgb += vec3(0.4 * uLowEnergy, 0.1 * uLowEnergy, 0.0);\n        \n        // Add high energy (treble) influence - more green/blue\n        waterColor.rgb += vec3(0.0, 0.2 * uHighEnergy, 0.3 * uHighEnergy);\n\n        // Modulate brightness with overall energy. If rgb is black and uEnergy is 0, stays black.\n        waterColor.rgb *= (0.7 + 0.6 * uEnergy); \n\n        // Color shift based on high energy, now fully scaled by uHighEnergy\n        float colorShift = 0.2 + 0.8 * uHighEnergy; \n        // If uHighEnergy is 0, colorShift is 0.2, but the term is multiplied by uHighEnergy (0), so adds nothing.\n        waterColor.rgb += vec3(0.0, 0.1 * colorShift, 0.05 * colorShift) * sin(s_dist * 3.0 + t_anim * 0.3) * uHighEnergy;\n\n        // Lighting effects, now scaled by uEnergy. The 'light' variable is a pattern.\n        // If uEnergy is 0, this term adds nothing.\n        waterColor.rgb += vec3(0.5, 0.7, 0.9) * light * (uEnergy * 1.5); \n        \n        // Particle effects, now scaled by uTransients. The 'particles' variable is a pattern.\n        // If uTransients is 0, this term adds nothing.\n        waterColor.rgb += vec3(0.6, 0.7, 0.8) * particles * uTransients * 1.5; \n        \n        // Pulse the color on transients\n        if (uTransients > 0.3) {\n            waterColor.rgb += vec3(0.1, 0.2, 0.3) * uTransients;\n        }\n        \n        waterColor *= exp(-s_dist * 0.5 * audioAmplitude);\n        \n        // Accumulate color based on density (volumetric rendering)\n        o += waterColor * 0.3 / d_step;\n\n        if(z_dist > 20.0 || o.a > 0.99) break; // Break if too far or opaque enough for GLSL ES 3.0\n    }\n    \n    // Apply a custom tanh approximation to compress the color range (tanh is not standard in GLSL ES 1.0)\n    // For GLSL ES 3.0, we can use tanh directly if preferred, or keep this approximation.\n    o = o / ( vec4(1.0) + abs(o / 1e2) ); // Approximation: x / (1 + abs(x/C)) - C can be 1e2 or similar\n    o = clamp(o, 0.0, 1.0); // This is the final color of the vortex volume\n\n    // --- New Water Background Implementation ---\n    // Define base background color\n    vec3 baseBgColor = vec3(0.05, 0.2, 0.4); // A deep, slightly cyan blue\n\n    // Calculate caustics using 'uv' (world-space coordinates after zoom) for the background effect\n    // Add small time-based offsets to uv to make caustics drift slowly\n    float causticStrength = causticPattern(uv * 1.5 + vec2(t_anim * 0.01, t_anim * 0.005), t_anim * 0.4);\n\n    vec3 causticBgColor = baseBgColor + vec3(0.1, 0.25, 0.35) * causticStrength; // Caustics add highlights\n\n    // Blend the vortex rendering (o) with the new background.\n    // The background is \"behind\" the vortices.\n    vec4 sceneBackgroundColor = vec4(causticBgColor, 1.0);\n    fragColor = mix(sceneBackgroundColor, o, o.a); // Standard alpha blending\n\n    // Add a general scene fog based on how far the ray traveled\n    // This fog affects the combined scene (vortices + background)\n    float sceneDepthFogFactor = smoothstep(0.0, 1.0, exp(-z_dist * 0.02)); // z_dist from raymarching\n    vec3 fogColor = vec3(0.02, 0.05, 0.1); // Very dark blue fog\n    fragColor.rgb = mix(fogColor, fragColor.rgb, sceneDepthFogFactor);\n\n    // Final clamp to be safe\n    fragColor = clamp(fragColor, 0.0, 1.0);\n    // --- End of New Water Background Implementation ---\n}\n`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (vortexShaderSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL1ZvcnRleFNoYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7OztDQUdDLEdBRUQsTUFBTUEscUJBQXFCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnUTVCLENBQUM7QUFFRCxpRUFBZUEsa0JBQWtCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFrZW11c2ljdmlkZW8vLi91dGlscy9zaGFkZXJzL1ZvcnRleFNoYWRlci5qcz80OGZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVm9ydGV4U2hhZGVyLmpzXG4gKiBFeHBvcnRzIHRoZSB2b3J0ZXggc2hhZGVyIGNvZGUgYXMgYSBzdHJpbmcgZm9yIGRpcmVjdCB1c2UgaW4gSmF2YVNjcmlwdC5cbiAqL1xuXG5jb25zdCB2b3J0ZXhTaGFkZXJTb3VyY2UgPSBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbmluIHZlYzIgdlRleENvb3JkO1xuXG4vLyBDb21tb24gdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XG5cbi8vIEF1ZGlvIHJlYWN0aXZlIHVuaWZvcm1zXG51bmlmb3JtIGZsb2F0IHVFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IHVMb3dFbmVyZ3k7XG51bmlmb3JtIGZsb2F0IHVIaWdoRW5lcmd5O1xudW5pZm9ybSBmbG9hdCB1VHJhbnNpZW50cztcblxub3V0IHZlYzQgZnJhZ0NvbG9yOyAvLyBHTFNMIEVTIDMuMCBvdXRwdXRcblxuLy8gQ29uc3RhbnRzXG4jZGVmaW5lIE1BWF9TVEVQUyAxMDAgLy8gTWF4aW11bSByYXltYXJjaGluZyBzdGVwc1xuI2RlZmluZSBTVEVQX1NDQUxFIDAuMTUgLy8gUmVkdWNlZCBmb3IgZmluZXIgc2FtcGxpbmdcbiNkZWZpbmUgVFVSQl9OVU0gMTAuMCAvLyBUdXJidWxlbmNlIGl0ZXJhdGlvbnMgZm9yIHN3aXJsaW5nIHdhdGVyIGN1cnJlbnRzXG4jZGVmaW5lIFRVUkJfQU1QIDAuNyAvLyBJbmNyZWFzZWQgYW1wbGl0dWRlIGZvciBzdHJvbmdlciB2b3J0ZXggZGlzdG9ydGlvbnNcbiNkZWZpbmUgVFVSQl9GUkVRIDAuOCAvLyBBZGp1c3RlZCBmcmVxdWVuY3kgZm9yIHNtb290aGVyIGN1cnJlbnRzXG4jZGVmaW5lIFRVUkJfU1BFRUQgMC42IC8vIFNsaWdodGx5IGZhc3RlciBhbmltYXRpb24gZm9yIHRoZSB2b3J0ZXggc3dpcmxcbiNkZWZpbmUgVFVSQl9FWFAgMS40IC8vIEluY3JlYXNlZCBmb3IgbW9yZSB2YXJpYXRpb24gaW4gdHVyYnVsZW5jZVxuXG4vLyAyRCByb3RhdGlvbiBtYXRyaXggZnVuY3Rpb25cbm1hdDIgcm90YXRlMkQoZmxvYXQgYW5nbGUpIHtcbiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKSwgYyA9IGNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIG1hdDIoYywgLXMsIHMsIGMpO1xufVxuXG4vLyAzRCByb3RhdGlvbiBtYXRyaXggYXJvdW5kIGFuIGF4aXNcbm1hdDMgcm90YXRlM0QoZmxvYXQgYW5nbGUsIHZlYzMgYXhpcykge1xuICAgIGZsb2F0IHMgPSBzaW4oYW5nbGUpLCBjID0gY29zKGFuZ2xlKSwgaWMgPSAxLjAgLSBjO1xuICAgIHZlYzMgbiA9IG5vcm1hbGl6ZShheGlzKTtcbiAgICBmbG9hdCB4ID0gbi54LCB5ID0gbi55LCB6ID0gbi56O1xuICAgIHJldHVybiBtYXQzKFxuICAgICAgICBpYyAqIHggKiB4ICsgYywgaWMgKiB4ICogeSAtIHogKiBzLCBpYyAqIHggKiB6ICsgeSAqIHMsXG4gICAgICAgIGljICogeCAqIHkgKyB6ICogcywgaWMgKiB5ICogeSArIGMsIGljICogeSAqIHogLSB4ICogcyxcbiAgICAgICAgaWMgKiB4ICogeiAtIHkgKiBzLCBpYyAqIHkgKiB6ICsgeCAqIHMsIGljICogeiAqIHogKyBjXG4gICAgKTtcbn1cblxuLy8gU2ltcGxlIG5vaXNlIGZ1bmN0aW9uIGZvciBwYXJ0aWN1bGF0ZSBtYXR0ZXIgKGJ1YmJsZXMgYW5kIGRlYnJpcylcbmZsb2F0IGhhc2godmVjMyBwKSB7XG4gICAgcCA9IGZyYWN0KHAgKiAwLjMxODMwOTkgKyAwLjEpO1xuICAgIHJldHVybiBmcmFjdChwLnggKiBwLnkgKiBwLnogKiAocC54ICsgcC55ICsgcC56KSk7XG59XG5cbmZsb2F0IG5vaXNlKHZlYzMgcCkge1xuICAgIHZlYzMgaSA9IGZsb29yKHApO1xuICAgIHZlYzMgZiA9IGZyYWN0KHApO1xuICAgIHZlYzMgdSA9IGYgKiBmICogKDMuMCAtIDIuMCAqIGYpO1xuICAgIHJldHVybiBtaXgobWl4KG1peChoYXNoKGkgKyB2ZWMzKDAuMCwgMC4wLCAwLjApKSwgaGFzaChpICsgdmVjMygxLjAsIDAuMCwgMC4wKSksIHUueCksXG4gICAgICAgICAgICAgICAgICAgbWl4KGhhc2goaSArIHZlYzMoMC4wLCAxLjAsIDAuMCkpLCBoYXNoKGkgKyB2ZWMzKDEuMCwgMS4wLCAwLjApKSwgdS54KSwgdS55KSxcbiAgICAgICAgICAgICAgIG1peChtaXgoaGFzaChpICsgdmVjMygwLjAsIDAuMCwgMS4wKSksIGhhc2goaSArIHZlYzMoMS4wLCAwLjAsIDEuMCkpLCB1LngpLFxuICAgICAgICAgICAgICAgICAgIG1peChoYXNoKGkgKyB2ZWMzKDAuMCwgMS4wLCAxLjApKSwgaGFzaChpICsgdmVjMygxLjAsIDEuMCwgMS4wKSksIHUueCksIHUueSksIHUueik7XG59XG5cbi8vIEJhc2ljIGNhdXN0aWMgbGlnaHQgcGF0dGVybiBmdW5jdGlvblxuZmxvYXQgY2F1c3RpY1BhdHRlcm4odmVjMiBwX2NhdXN0aWMsIGZsb2F0IHRfY2F1c3RpYykge1xuICAgIHZlYzIgcDFfYyA9IHBfY2F1c3RpYyArIHZlYzIoc2luKHRfY2F1c3RpYyAqIDAuMjIpLCBjb3ModF9jYXVzdGljICogMC4zMykpICogMC4yNTtcbiAgICB2ZWMyIHAyX2MgPSBwX2NhdXN0aWMgKyB2ZWMyKGNvcyh0X2NhdXN0aWMgKiAwLjI3KSwgc2luKHRfY2F1c3RpYyAqIDAuMzgpKSAqIDAuMzU7XG4gICAgZmxvYXQgbjFfYyA9IG5vaXNlKHZlYzMocDFfYyAqIDMuNSwgdF9jYXVzdGljICogMC4xMSkpO1xuICAgIGZsb2F0IG4yX2MgPSBub2lzZSh2ZWMzKHAyX2MgKiA1LjUsIHRfY2F1c3RpYyAqIDAuMTYpKTtcbiAgICBmbG9hdCBuM19jID0gbm9pc2UodmVjMyhwX2NhdXN0aWMgKiA3LjUsIHRfY2F1c3RpYyAqIDAuMjEpKTtcbiAgICByZXR1cm4gcG93KG1heCgwLjAsIG4xX2MgKiAwLjUgKyBuMl9jICogMC4zNSArIG4zX2MgKiAwLjE1IC0gMC40KSwgMy4wKSAqIDMuMDtcbn1cblxuLy8gRnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgdm9ydGV4IHNoYXBlIGF0IGEgZ2l2ZW4gY2VudGVyIHBvc2l0aW9uXG5mbG9hdCB2b3J0ZXhTaGFwZSh2ZWMzIHAsIHZlYzMgY2VudGVyLCBmbG9hdCB0LCBmbG9hdCBzcGVlZE9mZnNldCkge1xuICAgIC8vIEFkanVzdCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgdm9ydGV4IGNlbnRlclxuICAgIHZlYzMgcSA9IHAgLSBjZW50ZXI7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgdm9ydGV4IGVmZmVjdCBieSByb3RhdGluZyB0aGUgcG9zaXRpb24gYXJvdW5kIHRoZSB5LWF4aXNcbiAgICBmbG9hdCB2b3J0ZXhBbmdsZSA9IGxlbmd0aChxLnh6KSAqIDAuOCAtIHQgKiAoVFVSQl9TUEVFRCArIHNwZWVkT2Zmc2V0KTtcbiAgICBxLnh6ICo9IHJvdGF0ZTJEKHZvcnRleEFuZ2xlKTtcbiAgICBcbiAgICAvLyBUdXJidWxlbmNlIGxvb3AgZm9yIHdhdGVyIGN1cnJlbnRzIHdpdGggZml4ZWQgaXRlcmF0aW9uc1xuICAgIGZsb2F0IGRfdHVyYiA9IDEuMDsgLy8gUmVuYW1lZCB0byBhdm9pZCBjb25mbGljdCB3aXRoIGRpc3RhbmNlIHZhcmlhYmxlIGQgaW4gb3RoZXIgc2NvcGVzXG4gICAgZmxvYXQgZnJlcSA9IFRVUkJfRlJFUTtcbiAgICBcbiAgICAvLyBVbnJvbGwgdHVyYnVsZW5jZSBsb29wIGZvciBXZWJHTCBjb21wYXRpYmlsaXR5XG4gICAgLy8gSXRlcmF0aW9uIDFcbiAgICBxICs9IFRVUkJfQU1QICogc2luKHEueXp4ICogZnJlcSArIHQgKiAoVFVSQl9TUEVFRCArIHNwZWVkT2Zmc2V0KSkgLyBmcmVxO1xuICAgIHEgKj0gcm90YXRlM0QoZnJlcSAqIDAuMywgdmVjMygwLjUsIDEuMCwgMC4yKSk7XG4gICAgZnJlcSAqPSBUVVJCX0VYUDtcbiAgICBkX3R1cmIgKz0gZF90dXJiO1xuICAgIFxuICAgIC8vIEl0ZXJhdGlvbiAyXG4gICAgcSArPSBUVVJCX0FNUCAqIHNpbihxLnl6eCAqIGZyZXEgKyB0ICogKFRVUkJfU1BFRUQgKyBzcGVlZE9mZnNldCkpIC8gZnJlcTtcbiAgICBxICo9IHJvdGF0ZTNEKGZyZXEgKiAwLjMsIHZlYzMoMC41LCAxLjAsIDAuMikpO1xuICAgIGZyZXEgKj0gVFVSQl9FWFA7XG4gICAgZF90dXJiICs9IGRfdHVyYjtcbiAgICBcbiAgICAvLyBJdGVyYXRpb24gM1xuICAgIHEgKz0gVFVSQl9BTVAgKiBzaW4ocS55enggKiBmcmVxICsgdCAqIChUVVJCX1NQRUVEICsgc3BlZWRPZmZzZXQpKSAvIGZyZXE7XG4gICAgcSAqPSByb3RhdGUzRChmcmVxICogMC4zLCB2ZWMzKDAuNSwgMS4wLCAwLjIpKTtcbiAgICBmcmVxICo9IFRVUkJfRVhQO1xuICAgIGRfdHVyYiArPSBkX3R1cmI7XG4gICAgXG4gICAgLy8gRGVmaW5lIHRoZSB2b3J0ZXggc2hhcGU6IGEgY3lsaW5kcmljYWwgc2hhcGUgd2l0aCBkaXN0b3J0aW9uc1xuICAgIGZsb2F0IHIgPSBsZW5ndGgocS54eik7XG4gICAgZmxvYXQgcyA9IHIgLSAyLjAgKyAwLjcgKiBzaW4ocS55ICogMS41ICsgdCAqIDAuNCk7XG4gICAgcyArPSAwLjUgKiBjb3MocS55ICogMS4wICsgcS56ICogMC43ICsgdCAqIDAuMyk7XG4gICAgcyAqPSAwLjg7XG4gICAgcmV0dXJuIHM7XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgICAvLyBOb3JtYWxpemVkIHBpeGVsIGNvb3JkaW5hdGVzIChmcm9tIDAgdG8gMSwgY2VudGVyZWQpXG4gICAgdmVjMiB1diA9ICh2VGV4Q29vcmQgKiAyLjAgLSAxLjApO1xuICAgIHV2LnggKj0gdVJlc29sdXRpb24ueCAvIHVSZXNvbHV0aW9uLnk7IC8vIEFzcGVjdCByYXRpbyBjb3JyZWN0aW9uXG4gICAgXG4gICAgdmVjNCBvID0gdmVjNCgwLjApOyAvLyBPdXRwdXQgY29sb3JcbiAgICBmbG9hdCB0X2FuaW0gPSB1VGltZTsgLy8gVGltZSBmb3IgYW5pbWF0aW9uIChyZW5hbWVkIGZyb20gdCB0byBhdm9pZCBjb25mbGljdClcbiAgICBcbiAgICAvLyBNYWtlIHRoZSB2b3J0ZXhlcyByZXNwb25kIHRvIGF1ZGlvIC0tIE1PRElGSUVEIEZPUiBDT0xPUiBPTkxZXG4gICAgZmxvYXQgYXVkaW9BbXBsaXR1ZGUgPSAwLjc7IC8vIEZJWEVEIHZhbHVlIC0gQmFzcyBubyBsb25nZXIgYWZmZWN0cyBhbXBsaXR1ZGUgaGVyZVxuICAgIC8vIGZsb2F0IGF1ZGlvU3BlZWQgPSAxLjAgKyAyLjAgKiB1SGlnaEVuZXJneTsgICAgLy8gUkVNT1ZFRDogSGlnaCBmcmVxdWVuY2llcyBhZmZlY3Qgc3BlZWRcbiAgICBmbG9hdCBhdWRpb1NwZWVkID0gMS4wOyAvLyBGSVhFRCB2YWx1ZVxuICAgIC8vIGZsb2F0IGF1ZGlvVHVyYnVsZW5jZSA9IDAuOCArIDEuMCAqIHVFbmVyZ3k7ICAgLy8gUkVNT1ZFRDogT3ZlcmFsbCBlbmVyZ3kgYWZmZWN0cyB0dXJidWxlbmNlXG4gICAgZmxvYXQgYXVkaW9UdXJidWxlbmNlID0gMC44OyAvLyBGSVhFRCB2YWx1ZVxuICAgIC8vIGZsb2F0IGF1ZGlvVHJhbnNpZW50cyA9IHVUcmFuc2llbnRzICogMi4wOyAgICAgLy8gUkVNT1ZFRDogVHJhbnNpZW50cyBjcmVhdGUgcHVsc2VzIChmb3IgdGltZSlcbiAgICBcbiAgICAvLyBBZGQgYXVkaW8tcmVhY3RpdmUgZWZmZWN0cyB0byB0aW1lIC0tIE1PRElGSUVEXG4gICAgLy8gdF9hbmltID0gdF9hbmltICogYXVkaW9TcGVlZCArIGF1ZGlvVHJhbnNpZW50czsgLy8gUkVNT1ZFRCBhdWRpbyBpbmZsdWVuY2Ugb24gdGltZVxuICAgIC8vIHRfYW5pbSBpcyBub3cganVzdCB1VGltZSAob3IgdVRpbWUgKiBmaXhlZF9zcGVlZCBpZiBkZXNpcmVkLCBidXQgYXVkaW9TcGVlZCBpcyAxLjApXG4gICAgXG4gICAgLy8gWm9vbSBpbiBieSBzY2FsaW5nIGRvd24gdGhlIFVWIGNvb3JkaW5hdGVzIChuYXJyb3dlciBGT1YpXG4gICAgZmxvYXQgem9vbSA9IDAuNTsgLy8gU21hbGxlciB2YWx1ZSA9IG1vcmUgem9vbWVkIGluXG4gICAgdXYgKj0gem9vbTtcbiAgICBcbiAgICAvLyBSYXkgc2V0dXA6IG9yaWdpbiBhdCAoMCwwLDApLCBkaXJlY3Rpb24gYmFzZWQgb24gcGl4ZWwgcG9zaXRpb25cbiAgICB2ZWMzIHJheURpciA9IG5vcm1hbGl6ZSh2ZWMzKHV2LCAtNS4wKSk7IC8vIFJheSBkaXJlY3Rpb24gKG5lZ2F0aXZlIHotYXhpcylcbiAgICBcbiAgICAvLyBSb3RhdGUgdGhlIHJheSBzbGlnaHRseSBkb3dud2FyZCB0byBmcmFtZSB0aGUgdm9ydGV4XG4gICAgcmF5RGlyLnl6ICo9IHJvdGF0ZTJEKDUuMCk7XG4gICAgXG4gICAgLy8gQWRkIHN1YnRsZSBjYW1lcmEgbW92ZW1lbnQgYmFzZWQgb24gZW5lcmd5IC0tIFJFTU9WRURcbiAgICAvLyByYXlEaXIueHkgKj0gcm90YXRlMkQoc2luKHRfYW5pbSAqIDAuMSkgKiAwLjA1ICogdUVuZXJneSk7XG4gICAgXG4gICAgLy8gUmF5bWFyY2hpbmcgbG9vcCAoMTAwIGl0ZXJhdGlvbnMpXG4gICAgZmxvYXQgel9kaXN0ID0gMC4wOyAvLyBEaXN0YW5jZSBhbG9uZyB0aGUgcmF5IChyZW5hbWVkIGZyb20geiB0byBhdm9pZCBjb25mbGljdClcbiAgICAvLyBGaXhlZCBsb29wIGl0ZXJhdGlvbiBmb3IgV2ViR0wgY29tcGF0aWJpbGl0eVxuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTUFYX1NURVBTOyBpKyspIHsgLy8gVXNlIE1BWF9TVEVQUyBkZWZpbmVcbiAgICAgICAgLy8gQ3VycmVudCBwb3NpdGlvbiBhbG9uZyB0aGUgcmF5XG4gICAgICAgIHZlYzMgcCA9IHpfZGlzdCAqIHJheURpcjtcbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IHRpbWUtYmFzZWQgYW5pbWF0aW9uIGZvciB0aGUgc2NlbmUgbW90aW9uXG4gICAgICAgIHAueiArPSB0X2FuaW0gKiAwLjM7XG4gICAgICAgIFxuICAgICAgICAvLyBEZWZpbmUgbXVsdGlwbGUgdm9ydGV4IGNlbnRlcnMgdGhhdCBtb3ZlIHdpdGggYXVkaW8gLS0gTU9ESUZJRURcbiAgICAgICAgdmVjMyBjZW50ZXIxID0gdmVjMygwLjAsIDAuMCwgMC4wKTsgLy8gTWFpbiB2b3J0ZXggYXQgdGhlIG9yaWdpblxuICAgICAgICAvLyB2ZWMzIGNlbnRlcjIgPSB2ZWMzKDMuMCArIHNpbih0X2FuaW0gKiAwLjIpICogdUVuZXJneSwgMC4wLCAyLjApOyAvLyBTZWNvbmQgdm9ydGV4IG9mZnNldCB0byB0aGUgcmlnaHRcbiAgICAgICAgdmVjMyBjZW50ZXIyID0gdmVjMygzLjAgKyBzaW4odF9hbmltICogMC4yKSwgMC4wLCAyLjApOyAvLyBSRU1PVkVEIHVFbmVyZ3lcbiAgICAgICAgLy8gdmVjMyBjZW50ZXIzID0gdmVjMygtMy4wIC0gY29zKHRfYW5pbSAqIDAuMykgKiB1RW5lcmd5LCAwLjAsIDEuMCk7IC8vIFRoaXJkIHZvcnRleCBvZmZzZXQgdG8gdGhlIGxlZnRcbiAgICAgICAgdmVjMyBjZW50ZXIzID0gdmVjMygtMy4wIC0gY29zKHRfYW5pbSAqIDAuMyksIDAuMCwgMS4wKTsgLy8gUkVNT1ZFRCB1RW5lcmd5XG4gICAgICAgIC8vIHZlYzMgY2VudGVyNCA9IHZlYzMoMC4wLCAwLjAsIC00LjAgKyBzaW4odF9hbmltICogMC4xNSkgKiB1TG93RW5lcmd5ICogMi4wKTsgLy8gRm91cnRoIHZvcnRleCBmdXJ0aGVyIGJhY2tcbiAgICAgICAgdmVjMyBjZW50ZXI0ID0gdmVjMygwLjAsIDAuMCwgLTQuMCArIHNpbih0X2FuaW0gKiAwLjE1KSAqIDIuMCk7IC8vIFJFTU9WRUQgdUxvd0VuZXJneVxuICAgICAgICBcbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgZGlzdGFuY2UgdG8gZWFjaCB2b3J0ZXggYW5kIHRha2UgdGhlIG1pbmltdW1cbiAgICAgICAgZmxvYXQgczEgPSB2b3J0ZXhTaGFwZShwLCBjZW50ZXIxLCB0X2FuaW0sIDAuMCk7XG4gICAgICAgIC8vIGZsb2F0IHMyID0gdm9ydGV4U2hhcGUocCwgY2VudGVyMiwgdF9hbmltLCAwLjEgKiBhdWRpb1NwZWVkKTsgLy8gYXVkaW9TcGVlZCBpcyBub3cgMS4wXG4gICAgICAgIGZsb2F0IHMyID0gdm9ydGV4U2hhcGUocCwgY2VudGVyMiwgdF9hbmltLCAwLjEpO1xuICAgICAgICAvLyBmbG9hdCBzMyA9IHZvcnRleFNoYXBlKHAsIGNlbnRlcjMsIHRfYW5pbSwgLTAuMDUgKiBhdWRpb1NwZWVkKTsgLy8gYXVkaW9TcGVlZCBpcyBub3cgMS4wXG4gICAgICAgIGZsb2F0IHMzID0gdm9ydGV4U2hhcGUocCwgY2VudGVyMywgdF9hbmltLCAtMC4wNSk7XG4gICAgICAgIC8vIGZsb2F0IHM0ID0gdm9ydGV4U2hhcGUocCwgY2VudGVyNCwgdF9hbmltLCAwLjE1ICogYXVkaW9TcGVlZCk7IC8vIGF1ZGlvU3BlZWQgaXMgbm93IDEuMFxuICAgICAgICBmbG9hdCBzNCA9IHZvcnRleFNoYXBlKHAsIGNlbnRlcjQsIHRfYW5pbSwgMC4xNSk7XG4gICAgICAgIGZsb2F0IHNfZGlzdCA9IG1pbihtaW4oczEsIHMyKSwgbWluKHMzLCBzNCkpOyAvLyBDb21iaW5lIGFsbCB2b3J0ZXhlcyAocmVuYW1lZCBmcm9tIHMpXG4gICAgICAgIFxuICAgICAgICAvLyBSYXltYXJjaGluZyBzdGVwIHNpemUgKHZvbHVtZXRyaWMgZGVuc2l0eSkgLS0gTU9ESUZJRURcbiAgICAgICAgLy8gZmxvYXQgZF9zdGVwID0gU1RFUF9TQ0FMRSAqICgwLjAwNSArIDAuNSAqIG1heChzX2Rpc3QsIC1zX2Rpc3QgKiAwLjMgKiBhdWRpb1R1cmJ1bGVuY2UpKTsgLy8gYXVkaW9UdXJidWxlbmNlIGlzIG5vdyBmaXhlZFxuICAgICAgICBmbG9hdCBkX3N0ZXAgPSBTVEVQX1NDQUxFICogKDAuMDA1ICsgMC41ICogbWF4KHNfZGlzdCwgLXNfZGlzdCAqIDAuMyAqIDAuOCkpOyAvLyBVc2luZyBmaXhlZCBhdWRpb1R1cmJ1bGVuY2UgMC44XG4gICAgICAgIHpfZGlzdCArPSBkX3N0ZXA7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGF0ZSBsaWdodCBzY2F0dGVyaW5nIGZyb20gYWJvdmUgKHNoYWZ0cyBvZiBsaWdodClcbiAgICAgICAgZmxvYXQgbGlnaHQgPSAwLjcgKyAwLjUgKiBjb3MocC54ICogMC43ICsgcC56ICogMC41ICsgdF9hbmltICogMC4yKTtcbiAgICAgICAgbGlnaHQgKj0gZXhwKC16X2Rpc3QgKiAwLjAzKTtcbiAgICAgICAgbGlnaHQgKj0gMS4wIC0gc21vb3Roc3RlcCgwLjAsIDEuMCwgYWJzKHAueSkpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHBhcnRpY3VsYXRlIG1hdHRlciAoYnViYmxlcyBhbmQgZGVicmlzKSB1c2luZyBub2lzZVxuICAgICAgICBmbG9hdCBwYXJ0aWNsZXMgPSBub2lzZShwICogMy4wICsgdF9hbmltICogMC4yKSAqIDAuNTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZvbHVtZXRyaWMgY29sb3JpbmcgZm9yIHRoZSB1bmRlcndhdGVyIHZvcnRleFxuICAgICAgICB2ZWM0IHdhdGVyQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7IC8vIEluaXRpYWxpemUgd2l0aCBibGFjayBmb3IgY29sb3IgdG8gYmUgcHVyZWx5IGF1ZGlvLWRyaXZlblxuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGF1ZGlvIHJlYWN0aXZpdHkgdG8gdGhlIGNvbG9yXG4gICAgICAgIC8vIFNoaWZ0IGJhc2UgY29sb3IgaHVlIHdpdGggb3ZlcmFsbCBlbmVyZ3kuIElmIHVFbmVyZ3kgaXMgMCwgbWl4X2ZhY3RvciBpcyAwLCBjb2xvciByZW1haW5zIGJsYWNrLlxuICAgICAgICB3YXRlckNvbG9yLnJnYiA9IG1peCh3YXRlckNvbG9yLnJnYiwgdmVjMygwLjYsIDAuMiwgMC40KSwgc21vb3Roc3RlcCgwLjAsIDEuMCwgdUVuZXJneSkpOyBcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBsb3cgZW5lcmd5IChiYXNzKSBpbmZsdWVuY2UgLSBtb3JlIHJlZC9vcmFuZ2VcbiAgICAgICAgd2F0ZXJDb2xvci5yZ2IgKz0gdmVjMygwLjQgKiB1TG93RW5lcmd5LCAwLjEgKiB1TG93RW5lcmd5LCAwLjApO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGhpZ2ggZW5lcmd5ICh0cmVibGUpIGluZmx1ZW5jZSAtIG1vcmUgZ3JlZW4vYmx1ZVxuICAgICAgICB3YXRlckNvbG9yLnJnYiArPSB2ZWMzKDAuMCwgMC4yICogdUhpZ2hFbmVyZ3ksIDAuMyAqIHVIaWdoRW5lcmd5KTtcblxuICAgICAgICAvLyBNb2R1bGF0ZSBicmlnaHRuZXNzIHdpdGggb3ZlcmFsbCBlbmVyZ3kuIElmIHJnYiBpcyBibGFjayBhbmQgdUVuZXJneSBpcyAwLCBzdGF5cyBibGFjay5cbiAgICAgICAgd2F0ZXJDb2xvci5yZ2IgKj0gKDAuNyArIDAuNiAqIHVFbmVyZ3kpOyBcblxuICAgICAgICAvLyBDb2xvciBzaGlmdCBiYXNlZCBvbiBoaWdoIGVuZXJneSwgbm93IGZ1bGx5IHNjYWxlZCBieSB1SGlnaEVuZXJneVxuICAgICAgICBmbG9hdCBjb2xvclNoaWZ0ID0gMC4yICsgMC44ICogdUhpZ2hFbmVyZ3k7IFxuICAgICAgICAvLyBJZiB1SGlnaEVuZXJneSBpcyAwLCBjb2xvclNoaWZ0IGlzIDAuMiwgYnV0IHRoZSB0ZXJtIGlzIG11bHRpcGxpZWQgYnkgdUhpZ2hFbmVyZ3kgKDApLCBzbyBhZGRzIG5vdGhpbmcuXG4gICAgICAgIHdhdGVyQ29sb3IucmdiICs9IHZlYzMoMC4wLCAwLjEgKiBjb2xvclNoaWZ0LCAwLjA1ICogY29sb3JTaGlmdCkgKiBzaW4oc19kaXN0ICogMy4wICsgdF9hbmltICogMC4zKSAqIHVIaWdoRW5lcmd5O1xuXG4gICAgICAgIC8vIExpZ2h0aW5nIGVmZmVjdHMsIG5vdyBzY2FsZWQgYnkgdUVuZXJneS4gVGhlICdsaWdodCcgdmFyaWFibGUgaXMgYSBwYXR0ZXJuLlxuICAgICAgICAvLyBJZiB1RW5lcmd5IGlzIDAsIHRoaXMgdGVybSBhZGRzIG5vdGhpbmcuXG4gICAgICAgIHdhdGVyQ29sb3IucmdiICs9IHZlYzMoMC41LCAwLjcsIDAuOSkgKiBsaWdodCAqICh1RW5lcmd5ICogMS41KTsgXG4gICAgICAgIFxuICAgICAgICAvLyBQYXJ0aWNsZSBlZmZlY3RzLCBub3cgc2NhbGVkIGJ5IHVUcmFuc2llbnRzLiBUaGUgJ3BhcnRpY2xlcycgdmFyaWFibGUgaXMgYSBwYXR0ZXJuLlxuICAgICAgICAvLyBJZiB1VHJhbnNpZW50cyBpcyAwLCB0aGlzIHRlcm0gYWRkcyBub3RoaW5nLlxuICAgICAgICB3YXRlckNvbG9yLnJnYiArPSB2ZWMzKDAuNiwgMC43LCAwLjgpICogcGFydGljbGVzICogdVRyYW5zaWVudHMgKiAxLjU7IFxuICAgICAgICBcbiAgICAgICAgLy8gUHVsc2UgdGhlIGNvbG9yIG9uIHRyYW5zaWVudHNcbiAgICAgICAgaWYgKHVUcmFuc2llbnRzID4gMC4zKSB7XG4gICAgICAgICAgICB3YXRlckNvbG9yLnJnYiArPSB2ZWMzKDAuMSwgMC4yLCAwLjMpICogdVRyYW5zaWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHdhdGVyQ29sb3IgKj0gZXhwKC1zX2Rpc3QgKiAwLjUgKiBhdWRpb0FtcGxpdHVkZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBY2N1bXVsYXRlIGNvbG9yIGJhc2VkIG9uIGRlbnNpdHkgKHZvbHVtZXRyaWMgcmVuZGVyaW5nKVxuICAgICAgICBvICs9IHdhdGVyQ29sb3IgKiAwLjMgLyBkX3N0ZXA7XG5cbiAgICAgICAgaWYoel9kaXN0ID4gMjAuMCB8fCBvLmEgPiAwLjk5KSBicmVhazsgLy8gQnJlYWsgaWYgdG9vIGZhciBvciBvcGFxdWUgZW5vdWdoIGZvciBHTFNMIEVTIDMuMFxuICAgIH1cbiAgICBcbiAgICAvLyBBcHBseSBhIGN1c3RvbSB0YW5oIGFwcHJveGltYXRpb24gdG8gY29tcHJlc3MgdGhlIGNvbG9yIHJhbmdlICh0YW5oIGlzIG5vdCBzdGFuZGFyZCBpbiBHTFNMIEVTIDEuMClcbiAgICAvLyBGb3IgR0xTTCBFUyAzLjAsIHdlIGNhbiB1c2UgdGFuaCBkaXJlY3RseSBpZiBwcmVmZXJyZWQsIG9yIGtlZXAgdGhpcyBhcHByb3hpbWF0aW9uLlxuICAgIG8gPSBvIC8gKCB2ZWM0KDEuMCkgKyBhYnMobyAvIDFlMikgKTsgLy8gQXBwcm94aW1hdGlvbjogeCAvICgxICsgYWJzKHgvQykpIC0gQyBjYW4gYmUgMWUyIG9yIHNpbWlsYXJcbiAgICBvID0gY2xhbXAobywgMC4wLCAxLjApOyAvLyBUaGlzIGlzIHRoZSBmaW5hbCBjb2xvciBvZiB0aGUgdm9ydGV4IHZvbHVtZVxuXG4gICAgLy8gLS0tIE5ldyBXYXRlciBCYWNrZ3JvdW5kIEltcGxlbWVudGF0aW9uIC0tLVxuICAgIC8vIERlZmluZSBiYXNlIGJhY2tncm91bmQgY29sb3JcbiAgICB2ZWMzIGJhc2VCZ0NvbG9yID0gdmVjMygwLjA1LCAwLjIsIDAuNCk7IC8vIEEgZGVlcCwgc2xpZ2h0bHkgY3lhbiBibHVlXG5cbiAgICAvLyBDYWxjdWxhdGUgY2F1c3RpY3MgdXNpbmcgJ3V2JyAod29ybGQtc3BhY2UgY29vcmRpbmF0ZXMgYWZ0ZXIgem9vbSkgZm9yIHRoZSBiYWNrZ3JvdW5kIGVmZmVjdFxuICAgIC8vIEFkZCBzbWFsbCB0aW1lLWJhc2VkIG9mZnNldHMgdG8gdXYgdG8gbWFrZSBjYXVzdGljcyBkcmlmdCBzbG93bHlcbiAgICBmbG9hdCBjYXVzdGljU3RyZW5ndGggPSBjYXVzdGljUGF0dGVybih1diAqIDEuNSArIHZlYzIodF9hbmltICogMC4wMSwgdF9hbmltICogMC4wMDUpLCB0X2FuaW0gKiAwLjQpO1xuXG4gICAgdmVjMyBjYXVzdGljQmdDb2xvciA9IGJhc2VCZ0NvbG9yICsgdmVjMygwLjEsIDAuMjUsIDAuMzUpICogY2F1c3RpY1N0cmVuZ3RoOyAvLyBDYXVzdGljcyBhZGQgaGlnaGxpZ2h0c1xuXG4gICAgLy8gQmxlbmQgdGhlIHZvcnRleCByZW5kZXJpbmcgKG8pIHdpdGggdGhlIG5ldyBiYWNrZ3JvdW5kLlxuICAgIC8vIFRoZSBiYWNrZ3JvdW5kIGlzIFwiYmVoaW5kXCIgdGhlIHZvcnRpY2VzLlxuICAgIHZlYzQgc2NlbmVCYWNrZ3JvdW5kQ29sb3IgPSB2ZWM0KGNhdXN0aWNCZ0NvbG9yLCAxLjApO1xuICAgIGZyYWdDb2xvciA9IG1peChzY2VuZUJhY2tncm91bmRDb2xvciwgbywgby5hKTsgLy8gU3RhbmRhcmQgYWxwaGEgYmxlbmRpbmdcblxuICAgIC8vIEFkZCBhIGdlbmVyYWwgc2NlbmUgZm9nIGJhc2VkIG9uIGhvdyBmYXIgdGhlIHJheSB0cmF2ZWxlZFxuICAgIC8vIFRoaXMgZm9nIGFmZmVjdHMgdGhlIGNvbWJpbmVkIHNjZW5lICh2b3J0aWNlcyArIGJhY2tncm91bmQpXG4gICAgZmxvYXQgc2NlbmVEZXB0aEZvZ0ZhY3RvciA9IHNtb290aHN0ZXAoMC4wLCAxLjAsIGV4cCgtel9kaXN0ICogMC4wMikpOyAvLyB6X2Rpc3QgZnJvbSByYXltYXJjaGluZ1xuICAgIHZlYzMgZm9nQ29sb3IgPSB2ZWMzKDAuMDIsIDAuMDUsIDAuMSk7IC8vIFZlcnkgZGFyayBibHVlIGZvZ1xuICAgIGZyYWdDb2xvci5yZ2IgPSBtaXgoZm9nQ29sb3IsIGZyYWdDb2xvci5yZ2IsIHNjZW5lRGVwdGhGb2dGYWN0b3IpO1xuXG4gICAgLy8gRmluYWwgY2xhbXAgdG8gYmUgc2FmZVxuICAgIGZyYWdDb2xvciA9IGNsYW1wKGZyYWdDb2xvciwgMC4wLCAxLjApO1xuICAgIC8vIC0tLSBFbmQgb2YgTmV3IFdhdGVyIEJhY2tncm91bmQgSW1wbGVtZW50YXRpb24gLS0tXG59XG5gO1xuXG5leHBvcnQgZGVmYXVsdCB2b3J0ZXhTaGFkZXJTb3VyY2U7ICJdLCJuYW1lcyI6WyJ2b3J0ZXhTaGFkZXJTb3VyY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/VortexShader.js\n");

/***/ }),

/***/ "./utils/shaders/Waveform.js":
/*!***********************************!*\
  !*** ./utils/shaders/Waveform.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst waveformShaderSrc = `#version 300 es\nprecision highp float;\n\n// Uniforms provided by ShaderVisualizer and AudioShaderSync\nuniform vec2 uResolution; // Canvas resolution (width, height)\nuniform float uTime;     // Elapsed time in seconds\n\n// Audio-reactive uniforms\nuniform float uEnergy;       // Overall audio energy\nuniform float uHighEnergy;   // High frequency energy\nuniform float uTransients;   // Beat detection\n\nout vec4 fragColor;\n\n// ShaderToy compatibility defines\n#define iResolution vec3(uResolution, 1.0)\n#define iTime uTime\n#define iChannelTime vec4(uTime, uTime, uTime, uTime)\n#define iFragCoord gl_FragCoord\n#define iMouse vec4(0.0)\n\n// GLSL-compatible tanh approximation\nvec4 tanhApprox(vec4 x) {\n    vec4 x2 = x * x;\n    return clamp(x * (27.0 + x2) / (27.0 + 9.0 * x2), -1.0, 1.0);\n}\nfloat tanhApprox(float x) {\n    float x2 = x * x;\n    return clamp(x * (27.0 + x2) / (27.0 + 9.0 * x2), -1.0, 1.0);\n}\n\n// Vector max function helper\nvec3 max_vec3(vec3 a, vec3 b) {\n    return max(a, b);\n}\n\n// Automatic variable initialization\n#define AUTO_INIT_FLOAT(name) float name = 0.0\n#define AUTO_INIT_VEC3(name) vec3 name = vec3(0.0)\n#define AUTO_INIT_VEC4(name) vec4 name = vec4(0.0)\n\nfloat simplex_noise(vec3 p) {\n    return 0.0; // Placeholder\n}\n\n#define tanh(x) tanhApprox(x)\n\n// --- Modified ShaderToy Code ---\nvoid mainImage(out vec4 O, vec2 I)\n{\n    // Raymarch iterator, step distance, depth and reflection\n    float i, d, z, r;\n    // Clear fragcolor and raymarch 90 steps\n    for(O *= i; i++ < 9e1;\n        // Pick color and attenuate with dramatic energy-based boost and color shift\n        O += (cos(z * 0.5 + iTime + vec4(0, 2, 4, 3) + uHighEnergy * 0.5) + 1.3) / d / z * \n             (1.0 + uEnergy * 0.2 + uTransients * 0.5)) // Amplified color boost with high-energy tint\n    {\n        // Raymarch sample point with pronounced camera shake from transients\n        vec3 p = z * normalize(vec3(I + I, 0) - iResolution.xyy);\n        p.x += uTransients * 0.1 * sin(iTime * 2.0); // Stronger camera shake\n        p.y += uTransients * 0.1 * cos(iTime * 2.0);\n        p *= (1.0 + uEnergy * 0.05); // Subtle zoom effect based on energy\n\n        // Shift camera and get reflection coordinates\n        r = max(-++p, 0.).y;\n        // Mirror\n        p.y += r + r;\n\n        // Sine waves with slight energy influence\n        for(d = 1.; d < 3e1; d += d)\n            p.y += cos(p * d + 2. * iTime * cos(d) + z).x / d * \n                   (1.0 + uHighEnergy * 0.1); // High-energy wave amplification\n\n        // Step forward with pronounced transient-based distortion\n        z += d = (.1 * r + abs(p.y - 1.) / (++r * r) + max(d = p.z + 3., -d * .1)) / 8. *\n                 (1.0 + uTransients * 0.2); // Stronger step size variation\n    }\n    // Tanh tonemapping with stronger energy influence\n    O = tanh(O / (9e2 * (1.0 - uHighEnergy * 0.1)));\n}\n// --- End Modified ShaderToy Code ---\n\nvoid main() {\n    vec4 color = vec4(0.0, 0.0, 0.0, 1.0);\n    mainImage(color, gl_FragCoord.xy);\n    fragColor = vec4(color.rgb, 1.0);\n}`;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (waveformShaderSrc);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9zaGFkZXJzL1dhdmVmb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxvQkFBb0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBdUYxQixDQUFDO0FBRUYsaUVBQWVBLGlCQUFpQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ha2VtdXNpY3ZpZGVvLy4vdXRpbHMvc2hhZGVycy9XYXZlZm9ybS5qcz8yODZjIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHdhdmVmb3JtU2hhZGVyU3JjID0gYCN2ZXJzaW9uIDMwMCBlc1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4vLyBVbmlmb3JtcyBwcm92aWRlZCBieSBTaGFkZXJWaXN1YWxpemVyIGFuZCBBdWRpb1NoYWRlclN5bmNcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjsgLy8gQ2FudmFzIHJlc29sdXRpb24gKHdpZHRoLCBoZWlnaHQpXG51bmlmb3JtIGZsb2F0IHVUaW1lOyAgICAgLy8gRWxhcHNlZCB0aW1lIGluIHNlY29uZHNcblxuLy8gQXVkaW8tcmVhY3RpdmUgdW5pZm9ybXNcbnVuaWZvcm0gZmxvYXQgdUVuZXJneTsgICAgICAgLy8gT3ZlcmFsbCBhdWRpbyBlbmVyZ3lcbnVuaWZvcm0gZmxvYXQgdUhpZ2hFbmVyZ3k7ICAgLy8gSGlnaCBmcmVxdWVuY3kgZW5lcmd5XG51bmlmb3JtIGZsb2F0IHVUcmFuc2llbnRzOyAgIC8vIEJlYXQgZGV0ZWN0aW9uXG5cbm91dCB2ZWM0IGZyYWdDb2xvcjtcblxuLy8gU2hhZGVyVG95IGNvbXBhdGliaWxpdHkgZGVmaW5lc1xuI2RlZmluZSBpUmVzb2x1dGlvbiB2ZWMzKHVSZXNvbHV0aW9uLCAxLjApXG4jZGVmaW5lIGlUaW1lIHVUaW1lXG4jZGVmaW5lIGlDaGFubmVsVGltZSB2ZWM0KHVUaW1lLCB1VGltZSwgdVRpbWUsIHVUaW1lKVxuI2RlZmluZSBpRnJhZ0Nvb3JkIGdsX0ZyYWdDb29yZFxuI2RlZmluZSBpTW91c2UgdmVjNCgwLjApXG5cbi8vIEdMU0wtY29tcGF0aWJsZSB0YW5oIGFwcHJveGltYXRpb25cbnZlYzQgdGFuaEFwcHJveCh2ZWM0IHgpIHtcbiAgICB2ZWM0IHgyID0geCAqIHg7XG4gICAgcmV0dXJuIGNsYW1wKHggKiAoMjcuMCArIHgyKSAvICgyNy4wICsgOS4wICogeDIpLCAtMS4wLCAxLjApO1xufVxuZmxvYXQgdGFuaEFwcHJveChmbG9hdCB4KSB7XG4gICAgZmxvYXQgeDIgPSB4ICogeDtcbiAgICByZXR1cm4gY2xhbXAoeCAqICgyNy4wICsgeDIpIC8gKDI3LjAgKyA5LjAgKiB4MiksIC0xLjAsIDEuMCk7XG59XG5cbi8vIFZlY3RvciBtYXggZnVuY3Rpb24gaGVscGVyXG52ZWMzIG1heF92ZWMzKHZlYzMgYSwgdmVjMyBiKSB7XG4gICAgcmV0dXJuIG1heChhLCBiKTtcbn1cblxuLy8gQXV0b21hdGljIHZhcmlhYmxlIGluaXRpYWxpemF0aW9uXG4jZGVmaW5lIEFVVE9fSU5JVF9GTE9BVChuYW1lKSBmbG9hdCBuYW1lID0gMC4wXG4jZGVmaW5lIEFVVE9fSU5JVF9WRUMzKG5hbWUpIHZlYzMgbmFtZSA9IHZlYzMoMC4wKVxuI2RlZmluZSBBVVRPX0lOSVRfVkVDNChuYW1lKSB2ZWM0IG5hbWUgPSB2ZWM0KDAuMClcblxuZmxvYXQgc2ltcGxleF9ub2lzZSh2ZWMzIHApIHtcbiAgICByZXR1cm4gMC4wOyAvLyBQbGFjZWhvbGRlclxufVxuXG4jZGVmaW5lIHRhbmgoeCkgdGFuaEFwcHJveCh4KVxuXG4vLyAtLS0gTW9kaWZpZWQgU2hhZGVyVG95IENvZGUgLS0tXG52b2lkIG1haW5JbWFnZShvdXQgdmVjNCBPLCB2ZWMyIEkpXG57XG4gICAgLy8gUmF5bWFyY2ggaXRlcmF0b3IsIHN0ZXAgZGlzdGFuY2UsIGRlcHRoIGFuZCByZWZsZWN0aW9uXG4gICAgZmxvYXQgaSwgZCwgeiwgcjtcbiAgICAvLyBDbGVhciBmcmFnY29sb3IgYW5kIHJheW1hcmNoIDkwIHN0ZXBzXG4gICAgZm9yKE8gKj0gaTsgaSsrIDwgOWUxO1xuICAgICAgICAvLyBQaWNrIGNvbG9yIGFuZCBhdHRlbnVhdGUgd2l0aCBkcmFtYXRpYyBlbmVyZ3ktYmFzZWQgYm9vc3QgYW5kIGNvbG9yIHNoaWZ0XG4gICAgICAgIE8gKz0gKGNvcyh6ICogMC41ICsgaVRpbWUgKyB2ZWM0KDAsIDIsIDQsIDMpICsgdUhpZ2hFbmVyZ3kgKiAwLjUpICsgMS4zKSAvIGQgLyB6ICogXG4gICAgICAgICAgICAgKDEuMCArIHVFbmVyZ3kgKiAwLjIgKyB1VHJhbnNpZW50cyAqIDAuNSkpIC8vIEFtcGxpZmllZCBjb2xvciBib29zdCB3aXRoIGhpZ2gtZW5lcmd5IHRpbnRcbiAgICB7XG4gICAgICAgIC8vIFJheW1hcmNoIHNhbXBsZSBwb2ludCB3aXRoIHByb25vdW5jZWQgY2FtZXJhIHNoYWtlIGZyb20gdHJhbnNpZW50c1xuICAgICAgICB2ZWMzIHAgPSB6ICogbm9ybWFsaXplKHZlYzMoSSArIEksIDApIC0gaVJlc29sdXRpb24ueHl5KTtcbiAgICAgICAgcC54ICs9IHVUcmFuc2llbnRzICogMC4xICogc2luKGlUaW1lICogMi4wKTsgLy8gU3Ryb25nZXIgY2FtZXJhIHNoYWtlXG4gICAgICAgIHAueSArPSB1VHJhbnNpZW50cyAqIDAuMSAqIGNvcyhpVGltZSAqIDIuMCk7XG4gICAgICAgIHAgKj0gKDEuMCArIHVFbmVyZ3kgKiAwLjA1KTsgLy8gU3VidGxlIHpvb20gZWZmZWN0IGJhc2VkIG9uIGVuZXJneVxuXG4gICAgICAgIC8vIFNoaWZ0IGNhbWVyYSBhbmQgZ2V0IHJlZmxlY3Rpb24gY29vcmRpbmF0ZXNcbiAgICAgICAgciA9IG1heCgtKytwLCAwLikueTtcbiAgICAgICAgLy8gTWlycm9yXG4gICAgICAgIHAueSArPSByICsgcjtcblxuICAgICAgICAvLyBTaW5lIHdhdmVzIHdpdGggc2xpZ2h0IGVuZXJneSBpbmZsdWVuY2VcbiAgICAgICAgZm9yKGQgPSAxLjsgZCA8IDNlMTsgZCArPSBkKVxuICAgICAgICAgICAgcC55ICs9IGNvcyhwICogZCArIDIuICogaVRpbWUgKiBjb3MoZCkgKyB6KS54IC8gZCAqIFxuICAgICAgICAgICAgICAgICAgICgxLjAgKyB1SGlnaEVuZXJneSAqIDAuMSk7IC8vIEhpZ2gtZW5lcmd5IHdhdmUgYW1wbGlmaWNhdGlvblxuXG4gICAgICAgIC8vIFN0ZXAgZm9yd2FyZCB3aXRoIHByb25vdW5jZWQgdHJhbnNpZW50LWJhc2VkIGRpc3RvcnRpb25cbiAgICAgICAgeiArPSBkID0gKC4xICogciArIGFicyhwLnkgLSAxLikgLyAoKytyICogcikgKyBtYXgoZCA9IHAueiArIDMuLCAtZCAqIC4xKSkgLyA4LiAqXG4gICAgICAgICAgICAgICAgICgxLjAgKyB1VHJhbnNpZW50cyAqIDAuMik7IC8vIFN0cm9uZ2VyIHN0ZXAgc2l6ZSB2YXJpYXRpb25cbiAgICB9XG4gICAgLy8gVGFuaCB0b25lbWFwcGluZyB3aXRoIHN0cm9uZ2VyIGVuZXJneSBpbmZsdWVuY2VcbiAgICBPID0gdGFuaChPIC8gKDllMiAqICgxLjAgLSB1SGlnaEVuZXJneSAqIDAuMSkpKTtcbn1cbi8vIC0tLSBFbmQgTW9kaWZpZWQgU2hhZGVyVG95IENvZGUgLS0tXG5cbnZvaWQgbWFpbigpIHtcbiAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1xuICAgIG1haW5JbWFnZShjb2xvciwgZ2xfRnJhZ0Nvb3JkLnh5KTtcbiAgICBmcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgMS4wKTtcbn1gO1xuXG5leHBvcnQgZGVmYXVsdCB3YXZlZm9ybVNoYWRlclNyYzsiXSwibmFtZXMiOlsid2F2ZWZvcm1TaGFkZXJTcmMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/shaders/Waveform.js\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "meyda":
/*!************************!*\
  !*** external "meyda" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("meyda");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();